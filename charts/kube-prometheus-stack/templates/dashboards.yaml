apiVersion: v1
data:
  cert-manager.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
             }
          ]
       },
       "description": "",
       "editable": true,
       "gnetId": null,
       "graphTooltip": 1,
       "id": 59,
       "iteration": 1616445892702,
       "links": [ ],
       "panels": [
          {
             "datasource": "$datasource",
             "description": "The number of certificates in the ready state.",
             "fieldConfig": {
                "defaults": {
                   "custom": { },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 1
                         }
                      ]
                   }
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "True"
                      },
                      "properties": [
                         {
                            "id": "thresholds",
                            "value": {
                               "mode": "absolute",
                               "steps": [
                                  {
                                     "color": "green",
                                     "value": null
                                  }
                               ]
                            }
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 0
             },
             "id": 2,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": { },
                "textMode": "auto"
             },
             "pluginVersion": "7.4.5",
             "targets": [
                {
                   "expr": "sum by (condition) (certmanager_certificate_ready_status)",
                   "interval": "",
                   "legendFormat": "{{`{{condition}}`}}",
                   "refId": "A"
                }
             ],
             "timeFrom": null,
             "timeShift": null,
             "title": "Certificates Ready",
             "type": "stat"
          },
          {
             "datasource": "$datasource",
             "fieldConfig": {
                "defaults": {
                   "custom": { },
                   "decimals": 1,
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "red",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 604800
                         },
                         {
                            "color": "green",
                            "value": 1209600
                         }
                      ]
                   },
                   "unit": "dtdurations"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 0
             },
             "id": 4,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": { },
                "textMode": "auto"
             },
             "pluginVersion": "7.4.5",
             "targets": [
                {
                   "expr": "min(certmanager_certificate_expiration_timestamp_seconds > 0) - time()",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                },
                {
                   "expr": "vector(1250000)",
                   "hide": true,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "",
                   "refId": "B"
                }
             ],
             "timeFrom": null,
             "timeShift": null,
             "title": "Soonest Cert Expiry",
             "type": "stat"
          },
          {
             "datasource": "$datasource",
             "description": "Status of the certificates. Values are True, False or Unknown.",
             "fieldConfig": {
                "defaults": {
                   "custom": {
                      "align": null,
                      "filterable": false
                   },
                   "mappings": [
                      {
                         "from": "",
                         "id": 0,
                         "operator": "",
                         "text": "Yes",
                         "to": "",
                         "type": 1,
                         "value": ""
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Ready Status"
                      },
                      "properties": [
                         {
                            "id": "custom.width",
                            "value": 100
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Valid Until"
                      },
                      "properties": [
                         {
                            "id": "unit",
                            "value": "dateTimeAsIso"
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Valid Until"
                      },
                      "properties": [
                         {
                            "id": "unit",
                            "value": "dateTimeAsIso"
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 8
             },
             "id": 9,
             "options": {
                "showHeader": true,
                "sortBy": [
                   {
                      "desc": false,
                      "displayName": "Valid Until"
                   }
                ]
             },
             "pluginVersion": "7.4.5",
             "targets": [
                {
                   "expr": "label_join(avg by (name, namespace, condition, exported_namespace) (certmanager_certificate_ready_status == 1), \"namespaced_name\", \"-\", \"namespace\", \"exported_namespace\", \"name\")",
                   "format": "table",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                },
                {
                   "expr": "label_join(avg by (name, namespace, exported_namespace) (certmanager_certificate_expiration_timestamp_seconds) * 1000, \"namespaced_name\", \"-\", \"namespace\", \"exported_namespace\", \"name\")",
                   "format": "table",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "",
                   "refId": "B"
                }
             ],
             "timeFrom": null,
             "timeShift": null,
             "title": "Certificates",
             "transformations": [
                {
                   "id": "seriesToColumns",
                   "options": {
                      "byField": "namespaced_name"
                   }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true,
                         "Time 1": true,
                         "Time 2": true,
                         "Value #A": true,
                         "exported_namespace": false,
                         "exported_namespace 1": false,
                         "exported_namespace 2": true,
                         "name 1": true,
                         "namespace 2": true,
                         "namespaced_name": true
                      },
                      "indexByName": {
                         "Time 1": 8,
                         "Time 2": 10,
                         "Value #A": 6,
                         "Value #B": 5,
                         "condition": 4,
                         "exported_namespace 1": 1,
                         "exported_namespace 2": 11,
                         "name 1": 9,
                         "name 2": 3,
                         "namespace": 0,
                         "namespace 1": 2,
                         "namespaced_name": 7
                      },
                      "renameByName": {
                         "Time 1": "",
                         "Value #B": "Valid Until",
                         "condition": "Ready Status",
                         "exported_namespace": "Certificate Namespace",
                         "exported_namespace 1": "Certificate Namespace",
                         "exported_namespace 2": "",
                         "name": "Certificate",
                         "name 2": "Certificate",
                         "namespace": "Namespace",
                         "namespace 1": "Namespace",
                         "namespaced_name": ""
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "The rate of controller sync requests.",
             "fieldConfig": {
                "defaults": {
                   "custom": { },
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 8
             },
             "hiddenSeries": false,
             "id": 7,
             "interval": "20s",
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "maxDataPoints": 250,
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.4.5",
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum by (controller) (\n  rate(certmanager_controller_sync_call_count[$__rate_interval])\n)",
                   "interval": "",
                   "legendFormat": "{{`{{controller}}`}}",
                   "refId": "A"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Controller Sync Requests/sec",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "reqps",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": "0",
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Rate of requests to ACME provider.",
             "fieldConfig": {
                "defaults": {
                   "custom": { },
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 16
             },
             "hiddenSeries": false,
             "id": 6,
             "interval": "20s",
             "legend": {
                "avg": false,
                "current": false,
                "hideEmpty": true,
                "hideZero": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "maxDataPoints": 250,
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.4.5",
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum by (method, path, status) (\n  rate(certmanager_http_acme_client_request_count[$__rate_interval])\n)",
                   "interval": "",
                   "legendFormat": "{{`{{method}}`}} {{`{{path}}`}} {{`{{status}}`}}",
                   "refId": "A"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "ACME HTTP Requests/sec",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "reqps",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": "0",
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Average duration of requests to ACME provider. ",
             "fieldConfig": {
                "defaults": {
                   "custom": { },
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 16
             },
             "hiddenSeries": false,
             "id": 10,
             "interval": "30s",
             "legend": {
                "avg": false,
                "current": false,
                "hideEmpty": true,
                "hideZero": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "maxDataPoints": 250,
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.4.5",
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum by (method, path, status) (rate(certmanager_http_acme_client_request_duration_seconds_sum[$__rate_interval]))\n/\nsum by (method, path, status) (rate(certmanager_http_acme_client_request_duration_seconds_count[$__rate_interval]))",
                   "interval": "",
                   "legendFormat": "{{`{{method}}`}} {{`{{path}}`}} {{`{{status}}`}}",
                   "refId": "A"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "ACME HTTP Request avg duration",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "s",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": "0",
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": {
                "max": "dark-yellow"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "CPU Usage and limits, as percent of a vCPU core. ",
             "fieldConfig": {
                "defaults": {
                   "custom": { },
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 0,
             "fillGradient": 0,
             "gridPos": {
                "h": 8,
                "w": 6,
                "x": 0,
                "y": 24
             },
             "hiddenSeries": false,
             "id": 12,
             "interval": "1m",
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "maxDataPoints": 250,
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.4.5",
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "CPU",
                   "fill": 1,
                   "fillGradient": 5
                },
                {
                   "alias": "/Request.*/",
                   "color": "#FF9830",
                   "dashes": true
                },
                {
                   "alias": "/Limit.*/",
                   "color": "#F2495C",
                   "dashes": true
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (pod) (rate(container_cpu_usage_seconds_total{container=\"cert-manager\"}[$__rate_interval]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "CPU {{`{{pod}}`}}",
                   "refId": "A"
                },
                {
                   "expr": "avg by (pod) (kube_pod_container_resource_limits_cpu_cores{container=\"cert-manager\"})",
                   "format": "time_series",
                   "hide": true,
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "Limit {{`{{pod}}`}}",
                   "refId": "B"
                },
                {
                   "expr": "avg by (pod) (kube_pod_container_resource_requests_cpu_cores{container=\"cert-manager\"})",
                   "format": "time_series",
                   "hide": true,
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "Request {{`{{pod}}`}}",
                   "refId": "C"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "CPU",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "percentunit",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": "0",
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": {
                "max": "dark-yellow"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Percent of the time that the CPU is being throttled. Higher is badderer. ",
             "fieldConfig": {
                "defaults": {
                   "custom": { },
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 0,
             "fillGradient": 0,
             "gridPos": {
                "h": 8,
                "w": 6,
                "x": 6,
                "y": 24
             },
             "hiddenSeries": false,
             "id": 14,
             "interval": "1m",
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "maxDataPoints": 250,
             "nullPointMode": "connected",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.4.5",
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "/external-dns.*/",
                   "fill": 1,
                   "fillGradient": 5
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (pod) (\n  rate(container_cpu_cfs_throttled_periods_total{container=\"cert-manager\"}[$__rate_interval])\n  /\n  rate(container_cpu_cfs_periods_total{container=\"cert-manager\"}[$__rate_interval])\n)",
                   "format": "time_series",
                   "hide": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "{{`{{pod}}`}}",
                   "refId": "A"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "CPU Throttling",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "percentunit",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": "0",
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": {
                "max": "dark-yellow"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Memory utilisation and limits.",
             "fieldConfig": {
                "defaults": {
                   "custom": { },
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 0,
             "fillGradient": 0,
             "gridPos": {
                "h": 8,
                "w": 6,
                "x": 12,
                "y": 24
             },
             "hiddenSeries": false,
             "id": 16,
             "interval": "1m",
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "maxDataPoints": 250,
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.4.5",
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "Memory",
                   "fill": 1,
                   "fillGradient": 5
                },
                {
                   "alias": "Request",
                   "color": "#FF9830",
                   "dashes": true
                },
                {
                   "alias": "Limit",
                   "color": "#F2495C",
                   "dashes": true
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (pod) (container_memory_usage_bytes{container=\"cert-manager\"})",
                   "format": "time_series",
                   "hide": false,
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "Memory {{`{{pod}}`}}",
                   "refId": "A"
                },
                {
                   "expr": "avg by (pod) (kube_pod_container_resource_limits_memory_bytes{container=\"cert-manager\"})",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "Limit {{`{{pod}}`}}",
                   "refId": "B"
                },
                {
                   "expr": "avg by (pod) (kube_pod_container_resource_requests_memory_bytes{container=\"cert-manager\"})",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "Request {{`{{pod}}`}}",
                   "refId": "C"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Memory",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "bytes",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": "0",
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": {
                "max": "dark-yellow"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Network ingress/egress.",
             "fieldConfig": {
                "defaults": {
                   "custom": { },
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 5,
             "gridPos": {
                "h": 8,
                "w": 6,
                "x": 18,
                "y": 24
             },
             "hiddenSeries": false,
             "id": 18,
             "interval": "1m",
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.4.5",
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "transmit",
                   "transform": "negative-Y"
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg(\n  sum without (interface) (\n    rate(container_network_receive_bytes_total{namespace=\"cert-manager\"}[$__rate_interval])\n  )\n)",
                   "format": "time_series",
                   "hide": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "receive",
                   "refId": "A"
                },
                {
                   "expr": "avg(\n  sum without (interface) (\n    rate(container_network_transmit_bytes_total{namespace=\"cert-manager\"}[$__rate_interval])\n  )\n)",
                   "format": "time_series",
                   "hide": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "transmit",
                   "refId": "B"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Network",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "Bps",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          }
       ],
       "refresh": "1m",
       "schemaVersion": 27,
       "style": "dark",
       "tags": [
          "cert-manager",
          "infra"
       ],
       "templating": {
          "list": [
             {
                "current": {
                   "selected": false,
                   "text": "prometheus",
                   "value": "prometheus"
                },
                "description": null,
                "error": null,
                "hide": 0,
                "includeAll": false,
                "label": "Data Source",
                "multi": false,
                "name": "datasource",
                "options": [ ],
                "query": "prometheus",
                "queryValue": "",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "type": "datasource"
             }
          ]
       },
       "time": {
          "from": "now-24h",
          "to": "now"
       },
       "timepicker": {
          "refresh_intervals": [
             "10s",
             "30s",
             "1m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ]
       },
       "timezone": "",
       "title": "Cert Manager",
       "uid": "TvuRo2iMk",
       "version": 1
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: cert-manager-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  collections_overview.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": {
                   "type": "datasource",
                   "uid": "grafana"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "target": {
                   "limit": 100,
                   "matchAny": false,
                   "tags": [ ],
                   "type": "dashboard"
                },
                "type": "dashboard"
             },
             {
                "datasource": {
                   "type": "datasource",
                   "uid": "grafana"
                },
                "enable": true,
                "iconColor": "orange",
                "name": "PMM Annotations",
                "target": {
                   "limit": 100,
                   "matchAny": false,
                   "tags": [
                      "pmm_annotation"
                   ],
                   "type": "tags"
                }
             }
          ]
       },
       "editable": false,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 1,
       "id": null,
       "links": [
          {
             "icon": "doc",
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "Home"
             ],
             "targetBlank": false,
             "title": "Home",
             "type": "link",
             "url": "/graph/d/pmm-home/home-dashboard"
          },
          {
             "icon": "dashboard",
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "Query Analytics"
             ],
             "targetBlank": false,
             "title": "Query Analytics",
             "type": "link",
             "url": "/graph/d/pmm-qan/pmm-query-analytics"
          },
          {
             "icon": "bolt",
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "Compare"
             ],
             "targetBlank": false,
             "title": "Compare",
             "type": "link",
             "url": "/graph/d/mongodb-instance-compare/mongodb-instances-compare"
          },
          {
             "asDropdown": true,
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "MongoDB"
             ],
             "targetBlank": false,
             "title": "MongoDB",
             "type": "dashboards"
          },
          {
             "asDropdown": true,
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "MongoDB_HA"
             ],
             "targetBlank": false,
             "title": "HA",
             "type": "dashboards"
          },
          {
             "asDropdown": true,
             "includeVars": false,
             "keepTime": true,
             "tags": [
                "Services"
             ],
             "targetBlank": false,
             "title": "Services",
             "type": "dashboards"
          },
          {
             "asDropdown": true,
             "includeVars": false,
             "keepTime": true,
             "tags": [
                "PMM"
             ],
             "targetBlank": false,
             "title": "PMM",
             "type": "dashboards"
          }
       ],
       "liveNow": false,
       "panels": [
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
             },
             "id": 29,
             "panels": [ ],
             "title": "Datasize",
             "type": "row"
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "decimals": 2,
             "description": "Provides the names and sizes of the 5 largest databases in an instance/cluster. Data showing only from Primary node in replica set.",
             "editable": true,
             "error": false,
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 1
             },
             "hiddenSeries": false,
             "id": 31,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "9.2.20",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "repeatDirection": "h",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "exemplar": true,
                   "expr": "avg by (database) (topk(5, mongodb_dbstats_dataSize{rs_state=\"1\",cluster=~\"$cluster\"})/1024/1024)",
                   "interval": "$interval",
                   "legendFormat": "{{`{{database}}`}}",
                   "refId": "A"
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Top 5 Databases By Size",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "ms",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "decmbytes",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "description": "Provides the number of collections in the selected databases",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 12,
                "x": 0,
                "y": 9
             },
             "id": 33,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 24
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.2.20",
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "count(mongodb_top_commands_time{database=~\"$database\",instance=~\"$instance\"})",
                   "interval": "$interval",
                   "legendFormat": "",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "Collections in Database ($database)",
             "type": "stat"
          },
          {
             "description": "Provides the number of indexes in the selected databases",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 12,
                "x": 12,
                "y": 9
             },
             "id": 35,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 24
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.2.20",
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "sum(mongodb_dbstats_indexes{database=~\"$database\",instance=~\"$instance\"})",
                   "interval": "$interval",
                   "legendFormat": "",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "Indexes in Database ($database)",
             "type": "stat"
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Average size of each document in bytes. dataSize divided by number of documents",
             "editable": true,
             "error": false,
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 12
             },
             "hiddenSeries": false,
             "id": 37,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "9.2.20",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "repeatDirection": "h",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "sum(mongodb_dbstats_avgObjSize{ instance=~\"$instance\", database=~\"$database\"})",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{database}}`}}",
                   "range": true,
                   "refId": "A",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Avg Object Size in Database ($database)",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "ms",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "decmbytes",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Total size of all indexes in a given database",
             "editable": true,
             "error": false,
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 20
             },
             "hiddenSeries": false,
             "id": 39,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "9.2.20",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "repeatDirection": "h",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "sum(mongodb_dbstats_indexSize{database=~\"$database\", instance=~\"$instance\"})",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{database}}`}}",
                   "range": true,
                   "refId": "A",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Index Size in Database ($database)",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "ms",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "decmbytes",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Total size of uncompressed data in a database in bytes. May be larger than storageSize due to WT compression. ",
             "editable": true,
             "error": false,
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 28
             },
             "hiddenSeries": false,
             "id": 41,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "9.2.20",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "repeatDirection": "h",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "sum(mongodb_dbstats_dataSize{database=~\"$database\",instance=~\"$instance\"})",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{database}}`}}",
                   "range": true,
                   "refId": "A",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Data Size for Database ($database)",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "ms",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "decmbytes",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "collapsed": false,
             "datasource": "$datasource",
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 36
             },
             "id": 16,
             "panels": [ ],
             "targets": [
                {
                   "datasource": "Metrics",
                   "refId": "A"
                }
             ],
             "title": "Instance Level",
             "type": "row"
          },
          {
             "description": "Show summary information on the top 5 collections that are most frequently read.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "auto",
                      "displayMode": "auto",
                      "filterable": false,
                      "inspect": false
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green"
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "Read"
                         },
                         {
                            "id": "unit",
                            "value": "none"
                         },
                         {
                            "id": "custom.align"
                         },
                         {
                            "id": "custom.displayMode",
                            "value": "auto"
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 0,
                "y": 37
             },
             "id": 3,
             "links": [ ],
             "options": {
                "footer": {
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": false
                },
                "showHeader": true
             },
             "pluginVersion": "9.2.20",
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "topk (5,sum by (database, collection) (mongodb_top_queries_count{database =~ \"$database\",instance=~\"$instance\"}))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "",
                   "refId": "A",
                   "step": 10
                }
             ],
             "title": "Top 5 Hottest Collections by Read  (Total)",
             "transformations": [
                {
                   "id": "filterFieldsByName",
                   "options": {
                      "include": {
                         "names": [
                            "Value",
                            "database",
                            "collection"
                         ]
                      }
                   }
                },
                {
                   "id": "renameByRegex",
                   "options": {
                      "regex": "(.*)",
                      "renamePattern": "$1"
                   }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": { },
                      "indexByName": {
                         "Value": 2,
                         "collection": 1,
                         "database": 0
                      },
                      "renameByName": { }
                   }
                }
             ],
             "type": "table"
          },
          {
             "description": "Show summary information on the top 5 collections that are most frequently written to (insert, update, delete, etc.).",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "auto",
                      "displayMode": "auto",
                      "filterable": false,
                      "inspect": false
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green"
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Time"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "Time"
                         },
                         {
                            "id": "custom.align"
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "Write"
                         },
                         {
                            "id": "unit",
                            "value": "string"
                         },
                         {
                            "id": "custom.align"
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 12,
                "y": 37
             },
             "id": 19,
             "links": [ ],
             "options": {
                "footer": {
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": false
                },
                "showHeader": true,
                "sortBy": [
                   {
                      "desc": true,
                      "displayName": "Write"
                   }
                ]
             },
             "pluginVersion": "9.2.20",
             "repeatDirection": "v",
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "topk(5,sum by (database,collection) (mongodb_top_insert_count{database =~ \"$database\",instance=~\"$instance\"})+sum by (database,collection) (mongodb_top_insert_count{database =~ \"$database\",instance=~\"$instance\"})+sum by (database,collection) (mongodb_top_remove_count{database =~ \"$database\",instance=~\"$instance\"})+sum by (database,collection) (mongodb_top_update_count{database =~ \"$database\",instance=~\"$instance\"}))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "",
                   "refId": "A",
                   "step": 10
                }
             ],
             "title": "Top 5 Hottest Collections by Write (Total)",
             "transformations": [
                {
                   "id": "filterFieldsByName",
                   "options": {
                      "include": {
                         "names": [
                            "collection",
                            "Value",
                            "database"
                         ]
                      }
                   }
                },
                {
                   "id": "merge",
                   "options": {
                      "reducers": [ ]
                   }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": { },
                      "indexByName": {
                         "Value": 2,
                         "collection": 1,
                         "database": 0
                      },
                      "renameByName": { }
                   }
                }
             ],
             "type": "table"
          },
          {
             "description": "Show the 5 collections that are most frequently read.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green"
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 0,
                "y": 44
             },
             "id": 24,
             "links": [ ],
             "options": {
                "displayMode": "gradient",
                "minVizHeight": 10,
                "minVizWidth": 0,
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showUnfilled": true,
                "text": { }
             },
             "pluginVersion": "9.2.20",
             "repeatDirection": "v",
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "topk (5, rate(sum by (environment, cluster, database, collection) (mongodb_top_queries_count{database =~ \"$database\",instance=~\"$instance\"})[$interval]))",
                   "format": "time_series",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{database}}`}}.{{`{{collection}}`}}",
                   "refId": "A",
                   "step": 10
                }
             ],
             "title": "Top 5 Hottest Collections by Read (Rate)",
             "transformations": [ ],
             "type": "bargauge"
          },
          {
             "description": "Show the 5 collections that are most frequently written to (insert, update, delete, etc.).",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green"
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 12,
                "y": 44
             },
             "id": 20,
             "links": [ ],
             "options": {
                "displayMode": "gradient",
                "minVizHeight": 10,
                "minVizWidth": 0,
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showUnfilled": true,
                "text": { }
             },
             "pluginVersion": "9.2.20",
             "repeatDirection": "v",
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "topk (5, rate(sum by (environment, cluster, database, collection) (mongodb_top_insert_count{database =~ \"$database\",instance=~\"$instance\"})+sum by (environment, cluster, database, collection) (mongodb_top_insert_count{database =~ \"$database\",instance=~\"$instance\"})+sum by (environment, cluster, database, collection) (mongodb_top_remove_count{database =~ \"$database\",instance=~\"$instance\"})+sum by (environment, cluster, database, collection) (mongodb_top_update_count{database =~ \"$database\",instance=~\"$instance\"})))",
                   "format": "time_series",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "{{`{{database}}`}}.{{`{{collection}}`}}",
                   "refId": "A",
                   "step": 10
                }
             ],
             "title": "Top 5 Hottest Collections by Write (Rate)",
             "transformations": [ ],
             "type": "bargauge"
          },
          {
             "collapsed": false,
             "datasource": "$datasource",
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 51
             },
             "id": 12,
             "panels": [ ],
             "targets": [
                {
                   "datasource": "Metrics",
                   "refId": "A"
                }
             ],
             "title": "Database Level",
             "type": "row"
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Provides information on the rate of activity against the database then breaks down into activity type over the selected time period",
             "editable": true,
             "error": false,
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 52
             },
             "hiddenSeries": false,
             "id": 8,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "9.2.20",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "repeatDirection": "v",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "rate(sum by (database) (mongodb_top_commands_count{database=~\"$database\",instance=~\"$instance\"}[$interval]))",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "Commands - {{`{{database}}`}}",
                   "refId": "A",
                   "step": 10
                },
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "rate(sum by (database) (mongodb_top_insert_count {database=~\"$database\",instance=~\"$instance\"}[$interval]))",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "Insert - {{`{{database}}`}}",
                   "refId": "B",
                   "step": 10
                },
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "rate(sum by (database) (mongodb_top_update_count {database=~\"$database\", instance=~\"$instance\"}[$interval]))",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "legendFormat": "Update - {{`{{database}}`}}",
                   "refId": "C"
                },
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "rate(sum by (database) (mongodb_top_remove_count {database=~\"$database\", instance=~\"$instance\"}[$interval]))",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "legendFormat": "Remove - {{`{{database}}`}}",
                   "refId": "D"
                },
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "rate(sum by (database) (mongodb_top_getmore_count {database=~\"$database\",instance=~\"$instance\"}[$interval]))",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "Getmore - {{`{{database}}`}}",
                   "range": true,
                   "refId": "E"
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Collections statistics  for $database (rate)",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "ms",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Provides summary information on the activity running against the database then breaks down into activity type over the selected time period",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 60
             },
             "hiddenSeries": false,
             "id": 25,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "9.2.20",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "repeatDirection": "v",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "sum by (database) (mongodb_top_commands_count {database=~\"$database\",instance=~\"$instance\"}[$interval])",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "Commands - {{`{{database}}`}}",
                   "refId": "A",
                   "step": 10
                },
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "sum by (database) (mongodb_top_insert_count {database=~\"$database\",instance=~\"$instance\"}[$interval])",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "Insert - {{`{{database}}`}}",
                   "refId": "B",
                   "step": 10
                },
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "sum by (database) (mongodb_top_update_count {database=~\"$database\",instance=~\"$instance\"}[$interval])",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "legendFormat": "Update - {{`{{database}}`}}",
                   "refId": "C"
                },
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "sum by (database) (mongodb_top_remove_count {database=~\"$database\",instance=~\"$instance\"}[$interval])",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "legendFormat": "Remove - {{`{{database}}`}}",
                   "refId": "D"
                },
                {
                   "datasource": "Metrics",
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "sum by (database) (mongodb_top_getmore_count {database=~\"$database\",instance=~\"$instance\"}[$interval])",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "Getmore - {{`{{database}}`}}",
                   "range": true,
                   "refId": "E"
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Collections statistics  for $database (summary)",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "ms",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "datasource": "$datasource",
             "description": "Provides totals for each activity type hitting a database for collections",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "auto",
                      "displayMode": "auto",
                      "filterable": false,
                      "inspect": false
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green"
                         }
                      ]
                   },
                   "unit": "string"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value #A"
                      },
                      "properties": [
                         {
                            "id": "custom.width"
                         },
                         {
                            "id": "noValue"
                         },
                         {
                            "id": "displayName",
                            "value": "Queries"
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value #B"
                      },
                      "properties": [
                         {
                            "id": "noValue"
                         },
                         {
                            "id": "displayName",
                            "value": "Insert"
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value #C"
                      },
                      "properties": [
                         {
                            "id": "noValue"
                         },
                         {
                            "id": "displayName",
                            "value": "Remove"
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value #D"
                      },
                      "properties": [
                         {
                            "id": "noValue"
                         },
                         {
                            "id": "displayName",
                            "value": "Update"
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value #E"
                      },
                      "properties": [
                         {
                            "id": "noValue"
                         },
                         {
                            "id": "displayName",
                            "value": "Getmore"
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 68
             },
             "id": 27,
             "options": {
                "footer": {
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": false
                },
                "showHeader": true,
                "sortBy": [
                   {
                      "desc": true,
                      "displayName": "Value"
                   }
                ]
             },
             "pluginVersion": "9.2.20",
             "repeat": "database",
             "repeatDirection": "v",
             "targets": [
                {
                   "datasource": "Metrics",
                   "exemplar": false,
                   "expr": "sum by (collection) (mongodb_top_queries_count {database=~\"$database\"})",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                },
                {
                   "datasource": "Metrics",
                   "exemplar": false,
                   "expr": "sum by (collection) (mongodb_top_insert_count {database=~\"$database\"})",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "",
                   "refId": "B"
                },
                {
                   "datasource": "Metrics",
                   "exemplar": false,
                   "expr": "sum by (collection) (mongodb_top_remove_count {database=~\"$database\"})",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "",
                   "refId": "C"
                },
                {
                   "datasource": "Metrics",
                   "exemplar": false,
                   "expr": "sum by (collection) (mongodb_top_update_count {database=~\"$database\"})",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "",
                   "refId": "D"
                },
                {
                   "datasource": "Metrics",
                   "exemplar": false,
                   "expr": "sum by (collection) (mongodb_top_getmore_count {database=~\"$database\"})",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "",
                   "refId": "E"
                }
             ],
             "title": "Collections statistics  $database",
             "transformations": [
                {
                   "id": "merge",
                   "options": { }
                },
                {
                   "id": "filterFieldsByName",
                   "options": {
                      "include": {
                         "names": [
                            "collection",
                            "Value #A",
                            "Value #B",
                            "Value #C",
                            "Value #D",
                            "Value #E"
                         ]
                      }
                   }
                }
             ],
             "type": "table"
          }
       ],
       "refresh": "1m",
       "schemaVersion": 37,
       "style": "dark",
       "tags": [
          "Percona",
          "MongoDB"
       ],
       "templating": {
          "list": [
             {
                "auto": true,
                "auto_count": 200,
                "auto_min": "1s",
                "current": {
                   "selected": false,
                   "text": "auto",
                   "value": "$__auto_interval_interval"
                },
                "hide": 0,
                "label": "Interval",
                "name": "interval",
                "options": [
                   {
                      "selected": true,
                      "text": "auto",
                      "value": "$__auto_interval_interval"
                   },
                   {
                      "selected": false,
                      "text": "1s",
                      "value": "1s"
                   },
                   {
                      "selected": false,
                      "text": "5s",
                      "value": "5s"
                   },
                   {
                      "selected": false,
                      "text": "1m",
                      "value": "1m"
                   },
                   {
                      "selected": false,
                      "text": "5m",
                      "value": "5m"
                   },
                   {
                      "selected": false,
                      "text": "1h",
                      "value": "1h"
                   },
                   {
                      "selected": false,
                      "text": "6h",
                      "value": "6h"
                   },
                   {
                      "selected": false,
                      "text": "1d",
                      "value": "1d"
                   }
                ],
                "query": "1s,5s,1m,5m,1h,6h,1d",
                "queryValue": "",
                "refresh": 2,
                "skipUrlSync": false,
                "type": "interval"
             },
             {
                "allValue": ".*",
                "current": {
                   "selected": true,
                   "text": [
                      "All"
                   ],
                   "value": [
                      "$__all"
                   ]
                },
                "definition": "label_values({__name__=~\"mongodb_up\"}, environment)",
                "hide": 0,
                "includeAll": true,
                "label": "Environment",
                "multi": true,
                "name": "environment",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"mongodb_up\"}, environment)",
                   "refId": "StandardVariableQuery"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "type": "query"
             },
             {
                "allValue": ".*",
                "current": {
                   "selected": true,
                   "text": [
                      "All"
                   ],
                   "value": [
                      "$__all"
                   ]
                },
                "definition": "label_values(mongodb_up{environment=~\"$environment\"},cluster)",
                "hide": 0,
                "includeAll": true,
                "label": "Cluster",
                "multi": true,
                "name": "cluster",
                "options": [ ],
                "query": {
                   "query": "label_values(mongodb_up{environment=~\"$environment\"},cluster)",
                   "refId": "StandardVariableQuery"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "type": "query"
             },
             {
                "allValue": ".*",
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "definition": "label_values(mongodb_up{environment=~\"$environment\",cluster=~\"$cluster\"}, node_name)",
                "hide": 2,
                "includeAll": true,
                "label": "Node Name",
                "multi": false,
                "name": "node_name",
                "options": [ ],
                "query": {
                   "query": "label_values(mongodb_up{environment=~\"$environment\",cluster=~\"$cluster\"}, node_name)",
                   "refId": "StandardVariableQuery"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "type": "query"
             },
             {
                "current": {
                   "selected": true,
                   "text": [
                      "All"
                   ],
                   "value": [
                      "$__all"
                   ]
                },
                "definition": "label_values(mongodb_mongod_replset_my_state{cluster=~\"$cluster\"}, set)",
                "hide": 0,
                "includeAll": true,
                "label": "Replication Set",
                "multi": true,
                "name": "replication_set",
                "options": [ ],
                "query": {
                   "query": "label_values(mongodb_mongod_replset_my_state{cluster=~\"$cluster\"}, set)",
                   "refId": "StandardVariableQuery"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "type": "query"
             },
             {
                "current": {
                   "selected": true,
                   "text": [
                      "All"
                   ],
                   "value": [
                      "$__all"
                   ]
                },
                "definition": "label_values(mongodb_up{environment=~\"$environment\",cluster=~\"$cluster\",node_name=~\"$node_name\",replication_set=~\"$replication_set\"}, instance)",
                "hide": 0,
                "includeAll": true,
                "label": "MongoDB Node",
                "multi": true,
                "name": "instance",
                "options": [ ],
                "query": "label_values(mongodb_up{environment=~\"$environment\",cluster=~\"$cluster\",node_name=~\"$node_name\",replication_set=~\"$replication_set\"}, instance)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "type": "query"
             },
             {
                "current": {
                   "selected": true,
                   "text": [
                      "All"
                   ],
                   "value": [
                      "$__all"
                   ]
                },
                "definition": "label_values(mongodb_top_commands_count{cluster=~\"$cluster\",instance=~\"$instance\"}, database)",
                "hide": 0,
                "includeAll": true,
                "label": "Database",
                "multi": true,
                "name": "database",
                "options": [ ],
                "query": "label_values(mongodb_top_commands_count{cluster=~\"$cluster\",instance=~\"$instance\"}, database)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "",
                   "value": ""
                },
                "definition": "label_values(mongodb_top_commands_count{database=~\"$database\"}, collection)",
                "hide": 2,
                "includeAll": false,
                "multi": true,
                "name": "collection",
                "options": [ ],
                "query": {
                   "query": "label_values(mongodb_top_commands_count{database=~\"$database\"}, collection)",
                   "refId": "StandardVariableQuery"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": "false",
                   "text": "prometheus",
                   "value": "prometheus"
                },
                "hide": 0,
                "includeAll": "false",
                "label": "Datasource",
                "multi": "false",
                "name": "datasource",
                "options": [ ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": "false",
                "type": "datasource"
             }
          ]
       },
       "time": {
          "from": "now-12h",
          "to": "now"
       },
       "timepicker": {
          "collapse": false,
          "enable": true,
          "hidden": false,
          "notice": false,
          "now": true,
          "refresh_intervals": [
             "1s",
             "5s",
             "1m",
             "5m",
             "1h",
             "6h",
             "1d"
          ],
          "status": "Stable",
          "time_options": [
             "5m",
             "15m",
             "1h",
             "6h",
             "12h",
             "24h",
             "2d",
             "7d",
             "30d"
          ],
          "type": "timepicker"
       },
       "timezone": "browser",
       "title": "MongoDB Collections Overview",
       "uid": "mongodb-collections-overview",
       "version": 1,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: collections-overview-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  geoip.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": {
                   "type": "grafana",
                   "uid": "-- Grafana --"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "target": {
                   "limit": 100,
                   "matchAny": false,
                   "tags": [ ],
                   "type": "dashboard"
                },
                "type": "dashboard"
             }
          ]
       },
       "editable": true,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 0,
       "id": 41,
       "links": [ ],
       "panels": [
          {
             "datasource": {
                "type": "loki",
                "uid": "P8E80F9AEF21F6940"
             },
             "description": "Count of how many times in the given range distinct IP addresses accessed the servers.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      }
                   },
                   "mappings": [
                      {
                         "options": {
                            "-Infinity": {
                               "color": "green",
                               "index": 0,
                               "text": "0"
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "min": 0,
                   "noValue": "0",
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "yellow",
                            "value": 10
                         },
                         {
                            "color": "orange",
                            "value": 20
                         },
                         {
                            "color": "red",
                            "value": 30
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 27,
                "w": 20,
                "x": 2,
                "y": 0
             },
             "id": 7,
             "options": {
                "basemap": {
                   "config": { },
                   "name": "Layer 0",
                   "type": "default"
                },
                "controls": {
                   "mouseWheelZoom": true,
                   "showAttribution": false,
                   "showDebug": true,
                   "showMeasure": false,
                   "showScale": false,
                   "showZoom": true
                },
                "layers": [
                   {
                      "config": {
                         "showLegend": true,
                         "style": {
                            "color": {
                               "field": "Count",
                               "fixed": "dark-green"
                            },
                            "opacity": 0.40000000000000002,
                            "rotation": {
                               "fixed": 0,
                               "max": 360,
                               "min": -360,
                               "mode": "mod"
                            },
                            "size": {
                               "field": "Count",
                               "fixed": 5,
                               "max": 30,
                               "min": 3
                            },
                            "symbol": {
                               "fixed": "img/icons/marker/circle.svg",
                               "mode": "fixed"
                            },
                            "text": {
                               "fixed": "",
                               "mode": "field"
                            },
                            "textConfig": {
                               "fontSize": 12,
                               "offsetX": 0,
                               "offsetY": 0,
                               "textAlign": "center",
                               "textBaseline": "middle"
                            }
                         }
                      },
                      "location": {
                         "gazetteer": "public/gazetteer/countries.json",
                         "latitude": "geoip_location_latitude",
                         "longitude": "geoip_location_longitude",
                         "lookup": "Country",
                         "mode": "lookup"
                      },
                      "name": "Hotspots",
                      "tooltip": true,
                      "type": "markers"
                   }
                ],
                "tooltip": {
                   "mode": "details"
                },
                "view": {
                   "allLayers": true,
                   "id": "coords",
                   "lat": 30.206087,
                   "lon": 2.4991479999999999,
                   "zoom": 2.73
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "loki",
                      "uid": "P8E80F9AEF21F6940"
                   },
                   "editorMode": "code",
                   "expr": "sum by (geoip_country_name) (count_over_time({job=\"nginx/ingress-nginx\", geoip_country_name=~\".+\"}[$__range]))",
                   "hide": false,
                   "queryType": "instant",
                   "refId": "A"
                }
             ],
             "title": "Access by Country",
             "transformations": [
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true
                      },
                      "indexByName": { },
                      "renameByName": {
                         "Time": "",
                         "Value #A": "Count",
                         "geoip_country_name": "Country"
                      }
                   }
                }
             ],
             "type": "geomap"
          },
          {
             "datasource": {
                "type": "loki",
                "uid": "P8E80F9AEF21F6940"
             },
             "description": "Source IP addresses accessing the infrastructure",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "green",
                            "value": 0
                         },
                         {
                            "color": "red",
                            "value": 100
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 26,
                "w": 20,
                "x": 2,
                "y": 27
             },
             "id": 2,
             "options": {
                "basemap": {
                   "config": { },
                   "name": "Layer 0",
                   "type": "default"
                },
                "controls": {
                   "mouseWheelZoom": true,
                   "showAttribution": false,
                   "showDebug": true,
                   "showMeasure": false,
                   "showScale": false,
                   "showZoom": true
                },
                "layers": [
                   {
                      "config": {
                         "blur": 12,
                         "radius": 5,
                         "weight": {
                            "fixed": 1,
                            "max": 1,
                            "min": 0
                         }
                      },
                      "location": {
                         "latitude": "Latitude",
                         "longitude": "Longitude",
                         "mode": "coords"
                      },
                      "name": "Map",
                      "opacity": 0.69999999999999996,
                      "tooltip": true,
                      "type": "heatmap"
                   }
                ],
                "tooltip": {
                   "mode": "none"
                },
                "view": {
                   "allLayers": true,
                   "id": "europe",
                   "lat": 46,
                   "lon": 14,
                   "zoom": 3
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "loki",
                      "uid": "P8E80F9AEF21F6940"
                   },
                   "editorMode": "code",
                   "expr": "{job=\"nginx/ingress-nginx\", geoip_country_name=~\".+\"}",
                   "hide": false,
                   "queryType": "range",
                   "refId": "B"
                }
             ],
             "title": "IP Locations Heatmap",
             "transformations": [
                {
                   "id": "extractFields",
                   "options": {
                      "format": "kvp",
                      "replace": true,
                      "source": "labels"
                   }
                },
                {
                   "id": "convertFieldType",
                   "options": {
                      "conversions": [
                         {
                            "destinationType": "number",
                            "targetField": "geoip_location_latitude"
                         },
                         {
                            "destinationType": "number",
                            "targetField": "geoip_location_longitude"
                         }
                      ],
                      "fields": { }
                   }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "FACILITY": true,
                         "FILE_NAME": true,
                         "HOST": true,
                         "HOST_FROM": true,
                         "ISODATE": false,
                         "LEGACY_MSGHDR": true,
                         "MESSAGE": true,
                         "PRIORITY": true,
                         "PROGRAM": true,
                         "SOURCE": true,
                         "filename": true,
                         "geoip_city_geoname_id": true,
                         "geoip_city_name": true,
                         "geoip_city_names_en": false,
                         "geoip_continent_code": true,
                         "geoip_continent_geoname_id": true,
                         "geoip_continent_names_en": true,
                         "geoip_continet_name": true,
                         "geoip_country_geoname_id": true,
                         "geoip_country_is_in_european_union": true,
                         "geoip_country_iso_code": true,
                         "geoip_country_name": true,
                         "geoip_country_names_en": false,
                         "geoip_location_accuracy_radius": false,
                         "geoip_location_latitude": false,
                         "geoip_location_location": true,
                         "geoip_location_metro_code": true,
                         "geoip_location_time_zone": true,
                         "geoip_registered_country_geoname_id": true,
                         "geoip_registered_country_is_in_european_union": true,
                         "geoip_registered_country_iso_code": true,
                         "geoip_registered_country_names_en": false,
                         "geoip_subdivisions_0_geoname_id": true,
                         "geoip_subdivisions_0_iso_code": true,
                         "geoip_subdivisions_0_names_en": true,
                         "geoip_subdivisions_1_geoname_id": true,
                         "geoip_subdivisions_1_iso_code": true,
                         "geoip_subdivisions_1_names_en": true,
                         "input_interface": true,
                         "ipt_CODE": true,
                         "ipt_IN": true,
                         "ipt_LEN": true,
                         "ipt_TYPE": true,
                         "job": true,
                         "kv_DPT": false,
                         "kv_DST": true,
                         "kv_ID": true,
                         "kv_IN": true,
                         "kv_LEN": true,
                         "kv_MAC": true,
                         "kv_OUT": false,
                         "kv_PREC": true,
                         "kv_PROTO": true,
                         "kv_RES": true,
                         "kv_SPT": true,
                         "kv_TOS": true,
                         "kv_TTL": true,
                         "kv_URGP": true,
                         "kv_WINDOW": true,
                         "output_interface": true,
                         "protocol": true
                      },
                      "indexByName": { },
                      "renameByName": {
                         "FACILITY": "",
                         "ISODATE": "Time",
                         "geoip_city_names_en": "City",
                         "geoip_continent_code": "",
                         "geoip_country_names_en": "Country",
                         "geoip_location_accuracy_radius": "Accuracy Radius",
                         "geoip_location_latitude": "Latitude",
                         "geoip_location_longitude": "Longitude",
                         "geoip_postal_code": "Postal Code",
                         "geoip_registered_country_is_in_european_union": "",
                         "geoip_registered_country_names_en": "Registered Country",
                         "geoip_subdivisions_1_iso_code": "",
                         "ipt_DPT": "Destination Port",
                         "ipt_DST": "Destintation",
                         "ipt_IN": "Input Interface",
                         "ipt_LEN": "",
                         "ipt_OUT": "Output Interface",
                         "ipt_PROTO": "Protocol",
                         "ipt_SPT": "Source Port",
                         "ipt_SRC": "Source",
                         "job": "",
                         "kv_DPT": "Destintation Port",
                         "kv_OUT": "Output Interface",
                         "kv_SRC": "Source"
                      }
                   }
                }
             ],
             "type": "geomap"
          },
          {
             "datasource": {
                "type": "loki",
                "uid": "P8E80F9AEF21F6940"
             },
             "description": "Source IP addresses accessing webservices other than SSH",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 26,
                "w": 20,
                "x": 2,
                "y": 53
             },
             "id": 8,
             "options": {
                "basemap": {
                   "config": { },
                   "name": "Layer 0",
                   "type": "default"
                },
                "controls": {
                   "mouseWheelZoom": true,
                   "showAttribution": false,
                   "showDebug": true,
                   "showMeasure": false,
                   "showScale": false,
                   "showZoom": true
                },
                "layers": [
                   {
                      "config": {
                         "showLegend": false,
                         "style": {
                            "color": {
                               "fixed": "dark-green"
                            },
                            "opacity": 0.40000000000000002,
                            "rotation": {
                               "fixed": 0,
                               "max": 360,
                               "min": -360,
                               "mode": "mod"
                            },
                            "size": {
                               "fixed": 5,
                               "max": 15,
                               "min": 2
                            },
                            "symbol": {
                               "fixed": "img/icons/marker/circle.svg",
                               "mode": "fixed"
                            },
                            "text": {
                               "fixed": "",
                               "mode": "field"
                            },
                            "textConfig": {
                               "fontSize": 12,
                               "offsetX": 0,
                               "offsetY": 0,
                               "textAlign": "center",
                               "textBaseline": "middle"
                            }
                         }
                      },
                      "location": {
                         "latitude": "Latitude",
                         "longitude": "Longitude",
                         "mode": "coords"
                      },
                      "name": "Map",
                      "tooltip": true,
                      "type": "markers"
                   }
                ],
                "tooltip": {
                   "mode": "details"
                },
                "view": {
                   "allLayers": true,
                   "id": "europe",
                   "lat": 46,
                   "lon": 14,
                   "zoom": 3
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "loki",
                      "uid": "P8E80F9AEF21F6940"
                   },
                   "editorMode": "code",
                   "expr": "{job=\"nginx/ingress-nginx\", geoip_country_name=~\".+\", dst_port!=\"22\"}",
                   "hide": false,
                   "queryType": "range",
                   "refId": "A"
                }
             ],
             "title": "IP Locations (non SSH Traffic)",
             "transformations": [
                {
                   "id": "extractFields",
                   "options": {
                      "format": "kvp",
                      "replace": true,
                      "source": "labels"
                   }
                },
                {
                   "id": "convertFieldType",
                   "options": {
                      "conversions": [
                         {
                            "destinationType": "number",
                            "targetField": "geoip_location_latitude"
                         },
                         {
                            "destinationType": "number",
                            "targetField": "geoip_location_longitude"
                         }
                      ],
                      "fields": { }
                   }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "FACILITY": true,
                         "FILE_NAME": true,
                         "HOST": true,
                         "HOST_FROM": true,
                         "ISODATE": false,
                         "LEGACY_MSGHDR": true,
                         "MESSAGE": true,
                         "PRIORITY": true,
                         "PROGRAM": true,
                         "SOURCE": true,
                         "filename": true,
                         "geoip_city_geoname_id": true,
                         "geoip_city_names_en": false,
                         "geoip_continent_code": true,
                         "geoip_continent_geoname_id": true,
                         "geoip_continent_names_en": true,
                         "geoip_continet_name": false,
                         "geoip_country_geoname_id": true,
                         "geoip_country_is_in_european_union": true,
                         "geoip_country_iso_code": true,
                         "geoip_country_names_en": false,
                         "geoip_location_accuracy_radius": false,
                         "geoip_location_latitude": false,
                         "geoip_location_location": true,
                         "geoip_location_metro_code": true,
                         "geoip_location_time_zone": true,
                         "geoip_registered_country_geoname_id": true,
                         "geoip_registered_country_is_in_european_union": true,
                         "geoip_registered_country_iso_code": true,
                         "geoip_registered_country_names_en": false,
                         "geoip_subdivisions_0_geoname_id": true,
                         "geoip_subdivisions_0_iso_code": true,
                         "geoip_subdivisions_0_names_en": true,
                         "geoip_subdivisions_1_geoname_id": true,
                         "geoip_subdivisions_1_iso_code": true,
                         "geoip_subdivisions_1_names_en": true,
                         "input_interface": true,
                         "ipt_CODE": true,
                         "ipt_IN": true,
                         "ipt_LEN": true,
                         "ipt_TYPE": true,
                         "job": true,
                         "kv_DPT": false,
                         "kv_DST": true,
                         "kv_ID": true,
                         "kv_IN": true,
                         "kv_LEN": true,
                         "kv_MAC": true,
                         "kv_OUT": false,
                         "kv_PREC": true,
                         "kv_PROTO": true,
                         "kv_RES": true,
                         "kv_SPT": true,
                         "kv_TOS": true,
                         "kv_TTL": true,
                         "kv_URGP": true,
                         "kv_WINDOW": true,
                         "output_interface": true
                      },
                      "indexByName": {
                         "dst_port": 5,
                         "filename": 7,
                         "geoip_city_name": 0,
                         "geoip_continent_code": 8,
                         "geoip_continet_name": 2,
                         "geoip_country_name": 1,
                         "geoip_location_latitude": 3,
                         "geoip_location_longitude": 4,
                         "input_interface": 9,
                         "job": 10,
                         "output_interface": 11,
                         "protocol": 6
                      },
                      "renameByName": {
                         "FACILITY": "",
                         "ISODATE": "Time",
                         "dst_port": "Port",
                         "geoip_city_name": "City",
                         "geoip_city_names_en": "City",
                         "geoip_continent_code": "",
                         "geoip_continet_name": "Continent",
                         "geoip_country_name": "Country",
                         "geoip_country_names_en": "Country",
                         "geoip_location_accuracy_radius": "Accuracy Radius",
                         "geoip_location_latitude": "Latitude",
                         "geoip_location_longitude": "Longitude",
                         "geoip_postal_code": "Postal Code",
                         "geoip_registered_country_is_in_european_union": "",
                         "geoip_registered_country_names_en": "Registered Country",
                         "geoip_subdivisions_1_iso_code": "",
                         "ipt_DPT": "Destination Port",
                         "ipt_DST": "Destintation",
                         "ipt_IN": "Input Interface",
                         "ipt_LEN": "",
                         "ipt_OUT": "Output Interface",
                         "ipt_PROTO": "Protocol",
                         "ipt_SPT": "Source Port",
                         "ipt_SRC": "Source",
                         "job": "",
                         "kv_DPT": "Destintation Port",
                         "kv_OUT": "Output Interface",
                         "kv_SRC": "Source",
                         "output_interface": "",
                         "protocol": "Protocol"
                      }
                   }
                }
             ],
             "type": "geomap"
          },
          {
             "datasource": {
                "type": "loki",
                "uid": "P8E80F9AEF21F6940"
             },
             "description": "Source IP addresses by location accessing ssh",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 26,
                "w": 20,
                "x": 2,
                "y": 79
             },
             "id": 3,
             "options": {
                "basemap": {
                   "config": { },
                   "name": "Layer 0",
                   "type": "default"
                },
                "controls": {
                   "mouseWheelZoom": true,
                   "showAttribution": false,
                   "showDebug": true,
                   "showMeasure": false,
                   "showScale": false,
                   "showZoom": true
                },
                "layers": [
                   {
                      "config": {
                         "showLegend": false,
                         "style": {
                            "color": {
                               "fixed": "red"
                            },
                            "opacity": 0.40000000000000002,
                            "rotation": {
                               "fixed": 0,
                               "max": 360,
                               "min": -360,
                               "mode": "mod"
                            },
                            "size": {
                               "fixed": 5,
                               "max": 15,
                               "min": 2
                            },
                            "symbol": {
                               "fixed": "img/icons/marker/circle.svg",
                               "mode": "fixed"
                            },
                            "text": {
                               "fixed": "",
                               "mode": "field"
                            },
                            "textConfig": {
                               "fontSize": 12,
                               "offsetX": 0,
                               "offsetY": 0,
                               "textAlign": "center",
                               "textBaseline": "middle"
                            }
                         }
                      },
                      "location": {
                         "latitude": "Latitude",
                         "longitude": "Longitude",
                         "mode": "coords"
                      },
                      "name": "Map",
                      "tooltip": true,
                      "type": "markers"
                   }
                ],
                "tooltip": {
                   "mode": "details"
                },
                "view": {
                   "allLayers": true,
                   "id": "europe",
                   "lat": 46,
                   "lon": 14,
                   "zoom": 3
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "loki",
                      "uid": "P8E80F9AEF21F6940"
                   },
                   "editorMode": "code",
                   "expr": "{job=\"nginx/ingress-nginx\", geoip_country_name=~\".+\", dst_port=\"22\"}",
                   "hide": false,
                   "queryType": "range",
                   "refId": "B"
                }
             ],
             "title": "IP Locations (SSH)",
             "transformations": [
                {
                   "id": "extractFields",
                   "options": {
                      "format": "kvp",
                      "replace": true,
                      "source": "labels"
                   }
                },
                {
                   "id": "convertFieldType",
                   "options": {
                      "conversions": [
                         {
                            "destinationType": "number",
                            "targetField": "geoip_location_latitude"
                         },
                         {
                            "destinationType": "number",
                            "targetField": "geoip_location_longitude"
                         }
                      ],
                      "fields": { }
                   }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "FACILITY": true,
                         "FILE_NAME": true,
                         "HOST": true,
                         "HOST_FROM": true,
                         "ISODATE": true,
                         "LEGACY_MSGHDR": true,
                         "MESSAGE": true,
                         "PRIORITY": true,
                         "PROGRAM": true,
                         "SOURCE": true,
                         "filename": true,
                         "geoip_city_geoname_id": true,
                         "geoip_city_names_en": false,
                         "geoip_continent_code": true,
                         "geoip_continent_geoname_id": true,
                         "geoip_continent_names_en": true,
                         "geoip_country_geoname_id": true,
                         "geoip_country_is_in_european_union": true,
                         "geoip_country_iso_code": true,
                         "geoip_country_names_en": true,
                         "geoip_location_accuracy_radius": false,
                         "geoip_location_latitude": false,
                         "geoip_location_location": true,
                         "geoip_location_metro_code": true,
                         "geoip_location_time_zone": true,
                         "geoip_registered_country_geoname_id": true,
                         "geoip_registered_country_is_in_european_union": true,
                         "geoip_registered_country_iso_code": true,
                         "geoip_registered_country_names_en": true,
                         "geoip_subdivisions_0_geoname_id": true,
                         "geoip_subdivisions_0_iso_code": true,
                         "geoip_subdivisions_0_names_en": true,
                         "geoip_subdivisions_1_geoname_id": true,
                         "geoip_subdivisions_1_iso_code": true,
                         "geoip_subdivisions_1_names_en": true,
                         "input_interface": true,
                         "ipt_CODE": true,
                         "ipt_IN": true,
                         "ipt_LEN": true,
                         "ipt_TYPE": true,
                         "job": true,
                         "kv_DPT": false,
                         "kv_DST": true,
                         "kv_ID": true,
                         "kv_IN": true,
                         "kv_LEN": true,
                         "kv_MAC": true,
                         "kv_OUT": false,
                         "kv_PREC": true,
                         "kv_PROTO": true,
                         "kv_RES": true,
                         "kv_SPT": true,
                         "kv_TOS": true,
                         "kv_TTL": true,
                         "kv_URGP": true,
                         "kv_WINDOW": true,
                         "output_interface": true
                      },
                      "indexByName": {
                         "dst_port": 5,
                         "filename": 7,
                         "geoip_city_name": 0,
                         "geoip_continent_code": 8,
                         "geoip_continet_name": 2,
                         "geoip_country_name": 1,
                         "geoip_location_latitude": 3,
                         "geoip_location_longitude": 4,
                         "input_interface": 9,
                         "job": 10,
                         "output_interface": 11,
                         "protocol": 6
                      },
                      "renameByName": {
                         "FACILITY": "",
                         "ISODATE": "Time",
                         "dst_port": "Port",
                         "filename": "",
                         "geoip_city_name": "City",
                         "geoip_city_names_en": "City Name",
                         "geoip_continent_code": "",
                         "geoip_continet_name": "Continent",
                         "geoip_country_name": "Country",
                         "geoip_location_accuracy_radius": "Accuracy Radius",
                         "geoip_location_latitude": "Latitude",
                         "geoip_location_longitude": "Longitude",
                         "geoip_postal_code": "Postal Code",
                         "ipt_DPT": "Destination Port",
                         "ipt_DST": "Destintation",
                         "ipt_IN": "Input Interface",
                         "ipt_LEN": "",
                         "ipt_OUT": "Output Interface",
                         "ipt_PROTO": "Protocol",
                         "ipt_SPT": "Source Port",
                         "ipt_SRC": "Source",
                         "job": "",
                         "kv_DPT": "Destintation Port",
                         "kv_OUT": "Output Interface",
                         "kv_SRC": "Source",
                         "protocol": "Protocol"
                      }
                   }
                }
             ],
             "type": "geomap"
          }
       ],
       "preload": false,
       "refresh": "",
       "schemaVersion": 40,
       "tags": [
          "nginx"
       ],
       "templating": {
          "list": [ ]
       },
       "time": {
          "from": "now-2d",
          "to": "now"
       },
       "timepicker": { },
       "timezone": "",
       "title": "GeoIP",
       "uid": "pV2rGDZ4z",
       "version": 2,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: geoip-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  in_memory_details.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": false,
                "iconColor": "#e0752d",
                "limit": 100,
                "matchAny": true,
                "name": "PMM Annotations",
                "showIn": 0,
                "tags": [
                   "pmm_annotation",
                   "$service_name"
                ],
                "target": {
                   "limit": 100,
                   "matchAny": true,
                   "tags": [
                      "pmm_annotation",
                      "$service_name"
                   ],
                   "type": "tags"
                },
                "type": "tags"
             },
             {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": true,
                "iconColor": "#6ed0e0",
                "limit": 100,
                "name": "Annotations & Alerts",
                "showIn": 0,
                "tags": [ ],
                "target": {
                   "limit": 100,
                   "matchAny": false,
                   "tags": [ ],
                   "type": "dashboard"
                },
                "type": "dashboard"
             }
          ]
       },
       "editable": false,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 1,
       "id": null,
       "iteration": 1656416101897,
       "links": [
          {
             "icon": "doc",
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "Home"
             ],
             "targetBlank": false,
             "title": "Home",
             "type": "link",
             "url": "/graph/d/pmm-home/home-dashboard"
          },
          {
             "icon": "dashboard",
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "Query Analytics"
             ],
             "targetBlank": false,
             "title": "Query Analytics",
             "type": "link",
             "url": "/graph/d/pmm-qan/pmm-query-analytics"
          },
          {
             "icon": "bolt",
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "Compare"
             ],
             "targetBlank": false,
             "title": "Compare",
             "type": "link",
             "url": "/graph/d/mongodb-instance-compare/mongodb-instances-compare"
          },
          {
             "asDropdown": true,
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "MongoDB"
             ],
             "targetBlank": false,
             "title": "MongoDB",
             "type": "dashboards"
          },
          {
             "asDropdown": true,
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "MongoDB_HA"
             ],
             "targetBlank": false,
             "title": "HA",
             "type": "dashboards"
          },
          {
             "asDropdown": true,
             "includeVars": false,
             "keepTime": true,
             "tags": [
                "Services"
             ],
             "targetBlank": false,
             "title": "Services",
             "type": "dashboards"
          },
          {
             "asDropdown": true,
             "includeVars": false,
             "keepTime": true,
             "tags": [
                "PMM"
             ],
             "targetBlank": false,
             "title": "PMM",
             "type": "dashboards"
          }
       ],
       "liveNow": false,
       "panels": [
          {
             "description": "This panel shows the amount of data currently being stored InMemory. This data is in its uncompressed format and differs from how the data is stored on disk or in the file system cache. This value will always be lower than the counter shown in the *InMemory Max Data Size* panel.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "bytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 0,
                "y": 2
             },
             "hideTimeOverride": true,
             "id": 62,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "avg by (instance) (mongodb_mongod_wiredtiger_cache_bytes{instance=~\"$instance\", type=\"total\"})",
                   "format": "time_series",
                   "interval": "5m",
                   "intervalFactor": 1,
                   "refId": "A",
                   "step": 300
                }
             ],
             "timeFrom": "1m",
             "title": "InMemory Data Size",
             "type": "stat"
          },
          {
             "description": "This is the maximum size that the InMemory data can grow to and this value can be changed from the default value by setting the `storage.wiredTiger.inMemory.cacheSizeGB` value in the config file or passing in the `--inMemoryCacheSizeGB` parameter on the command line.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "bytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 6,
                "y": 0
             },
             "hideTimeOverride": true,
             "id": 63,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "avg by (instance) (mongodb_mongod_wiredtiger_cache_max_bytes{instance=~\"$instance\"})",
                   "interval": "5m",
                   "intervalFactor": 1,
                   "refId": "A",
                   "step": 300
                }
             ],
             "timeFrom": "1m",
             "title": "InMemory Max Data Size",
             "type": "stat"
          },
          {
             "description": "This panel shows the amount of memory left available for your InMemory databases.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 0,
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "rgba(50, 172, 45, 0.97)",
                            "value": null
                         },
                         {
                            "color": "rgba(237, 129, 40, 0.89)",
                            "value": 90
                         },
                         {
                            "color": "rgba(245, 54, 54, 0.9)",
                            "value": 95
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 12,
                "y": 0
             },
             "id": 69,
             "interval": "$interval",
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "calculatedInterval": "10m",
                   "datasourceErrors": { },
                   "errors": { },
                   "expr": "avg by (instance) (1-(max(mongodb_mongod_wiredtiger_cache_bytes{instance=~\"$instance\", type=\"total\"})/max(mongodb_mongod_wiredtiger_cache_max_bytes{instance=~\"$instance\"})))",
                   "interval": "5m",
                   "intervalFactor": 1,
                   "legendFormat": "",
                   "metric": "node_mem",
                   "refId": "A",
                   "step": 300
                }
             ],
             "title": "InMemory Available",
             "type": "stat"
          },
          {
             "description": "This panel shows the percentage of InMemory pages that have been changed and not yet had the modified data consolidated.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 0,
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "rgba(42, 150, 37, 0.97)",
                            "value": null
                         },
                         {
                            "color": "rgba(237, 129, 40, 0.89)",
                            "value": 30
                         },
                         {
                            "color": "rgba(245, 54, 54, 0.9)",
                            "value": 50
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 18,
                "y": 0
             },
             "id": 70,
             "interval": "$interval",
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "calculatedInterval": "10m",
                   "datasourceErrors": { },
                   "errors": { },
                   "expr": "avg by (instance) (avg(mongodb_mongod_wiredtiger_cache_pages{instance=~\"$instance\",type=\"dirty\"})/avg(mongodb_mongod_wiredtiger_cache_pages{instance=~\"$instance\",type=\"total\"}))",
                   "interval": "5m",
                   "intervalFactor": 1,
                   "legendFormat": "",
                   "metric": "node_mem",
                   "refId": "A",
                   "step": 300
                }
             ],
             "title": "InMemory Dirty Pages",
             "type": "stat"
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "WiredTiger internal transactions",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 3
             },
             "hiddenSeries": false,
             "id": 52,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,type) (rate(mongodb_mongod_wiredtiger_transactions_total{instance=~\"$instance\"}[$interval]) or irate(mongodb_mongod_wiredtiger_transactions_total{instance=~\"$instance\"}[5m]))",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{type}}`}}",
                   "refId": "A",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "InMemory Transactions",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Configured max and current size of the WiredTiger cache.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 3
             },
             "hiddenSeries": false,
             "id": 45,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "Percent Overhead",
                   "yaxis": 2
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (mongodb_mongod_wiredtiger_cache_max_bytes{instance=~\"$instance\"})",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Maximum",
                   "refId": "C",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (mongodb_mongod_wiredtiger_cache_bytes{instance=~\"$instance\", type=\"total\"})",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Used",
                   "refId": "A",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "InMemory Capacity",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "bytes",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Internal WiredTiger storage engine cursors and sessions currently open.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 11
             },
             "hiddenSeries": false,
             "id": 60,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (mongodb_mongod_wiredtiger_session_open_cursors_total{instance=~\"$instance\"})",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Cursors",
                   "metric": "",
                   "refId": "A",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (mongodb_mongod_wiredtiger_session_open_sessions_total{instance=~\"$instance\"})",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Sessions",
                   "metric": "",
                   "refId": "B",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "InMemory Sessions",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Pages in the WiredTiger cache",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 11
             },
             "hiddenSeries": false,
             "id": 68,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,type) (mongodb_mongod_wiredtiger_cache_pages{instance=~\"$instance\"})",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{type}}`}}",
                   "refId": "A",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "InMemory Pages",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "A WT 'ticket' is assigned out for every operation running simultaneously in the WT storage engine. \"Tickets available\" = hardcoded high value - \"Tickets Out\".",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 19
             },
             "hiddenSeries": false,
             "id": 55,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "/^write_/",
                   "transform": "negative-Y"
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,type) (mongodb_mongod_wiredtiger_concurrent_transactions_total_tickets{instance=~\"$instance\"}-mongodb_mongod_wiredtiger_concurrent_transactions_out_tickets{instance=~\"$instance\"})",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{type}}`}}",
                   "metric": "",
                   "refId": "A",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "InMemory Concurrency Tickets",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Operations queued due to a lock",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 19
             },
             "hiddenSeries": false,
             "id": 40,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,type) (mongodb_mongod_global_lock_current_queue{instance=~\"$instance\"})",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{type}}`}}",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Queued Operations",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Mixed metrics: Docs per second inserted, updated, deleted or returned on any type of node (primary or secondary); + replicated write Ops/sec; + TTL deletes per second.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 27
             },
             "hiddenSeries": false,
             "id": 36,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": true,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": true,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,state) (rate(mongodb_mongod_metrics_document_total{instance=~\"$instance\"}[$interval]) or irate(mongodb_mongod_metrics_document_total{instance=~\"$instance\"}[5m]))",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{state}}`}}",
                   "refId": "J",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_op_counters_repl_total{instance=~\"$instance\", type=\"delete\"}[$interval]) or irate(mongodb_mongod_op_counters_repl_total{instance=~\"$instance\", type=\"delete\"}[5m]))",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "repl_deleted",
                   "refId": "A",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_op_counters_repl_total{instance=~\"$instance\", type=\"update\"}[$interval]) or irate(mongodb_mongod_op_counters_repl_total{instance=~\"$instance\", type=\"update\"}[5m]))",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "repl_updated",
                   "refId": "B",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_op_counters_repl_total{instance=~\"$instance\", type=\"insert\"}[$interval]) or irate(mongodb_mongod_op_counters_repl_total{instance=~\"$instance\", type=\"insert\"}[5m]))",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "repl_inserted",
                   "refId": "C",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_metrics_ttl_deleted_documents_total{instance=~\"$instance\"}[$interval]) or irate(mongodb_mongod_metrics_ttl_deleted_documents_total{instance=~\"$instance\"}[5m]))",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "ttl_deleted",
                   "refId": "D",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Document Changes",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "ops",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "This panel shows the number of pages that have been evicted from the WiredTiger cache for the given time period. The InMemory storage engine only evicts modified pages which signals a compaction of the data and removal of the dirty pages.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 6,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 27
             },
             "hiddenSeries": false,
             "id": 53,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": true,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_wiredtiger_cache_evicted_total{instance=~\"$instance\",type=\"modified\"}[$interval]) or irate(mongodb_mongod_wiredtiger_cache_evicted_total{instance=~\"$instance\",type=\"modified\"}[5m]))",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Evicted",
                   "refId": "A",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "InMemory Cache Eviction",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "Pages / sec",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "This panel shows the number of objects (both data (scanned_objects) and index (scanned)) as well as the number of documents that were moved to a new location due to the size of the document growing. Moved documents only apply to the MMAPv1 storage engine.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 35
             },
             "hiddenSeries": false,
             "id": 32,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": true,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,state) (rate(mongodb_mongod_metrics_query_executor_total{instance=~\"$instance\"}[$interval]) or irate(mongodb_mongod_metrics_query_executor_total{instance=~\"$instance\"}[5m]))",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{state}}`}}",
                   "metric": "",
                   "refId": "A",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_metrics_record_moves_total{instance=~\"$instance\"}[$interval]) or irate(mongodb_mongod_metrics_record_moves_total{instance=~\"$instance\"}[5m]))",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "moved",
                   "refId": "B",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Scanned and Moved Objects",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "ops",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Unix or Window memory page faults. Not necessarily from mongodb.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 35
             },
             "hiddenSeries": false,
             "id": 39,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_extra_info_page_faults_total{instance=~\"$instance\"}[$interval]) or irate(mongodb_mongod_extra_info_page_faults_total{instance=~\"$instance\"}[5m]) or rate(mongodb_extra_info_page_faults_total{instance=~\"$instance\"}[$interval]) or irate(mongodb_extra_info_page_faults_total{instance=~\"$instance\"}[5m]))",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Faults",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Page Faults",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 43
             },
             "id": 1009,
             "panels": [ ],
             "title": "MongoDB Summary",
             "type": "row"
          },
          {
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#d44a3a",
                            "value": null
                         },
                         {
                            "color": "rgba(237, 129, 40, 0.89)",
                            "value": 300
                         },
                         {
                            "color": "#299c46",
                            "value": 3600
                         }
                      ]
                   },
                   "unit": "s"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 0,
                "y": 44
             },
             "id": 1001,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "avg by (instance) (mongodb_instance_uptime_seconds{instance=~\"$instance\"})",
                   "interval": "$interval",
                   "refId": "A"
                }
             ],
             "title": "MongoDB Uptime",
             "type": "stat"
          },
          {
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "ops"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 6,
                "y": 44
             },
             "id": 1005,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "sum(rate(mongodb_mongod_op_counters_total{instance=~\"$instance\",type!=\"command\"}[$interval]) or irate(mongodb_mongod_op_counters_total{instance=~\"$instance\",type!=\"command\"}[5m]) or rate(mongodb_op_counters_total{instance=~\"$instance\",type!=\"command\"}[$interval]) or irate(mongodb_op_counters_total{instance=~\"$instance\",type!=\"command\"}[5m]))",
                   "interval": "$interval",
                   "refId": "A"
                }
             ],
             "title": "QPS",
             "type": "stat"
          },
          {
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "s"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 12,
                "y": 44
             },
             "id": 1007,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_op_latencies_latency_total{instance=~\"$instance\",type=\"command\"}[$interval]) / (rate(mongodb_mongod_op_latencies_ops_total{instance=~\"$instance\",type=\"command\"}[$interval]) > 0) or\nirate(mongodb_mongod_op_latencies_latency_total{instance=~\"$instance\",type=\"command\"}[5m]) / (irate(mongodb_mongod_op_latencies_ops_total{instance=~\"$instance\",type=\"command\"}[5m]) > 0))",
                   "interval": "$interval",
                   "refId": "A"
                }
             ],
             "title": "Latency",
             "type": "stat"
          },
          {
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 18,
                "y": 44
             },
             "id": 1003,
             "links": [ ],
             "options": {
                "content": "<h5 style='color:#e68a00;font-weight:bold;text-align:center'><a href=\"/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-node_name=$node_name&var-instance=$instance\" target=\"_blank\">$instance</h5>",
                "mode": "html"
             },
             "pluginVersion": "8.3.5",
             "title": "Service",
             "type": "text"
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "This shows the number of active connections on the server. Keep in mind the hard limit on the maximum number of connections set by your distribution.\n\nYou can read more about the [connection numbers](https://docs.mongodb.com/manual/administration/analyzing-mongodb-performance/#number-of-connections).",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 47
             },
             "height": "250px",
             "hiddenSeries": false,
             "id": 1012,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (max_over_time(mongodb_mongod_connections{instance=~\"$instance\", state=\"current\"}[$interval]) or max_over_time(mongodb_mongod_connections{instance=~\"$instance\", state=\"current\"}[5m]) or\nmax_over_time(mongodb_mongos_connections{instance=~\"$instance\", state=\"current\"}[$interval]) or\nmax_over_time(mongodb_mongos_connections{instance=~\"$instance\", state=\"current\"}[5m]) or\nmax_over_time(mongodb_connections{instance=~\"$instance\", state=\"current\"}[$interval]) or\nmax_over_time(mongodb_connections{instance=~\"$instance\", state=\"current\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Connections",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Connections",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "This shows the number of open cursors for each shard in the cluster. A cursor in MongoDB is a pointer to the result of a given query that can be iterated over. By default a cursor times out after 10 minutes.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 47
             },
             "height": "250px",
             "hiddenSeries": false,
             "id": 1013,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,state) (max_over_time(mongodb_mongod_metrics_cursor_open{instance=~\"$instance\"}[$interval]) or\nmax_over_time(mongodb_mongod_metrics_cursor_open{instance=~\"$instance\"}[5m]) or\nmax_over_time(mongodb_mongod_cursors{instance=~\"$instance\"}[$interval]) or\nmax_over_time(mongodb_mongod_cursors{instance=~\"$instance\"}[5m]) or\nmax_over_time(mongodb_mongos_metrics_cursor_open{instance=~\"$instance\"}[$interval]) or \nmax_over_time(mongodb_mongos_metrics_cursor_open{instance=~\"$instance\"}[5m]) or\nmax_over_time(mongodb_mongos_cursors{instance=~\"$instance\"}[$interval]) or\nmax_over_time(mongodb_mongos_cursors{instance=~\"$instance\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{state}}`}}",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Cursors",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 55
             },
             "id": 291,
             "panels": [ ],
             "title": "Node Summary",
             "type": "row"
          },
          {
             "description": "The parameter shows how long a system has been up and running without a shut down or restart.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "rgba(245, 54, 54, 0.9)",
                            "value": null
                         },
                         {
                            "color": "rgba(237, 129, 40, 0.89)",
                            "value": 300
                         },
                         {
                            "color": "rgba(50, 172, 45, 0.97)",
                            "value": 3600
                         }
                      ]
                   },
                   "unit": "s"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 3,
                "x": 0,
                "y": 56
             },
             "id": 321,
             "interval": "$interval",
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "value",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "calculatedInterval": "10m",
                   "datasourceErrors": { },
                   "errors": { },
                   "expr": "avg by (node_name)  (time() - container_start_time_seconds{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}) or avg by (node_name) ((node_time_seconds{node_name=~\"$node_name\"} - node_boot_time_seconds{node_name=~\"$node_name\"}) or (time() - node_boot_time_seconds{node_name=~\"$node_name\"}))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "5m",
                   "intervalFactor": 1,
                   "legendFormat": "",
                   "metric": "",
                   "refId": "A",
                   "step": 300
                }
             ],
             "title": "System Uptime",
             "type": "stat"
          },
          {
             "description": "The system load is a measurement of the computational work the system is performing. Each running process either using or waiting for CPU resources adds 1 to the load.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#299c46",
                            "value": null
                         },
                         {
                            "color": "rgba(237, 129, 40, 0.89)",
                            "value": 10
                         },
                         {
                            "color": "#d44a3a",
                            "value": 20
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 3,
                "x": 3,
                "y": 56
             },
             "id": 323,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "avg by () (avg_over_time(node_load1{node_name=~\"$node_name\"}[$interval]) or avg_over_time(node_load1{node_name=~\"$node_name\"}[5m]))",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "refId": "A"
                }
             ],
             "title": "Load Average",
             "type": "stat"
          },
          {
             "description": "RAM (Random Access Memory) is the hardware in a computing device where the operating system, application programs and data in current use are kept so they can be quickly reached by the device's processor.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 1,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "bytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 3,
                "x": 6,
                "y": 56
             },
             "id": 327,
             "interval": "$interval",
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "max by () (container_spec_memory_limit_bytes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}) or \nmax by () (node_memory_MemTotal_bytes{node_name=~\"$node_name\"})",
                   "format": "time_series",
                   "interval": "5m",
                   "intervalFactor": 1,
                   "refId": "A",
                   "step": 300
                }
             ],
             "title": "RAM",
             "type": "stat"
          },
          {
             "description": "Percent of Memory Available\nNote: on Modern Linux Kernels amount of Memory Available for application is not the same as Free+Cached+Buffers",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#d44a3a",
                            "value": null
                         },
                         {
                            "color": "rgba(237, 129, 40, 0.89)",
                            "value": 5
                         },
                         {
                            "color": "#299c46",
                            "value": 10
                         }
                      ]
                   },
                   "unit": "percent"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 3,
                "x": 9,
                "y": 56
             },
             "id": 329,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "clamp_max(avg by () (container_memory_usage_bytes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|backup-agent|\"} * 100 / container_spec_memory_limit_bytes{node_name=\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|backup-agent|\"}),100) or  \navg by () (((node_memory_MemAvailable_bytes{node_name=~\"$node_name\"} or (node_memory_MemFree_bytes{node_name=~\"$node_name\"} + node_memory_Buffers_bytes{node_name=~\"$node_name\"} + node_memory_Cached_bytes{node_name=~\"$node_name\"})) / node_memory_MemTotal_bytes{node_name=~\"$node_name\"}) * 100 or (100 - azure_memory_percent_average{node_name=~\"$node_name\"}))",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "refId": "A"
                }
             ],
             "title": "Memory Available",
             "type": "stat"
          },
          {
             "description": "RAM + SWAP",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "bytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 3,
                "x": 12,
                "y": 56
             },
             "id": 331,
             "interval": "$interval",
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "max by () (container_spec_memory_limit_bytes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}+container_spec_memory_swap_limit_bytes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}) or\nmax by () (node_memory_MemTotal_bytes{node_name=~\"$node_name\"}+node_memory_SwapTotal_bytes{node_name=~\"$node_name\"})",
                   "format": "time_series",
                   "interval": "5m",
                   "intervalFactor": 1,
                   "refId": "A",
                   "step": 300
                }
             ],
             "title": "Virtual Memory",
             "type": "stat"
          },
          {
             "description": "Sum of disk space on all partitions. Note  it can be significantly over-reported in some installations",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "bytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 3,
                "x": 15,
                "y": 56
             },
             "id": 333,
             "interval": "$interval",
             "links": [
                {
                   "targetBlank": true,
                   "title": "Disk Space",
                   "url": "/graph/d/node-disk/disk-details?$__url_time_range&$__all_variables"
                }
             ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "avg by () (container_fs_limit_bytes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}) or \navg by () (sum(avg(node_filesystem_size_bytes{node_name=~\"$node_name\",fstype=~\"(ext.|xfs|vfat|)\"}) without (mountpoint)) without (device,fstype))",
                   "format": "time_series",
                   "interval": "5m",
                   "intervalFactor": 1,
                   "refId": "A",
                   "step": 300
                }
             ],
             "title": "Disk Space",
             "type": "stat"
          },
          {
             "description": "Lowest percent of the disk space available",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#d44a3a",
                            "value": null
                         },
                         {
                            "color": "rgba(237, 129, 40, 0.89)",
                            "value": 5
                         },
                         {
                            "color": "#299c46",
                            "value": 20
                         }
                      ]
                   },
                   "unit": "percent"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 3,
                "x": 18,
                "y": 56
             },
             "id": 335,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "avg by () (min(node_filesystem_free_bytes{node_name=~\"$node_name\", fstype!~\"rootfs|selinuxfs|autofs|rpc_pipefs|tmpfs|shm|overlay|squashfs\"}/node_filesystem_size_bytes{node_name=~\"$node_name\", fstype!~\"rootfs|selinuxfs|autofs|rpc_pipefs|tmpfs|shm|overlay|squashfs\"})*100 or \n(100 - azure_storage_percent_average{node_name=~\"$node_name\"}))",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "refId": "A"
                }
             ],
             "title": "Min Space Available",
             "type": "stat"
          },
          {
             "description": "",
             "gridPos": {
                "h": 3,
                "w": 3,
                "x": 21,
                "y": 56
             },
             "id": 387,
             "links": [ ],
             "options": {
                "content": "<h5 style='color:#e68a00;font-weight:bold;text-align:center'><a href=\"/graph/d/node-instance-summary/node-summary?var-node_name=$node_name\" target=\"_blank\">$node_name</a></h5>",
                "mode": "html"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "calculatedInterval": "10m",
                   "datasourceErrors": { },
                   "errors": { },
                   "expr": "mysql_global_variables_innodb_buffer_pool_size{instance=~\"$instance\"} ",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "",
                   "metric": "",
                   "refId": "A",
                   "step": 300
                }
             ],
             "title": "Node",
             "type": "text"
          },
          {
             "aliasColors": {
                "Max Core Utilization": "#bf1b00",
                "idle": "#806EB7",
                "iowait": "#E24D42",
                "nice": "#1F78C1",
                "softirq": "#FFF899",
                "steal": "#8F3BB8",
                "system": "#EAB839",
                "user": "#508642"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "The CPU time is measured in clock ticks or seconds. It is useful to measure CPU time as a percentage of the CPU's capacity, which is called the CPU usage.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 6,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 59
             },
             "height": "",
             "hiddenSeries": false,
             "id": 337,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "Max Core Utilization",
                   "lines": false,
                   "pointradius": 1,
                   "points": true,
                   "stack": false
                }
             ],
             "spaceLength": 10,
             "stack": true,
             "steppedLine": true,
             "targets": [
                {
                   "expr": "avg by (node_name,mode) (clamp_max(((avg by (mode) ( (clamp_max(rate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\", mode!=\"user\", mode!=\"system\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\", mode!=\"user\", mode!=\"system\"}[5m]),1)) ))*100 or (avg_over_time(node_cpu_average{node_name=~\"$node_name\", mode!=\"total\", mode!=\"idle\", mode!=\"user\", mode!=\"system\"}[$interval]) or avg_over_time(node_cpu_average{node_name=~\"$node_name\", mode!=\"total\", mode!=\"idle\", mode!=\"user\", mode!=\"system\"}[5m]))),100))",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{mode}}`}}",
                   "refId": "B"
                },
                {
                   "expr": "clamp_max(sum(rate(container_cpu_usage_seconds_total{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval]) or rate(container_cpu_usage_seconds_total{node_name=\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[5m])) or\nmax by () (sum  by (cpu) ( (clamp_max(rate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\",mode!=\"iowait\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\",mode!=\"iowait\"}[5m]),1)) )),1)",
                   "format": "time_series",
                   "hide": true,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Max Core Utilization",
                   "refId": "C"
                },
                {
                   "exemplar": true,
                   "expr": "clamp_max(avg(rate(container_cpu_system_seconds_total{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval])) or \n((avg by () ((clamp_max(rate(node_cpu_seconds_total{node_name=~\"$node_name\",mode=\"system\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\"$node_name\",mode=\"system\"}[5m]),1)) ))*100 or \n(avg_over_time(node_cpu_average{node_name=~\"$node_name\", mode=\"system\"}[$interval]) or \navg_over_time(node_cpu_average{node_name=~\"$node_name\", mode=\"system\"}[5m]))),100)",
                   "hide": false,
                   "interval": "$interval",
                   "legendFormat": "system",
                   "refId": "A"
                },
                {
                   "exemplar": true,
                   "expr": "clamp_max(avg(rate(container_cpu_user_seconds_total{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval])) or \n((avg by () ((clamp_max(rate(node_cpu_seconds_total{node_name=~\"$node_name\",mode=\"user\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\"$node_name\",mode=\"user\"}[5m]),1)) ))*100 or \n(avg_over_time(node_cpu_average{node_name=~\"$node_name\", mode=\"user\"}[$interval]) or \navg_over_time(node_cpu_average{node_name=~\"$node_name\", mode=\"user\"}[5m]))),100)",
                   "hide": false,
                   "interval": "$interval",
                   "legendFormat": "user",
                   "refId": "D"
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "CPU Usage",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "percent",
                   "label": "",
                   "logBase": 1,
                   "max": "100",
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "min": 0,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": {
                "Allocated": "#E0752D",
                "CPU Load": "#64B0C8",
                "IO Load ": "#EA6460",
                "Limit": "#1F78C1",
                "Max CPU Core Utilization": "#bf1b00",
                "Max Core Usage": "#bf1b00",
                "Normalized CPU Load": "#6ED0E0"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "When a system is running with maximum CPU utilization, the transmitting and receiving threads must all share the available CPU. This will cause data to be queued more frequently to cope with the lack of CPU. CPU Saturation may be measured as the length of a wait queue, or the time spent waiting on the queue.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 59
             },
             "hiddenSeries": false,
             "id": 339,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideEmpty": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "Max CPU Core Utilization",
                   "lines": false,
                   "pointradius": 1,
                   "points": true,
                   "yaxis": 2
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": true,
             "targets": [
                {
                   "calculatedInterval": "2s",
                   "datasourceErrors": { },
                   "errors": { },
                   "expr": "((sum(avg_over_time(container_processes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval]))-1) / avg by () (machine_cpu_cores)) or\navg by () ((avg_over_time(node_procs_running{node_name=~\"$node_name\"}[$interval])-1) / scalar(count(node_cpu_seconds_total{mode=\"user\", node_name=~\"$node_name\"})) or (avg_over_time(node_procs_running{node_name=~\"$node_name\"}[5m])-1) / scalar(count(node_cpu_seconds_total{mode=\"user\", node_name=~\"$node_name\"})))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Normalized CPU Load",
                   "metric": "",
                   "refId": "B",
                   "step": 300,
                   "target": ""
                },
                {
                   "calculatedInterval": "2s",
                   "datasourceErrors": { },
                   "errors": { },
                   "expr": "clamp_max(sum(rate(container_cpu_usage_seconds_total{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval]) or rate(container_cpu_usage_seconds_total{node_name=\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[5m])) or\nmax by () (sum  by (cpu) ( (clamp_max(rate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\",mode!=\"iowait\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\",mode!=\"iowait\"}[5m]),1)) )),1)",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Max CPU Core Utilization",
                   "metric": "",
                   "refId": "A",
                   "step": 300,
                   "target": ""
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "CPU Saturation and Max Core Usage",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "percentunit",
                   "logBase": 1,
                   "max": "1",
                   "min": 0,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": {
                "Swap In (Reads)": "#6ed0e0",
                "Swap Out (Writes)": "#ef843c",
                "Total": "#bf1b00"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Disk I/O includes read or write or input/output operations involving a physical disk. It is the speed with which the data transfer takes place between the hard disk drive and RAM.\n\nSwap Activity is memory management that involves swapping sections of memory to and from physical storage.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 67
             },
             "hiddenSeries": false,
             "id": 341,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideEmpty": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [
                {
                   "targetBlank": true,
                   "title": "Disk Performance",
                   "url": "/graph/d/node-disk/disk-details?$__url_time_range&$__all_variables"
                }
             ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "Disk Writes (Page Out)",
                   "transform": "negative-Y"
                },
                {
                   "alias": "Total",
                   "legend": false,
                   "lines": false
                },
                {
                   "alias": "Swap Out (Writes)",
                   "transform": "negative-Y"
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": true,
             "targets": [
                {
                   "calculatedInterval": "2s",
                   "datasourceErrors": { },
                   "errors": { },
                   "expr": "avg by () (sum(rate(container_fs_reads_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_reads_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) or\navg by () (rate(node_vmstat_pgpgin{node_name=\"$node_name\"}[$interval]) * 1024 or irate(node_vmstat_pgpgin{node_name=\"$node_name\"}[5m]) * 1024)",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Disk Reads (Page In)",
                   "metric": "",
                   "refId": "A",
                   "step": 300,
                   "target": ""
                },
                {
                   "calculatedInterval": "2s",
                   "datasourceErrors": { },
                   "errors": { },
                   "expr": "avg by () (sum(rate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) or\navg by () ((rate(node_vmstat_pgpgout{node_name=\"$node_name\"}[$interval]) * 1024 or irate(node_vmstat_pgpgout{node_name=\"$node_name\"}[5m]) * 1024))",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Disk Writes (Page Out)",
                   "metric": "",
                   "refId": "B",
                   "step": 300,
                   "target": ""
                },
                {
                   "expr": "avg by () (sum(rate(container_fs_reads_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_reads_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) + \navg by () (sum(rate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) or \navg  by () ((rate(node_vmstat_pgpgin{node_name=\"$node_name\"}[$interval]) * 1024 or irate(node_vmstat_pgpgin{node_name=\"$node_name\"}[5m]) * 1024 ) + (rate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) + \navg by () (sum(rate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) or \navg  by () ((rate(node_vmstat_pgpgout{node_name=\"$node_name\"}[$interval]) * 1024 or irate(node_vmstat_pgpgout{node_name=\"$node_name\"}[5m]) * 1024))",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Total",
                   "refId": "C"
                },
                {
                   "expr": "avg by (node_name) (rate(node_vmstat_pswpin{node_name=\"$node_name\"}[$interval]) * 4096 or irate(node_vmstat_pswpin{node_name=\"$node_name\"}[5m]) * 4096)",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Swap In (Reads)",
                   "refId": "D"
                },
                {
                   "expr": "avg by () (rate(container_memory_swap{node_name=\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval]) or \nirate(container_memory_swap{node_name=\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[5s])) or \navg by () (rate(node_vmstat_pswpout{node_name=\"$node_name\"}[$interval]) * 4096 or \nirate(node_vmstat_pswpout{node_name=\"$node_name\"}[5m]) * 4096)",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Swap Out (Writes)",
                   "refId": "E"
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Disk I/O and Swap Activity",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "Bps",
                   "label": "Page Out (-) / Page In (+)",
                   "logBase": 1,
                   "show": true
                },
                {
                   "format": "bytes",
                   "logBase": 1,
                   "min": 0,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Network traffic refers to the amount of data moving across a network at a given point in time.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 67
             },
             "hiddenSeries": false,
             "id": 343,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideEmpty": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "Outbound",
                   "transform": "negative-Y"
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": true,
             "targets": [
                {
                   "calculatedInterval": "2s",
                   "datasourceErrors": { },
                   "errors": { },
                   "expr": "sum(rate(container_network_receive_bytes_total{node_name=\"$node_name\",id=~\"/kubepods/.*\"}[$interval]) or \nirate(container_network_receive_bytes_total{node_name=\"$node_name\",id=~\"/kubepods/.*\"}[5m])) or\nsum(rate(node_network_receive_bytes_total{node_name=\"$node_name\", device!=\"lo\"}[$interval])) or \nsum(irate(node_network_receive_bytes_total{node_name=\"$node_name\", device!=\"lo\"}[5m])) or \nsum(max_over_time(rdsosmetrics_network_rx{node_name=\"$node_name\"}[$interval])) or \nsum(max_over_time(rdsosmetrics_network_rx{node_name=\"$node_name\"}[5m]))",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Inbound",
                   "metric": "",
                   "refId": "B",
                   "step": 300,
                   "target": ""
                },
                {
                   "calculatedInterval": "2s",
                   "datasourceErrors": { },
                   "errors": { },
                   "expr": "sum(rate(container_network_transmit_bytes_total{node_name=\"$node_name\",id=~\"/kubepods/.*\"}[$interval]) or \nirate(container_network_transmit_bytes_total{node_name=\"$node_name\",id=~\"/kubepods/.*\"}[5m])) or \nsum(rate(node_network_transmit_bytes_total{node_name=\"$node_name\", device!=\"lo\"}[$interval])) or \nsum(irate(node_network_transmit_bytes_total{node_name=\"$node_name\", device!=\"lo\"}[5m])) or\nsum(max_over_time(rdsosmetrics_network_tx{node_name=\"$node_name\"}[$interval])) or \nsum(max_over_time(rdsosmetrics_network_tx{node_name=\"$node_name\"}[5m]))",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Outbound",
                   "metric": "",
                   "refId": "A",
                   "step": 300,
                   "target": ""
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Network Traffic",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "Bps",
                   "label": "Outbound (-) / Inbound (+)",
                   "logBase": 1,
                   "show": true
                },
                {
                   "format": "bytes",
                   "logBase": 1,
                   "min": 0,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          }
       ],
       "refresh": "1m",
       "schemaVersion": 34,
       "style": "dark",
       "tags": [
          "MongoDB",
          "Percona"
       ],
       "templating": {
          "list": [
             {
                "allFormat": "glob",
                "auto": true,
                "auto_count": 200,
                "auto_min": "1s",
                "current": {
                   "selected": false,
                   "text": "auto",
                   "value": "$__auto_interval_interval"
                },
                "datasource": "$datasource",
                "hide": 0,
                "includeAll": false,
                "label": "Interval",
                "multi": false,
                "multiFormat": "glob",
                "name": "interval",
                "options": [
                   {
                      "selected": true,
                      "text": "auto",
                      "value": "$__auto_interval_interval"
                   },
                   {
                      "selected": false,
                      "text": "1s",
                      "value": "1s"
                   },
                   {
                      "selected": false,
                      "text": "5s",
                      "value": "5s"
                   },
                   {
                      "selected": false,
                      "text": "1m",
                      "value": "1m"
                   },
                   {
                      "selected": false,
                      "text": "5m",
                      "value": "5m"
                   },
                   {
                      "selected": false,
                      "text": "1h",
                      "value": "1h"
                   },
                   {
                      "selected": false,
                      "text": "6h",
                      "value": "6h"
                   },
                   {
                      "selected": false,
                      "text": "1d",
                      "value": "1d"
                   }
                ],
                "query": "1s,5s,1m,5m,1h,6h,1d",
                "refresh": 2,
                "skipUrlSync": false,
                "type": "interval"
             },
             {
                "allFormat": "glob",
                "allValue": ".*",
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values(mongodb_up{environment=~\"$environment\"},cluster)",
                "hide": 0,
                "includeAll": true,
                "label": "Cluster",
                "multi": false,
                "multiFormat": "glob",
                "name": "cluster",
                "options": [ ],
                "query": {
                   "query": "label_values(mongodb_up{environment=~\"$environment\"},cluster)",
                   "refId": "Metrics-cluster-Variable-Query"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "type": "query",
                "useTags": false
             },
             {
                "allFormat": "glob",
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values(mongodb_mongod_storage_engine{instance=~\"$instance\"}, node_name)",
                "hide": 2,
                "includeAll": true,
                "label": "Node Name",
                "multi": false,
                "multiFormat": "glob",
                "name": "node_name",
                "options": [ ],
                "query": "label_values(mongodb_mongod_storage_engine{instance=~\"$instance\"}, node_name)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allFormat": "glob",
                "current": {
                   "isNone": true,
                   "selected": false,
                   "text": "None",
                   "value": ""
                },
                "datasource": "$datasource",
                "definition": "label_values(mongodb_mongod_storage_engine{cluster=~\"$cluster\",engine=\"inMemory\"}, instance)",
                "hide": 0,
                "includeAll": false,
                "label": "Service Name",
                "multi": false,
                "multiFormat": "glob",
                "name": "instance",
                "options": [ ],
                "query": "label_values(mongodb_mongod_storage_engine{cluster=~\"$cluster\",engine=\"inMemory\"}, instance)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allValue": ".*",
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, environment)",
                "hide": 2,
                "includeAll": true,
                "label": "Environment",
                "multi": true,
                "name": "environment",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, environment)",
                   "refId": "Metrics-environment-Variable-Query"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, replication_set)",
                "hide": 2,
                "includeAll": true,
                "label": "Replication Set",
                "multi": true,
                "name": "replication_set",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, replication_set)",
                   "refId": "Metrics-replication_set-Variable-Query"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "",
                "hide": 0,
                "includeAll": true,
                "label": "Cluster",
                "multi": false,
                "multiFormat": "glob",
                "name": "cluster",
                "options": [ ],
                "query": {
                   "query": "label_values(mongodb_up,cluster)",
                   "refId": "Metrics-cluster-Variable-Query"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "type": "query",
                "useTags": false
             },
             {
                "allFormat": "glob",
                "current": {
                   "selected": false,
                   "text": "None",
                   "value": ""
                },
                "datasource": "$datasource",
                "definition": "label_values(mongodb_up{cluster=~\"$cluster\"}, instance)",
                "hide": 0,
                "includeAll": false,
                "label": "Service Name",
                "multi": false,
                "multiFormat": "glob",
                "name": "instance",
                "options": [ ],
                "query": "label_values(mongodb_up{cluster=~\"$cluster\"}, instance)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allFormat": "glob",
                "current": {
                   "selected": false,
                   "text": "None",
                   "value": ""
                },
                "datasource": "$datasource",
                "definition": "label_values(mongodb_up{cluster=~\"$cluster\",instance=~\"$instance\"}, node_name)",
                "hide": 2,
                "includeAll": false,
                "label": "Node Name",
                "multi": false,
                "multiFormat": "glob",
                "name": "node_name",
                "options": [ ],
                "query": "label_values(mongodb_up{cluster=~\"$cluster\",instance=~\"$instance\"}, node_name)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allValue": ".*",
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, environment)",
                "hide": 2,
                "includeAll": true,
                "label": "Environment",
                "multi": true,
                "name": "environment",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, environment)",
                   "refId": "Metrics-environment-Variable-Query"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, replication_set)",
                "hide": 2,
                "includeAll": true,
                "label": "Replication Set",
                "multi": true,
                "name": "replication_set",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, replication_set)",
                   "refId": "Metrics-replication_set-Variable-Query"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values(pg_stat_database_tup_fetched{instance=~\"$instance\",datname!~\"template.*|postgres\"},datname)",
                "hide": 2,
                "includeAll": true,
                "label": "Database",
                "multi": true,
                "name": "database",
                "options": [ ],
                "query": "label_values(pg_stat_database_tup_fetched{instance=~\"$instance\",datname!~\"template.*|postgres\"},datname)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, node_type)",
                "hide": 2,
                "includeAll": true,
                "label": "Type",
                "multi": true,
                "name": "node_type",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, node_type)",
                   "refId": "Metrics-node_type-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, service_type)",
                "hide": 2,
                "includeAll": true,
                "label": "Type",
                "multi": true,
                "name": "service_type",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, service_type)",
                   "refId": "Metrics-service_type-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, schema)",
                "hide": 2,
                "includeAll": true,
                "label": "Schema",
                "multi": true,
                "name": "schema",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, schema)",
                   "refId": "Metrics-schema-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values(mysql_info_schema_user_statistics_connected_time_seconds_total{instance=\"$instance\"},user)",
                "hide": 2,
                "includeAll": true,
                "label": "Username",
                "multi": true,
                "name": "username",
                "options": [ ],
                "query": "label_values(mysql_info_schema_user_statistics_connected_time_seconds_total{instance=\"$instance\"},user)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "r1",
                   "value": "r1"
                },
                "datasource": "$datasource",
                "definition": "query_result(mongodb_mongod_replset_my_state{instance=~\"$instance\"})",
                "hide": 2,
                "includeAll": false,
                "label": "Replica Set",
                "multi": false,
                "name": "replset",
                "options": [ ],
                "query": "query_result(mongodb_mongod_replset_my_state{instance=~\"$instance\"})",
                "refresh": 2,
                "regex": "/set=\"(.*)\"/",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allFormat": "glob",
                "current": {
                   "selected": false,
                   "text": "None",
                   "value": ""
                },
                "datasource": "$datasource",
                "definition": "label_values(mongodb_up{instance=~\"$instance\"}, service_id)",
                "hide": 2,
                "includeAll": false,
                "label": "Service ID",
                "multi": false,
                "multiFormat": "glob",
                "name": "service_id",
                "options": [ ],
                "query": "label_values(mongodb_up{instance=~\"$instance\"}, service_id)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allFormat": "glob",
                "current": {
                   "selected": false,
                   "text": "None",
                   "value": ""
                },
                "datasource": "$datasource",
                "definition": "label_values(up{instance=~\"$instance\"},instance)",
                "hide": 2,
                "includeAll": false,
                "label": "",
                "multi": false,
                "name": "pod",
                "options": [ ],
                "query": "label_values(up{instance=~\"$instance\"},instance)",
                "refresh": 2,
                "regex": "/default-(.*-.*)/",
                "skipUrlSync": false,
                "sort": 0,
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": "false",
                   "text": "prometheus",
                   "value": "prometheus"
                },
                "hide": 0,
                "includeAll": "false",
                "label": "Datasource",
                "multi": "false",
                "name": "datasource",
                "options": [ ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": "false",
                "type": "datasource"
             }
          ]
       },
       "time": {
          "from": "now-12h",
          "to": "now"
       },
       "timepicker": {
          "hidden": false,
          "now": true,
          "refresh_intervals": [
             "5s",
             "10s",
             "30s",
             "1m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ],
          "time_options": [
             "5m",
             "15m",
             "1h",
             "6h",
             "12h",
             "24h",
             "2d",
             "7d",
             "30d"
          ]
       },
       "timezone": "",
       "title": "MongoDB InMemory Details",
       "uid": "mongodb-inmemory",
       "version": 1,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: in-memory-details-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  instance_summary.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": false,
                "iconColor": "#e0752d",
                "limit": 100,
                "matchAny": true,
                "name": "PMM Annotations",
                "showIn": 0,
                "tags": [
                   "pmm_annotation",
                   "$service_name"
                ],
                "target": {
                   "limit": 100,
                   "matchAny": true,
                   "tags": [
                      "pmm_annotation",
                      "$service_name"
                   ],
                   "type": "tags"
                },
                "type": "tags"
             },
             {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": true,
                "iconColor": "#6ed0e0",
                "limit": 100,
                "name": "Annotations & Alerts",
                "showIn": 0,
                "tags": [ ],
                "target": {
                   "limit": 100,
                   "matchAny": false,
                   "tags": [ ],
                   "type": "dashboard"
                },
                "type": "dashboard"
             }
          ]
       },
       "editable": false,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 1,
       "id": null,
       "iteration": 1656416357198,
       "links": [
          {
             "icon": "doc",
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "Home"
             ],
             "targetBlank": false,
             "title": "Home",
             "type": "link",
             "url": "/graph/d/pmm-home/home-dashboard"
          },
          {
             "icon": "dashboard",
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "Query Analytics"
             ],
             "targetBlank": false,
             "title": "Query Analytics",
             "type": "link",
             "url": "/graph/d/pmm-qan/pmm-query-analytics"
          },
          {
             "icon": "bolt",
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "Compare"
             ],
             "targetBlank": false,
             "title": "Compare",
             "type": "link",
             "url": "/graph/d/mongodb-instance-compare/mongodb-instances-compare"
          },
          {
             "asDropdown": true,
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "MongoDB"
             ],
             "targetBlank": false,
             "title": "MongoDB",
             "type": "dashboards"
          },
          {
             "asDropdown": true,
             "includeVars": true,
             "keepTime": true,
             "tags": [
                "MongoDB_HA"
             ],
             "targetBlank": false,
             "title": "HA",
             "type": "dashboards"
          },
          {
             "asDropdown": true,
             "includeVars": false,
             "keepTime": true,
             "tags": [
                "Services"
             ],
             "targetBlank": false,
             "title": "Services",
             "type": "dashboards"
          },
          {
             "asDropdown": true,
             "includeVars": false,
             "keepTime": true,
             "tags": [
                "PMM"
             ],
             "targetBlank": false,
             "title": "PMM",
             "type": "dashboards"
          }
       ],
       "liveNow": false,
       "panels": [
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
             },
             "id": 1009,
             "panels": [ ],
             "type": "row"
          },
          {
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 0,
                "y": 1
             },
             "id": 1003,
             "links": [ ],
             "options": {
                "content": "<h5 style='color:#e68a00;font-weight:bold;text-align:center'><a href=\"/graph/d/node-instance-summary/node-summary?var-node_name=$node_name\" target=\"_blank\">$node_name</a></h5>",
                "mode": "html"
             },
             "pluginVersion": "8.3.5",
             "title": "Node",
             "type": "text"
          },
          {
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#d44a3a",
                            "value": null
                         },
                         {
                            "color": "rgba(237, 129, 40, 0.89)",
                            "value": 3600
                         },
                         {
                            "color": "#299c46",
                            "value": 86400
                         }
                      ]
                   },
                   "unit": "s"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 4,
                "y": 1
             },
             "id": 1001,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "avg by (instance) (mongodb_instance_uptime_seconds{instance=~\"$instance\"})",
                   "interval": "$interval",
                   "refId": "A"
                }
             ],
             "title": "MongoDB Uptime",
             "type": "stat"
          },
          {
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "ops"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 8,
                "y": 1
             },
             "id": 1005,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "sum(rate(mongodb_mongod_op_counters_total{instance=~\"$instance\",type!=\"command\"}[$interval]) or irate(mongodb_mongod_op_counters_total{instance=~\"$instance\",type!=\"command\"}[5m]) or rate(mongodb_op_counters_total{instance=~\"$instance\",type!=\"command\"}[$interval]) or irate(mongodb_op_counters_total{instance=~\"$instance\",type!=\"command\"}[5m]))",
                   "interval": "$interval",
                   "refId": "A"
                }
             ],
             "title": "QPS",
             "type": "stat"
          },
          {
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "decimals": 2,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "s"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 12,
                "y": 1
             },
             "id": 1007,
             "links": [ ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_op_latencies_latency_total{instance=~\"$instance\",type=\"command\"}[$interval]) / (rate(mongodb_mongod_op_latencies_ops_total{instance=~\"$instance\",type=\"command\"}[$interval]) > 0) or\nirate(mongodb_mongod_op_latencies_latency_total{instance=~\"$instance\",type=\"command\"}[5m]) / (irate(mongodb_mongod_op_latencies_ops_total{instance=~\"$instance\",type=\"command\"}[5m]) > 0))",
                   "interval": "$interval",
                   "refId": "A"
                }
             ],
             "title": "Latency",
             "type": "stat"
          },
          {
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 16,
                "y": 1
             },
             "id": 1020,
             "links": [
                {
                   "targetBlank": true,
                   "title": "MongoDB ReplSet Summary - $service_name",
                   "url": "/graph/d/mongodb-replicaset-summary/mongodb-replset-summary?var-service_name=$service_name"
                }
             ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "/^set$/",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "mongodb_mongod_replset_my_state{instance=~\"$instance\"}",
                   "format": "table",
                   "interval": "$interval",
                   "legendFormat": "{{`{{set}}`}}",
                   "refId": "A"
                }
             ],
             "title": "ReplSet",
             "type": "stat"
          },
          {
             "description": "This shows the role of the selected service. Normally this should be one of ``PRIMARY``, ``SECONDARY`` and ``ARBITER``, but if the system is newly added it could show ``STARTUP2`` during its initial sync.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "text": "STARTUP"
                            },
                            "1": {
                               "text": "PRIMARY"
                            },
                            "10": {
                               "text": "REMOVED"
                            },
                            "2": {
                               "text": "SECONDARY"
                            },
                            "3": {
                               "text": "RECOVERING"
                            },
                            "5": {
                               "text": "STARTUP2"
                            },
                            "6": {
                               "text": "UNKNOWN"
                            },
                            "7": {
                               "text": "ARBITER"
                            },
                            "8": {
                               "text": "DOWN"
                            },
                            "9": {
                               "text": "ROLLBACK"
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 20,
                "y": 1
             },
             "id": 1016,
             "links": [
                {
                   "targetBlank": true,
                   "title": "MongoDB ReplSet Summary - $service_name",
                   "url": "/graph/d/mongodb-replicaset-summary/mongodb-replset-summary?var-service_name=$service_name"
                }
             ],
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": {
                   "valueSize": 20
                },
                "textMode": "auto"
             },
             "pluginVersion": "8.3.5",
             "targets": [
                {
                   "expr": "max by (instance) (mongodb_mongod_replset_my_state{instance=~\"$instance\"})",
                   "interval": "$interval",
                   "refId": "A"
                }
             ],
             "title": "Current ReplSet State",
             "type": "stat"
          },
          {
             "backgroundColor": "rgba(128,128,128,0.1)",
             "colorMaps": [
                {
                   "color": "rgb(107, 152, 102)",
                   "text": "PRIMARY"
                },
                {
                   "color": "rgb(193, 159, 20)",
                   "text": "SECONDARY"
                }
             ],
             "crosshairColor": "#8F070C",
             "description": "Read more about [Replica Set Member States](https://docs.mongodb.com/manual/reference/replica-states/).",
             "display": "timeline",
             "expandFromQueryS": 0,
             "extendLastValue": true,
             "gridPos": {
                "h": 4,
                "w": 24,
                "x": 0,
                "y": 4
             },
             "highlightOnMouseover": true,
             "id": 1018,
             "legendSortBy": "-ms",
             "lineColor": "rgba(0,0,0,0.1)",
             "metricNameColor": "#000000",
             "rangeMaps": [
                {
                   "from": "null",
                   "text": "N/A",
                   "to": "null"
                }
             ],
             "rowHeight": 50,
             "showDistinctCount": false,
             "showLegend": true,
             "showLegendCounts": false,
             "showLegendNames": true,
             "showLegendPercent": true,
             "showLegendTime": true,
             "showLegendValues": true,
             "showTimeAxis": true,
             "showTransitionCount": false,
             "targets": [
                {
                   "expr": "sum by (set) (mongodb_mongod_replset_my_state{instance=~\"$instance\"})",
                   "interval": "$interval",
                   "legendFormat": "{{`{{set}}`}}",
                   "refId": "A"
                }
             ],
             "textSize": 24,
             "textSizeTime": 12,
             "timeOptions": [
                {
                   "name": "Years",
                   "value": "years"
                },
                {
                   "name": "Months",
                   "value": "months"
                },
                {
                   "name": "Weeks",
                   "value": "weeks"
                },
                {
                   "name": "Days",
                   "value": "days"
                },
                {
                   "name": "Hours",
                   "value": "hours"
                },
                {
                   "name": "Minutes",
                   "value": "minutes"
                },
                {
                   "name": "Seconds",
                   "value": "seconds"
                },
                {
                   "name": "Milliseconds",
                   "value": "milliseconds"
                }
             ],
             "timePrecision": {
                "name": "Minutes",
                "value": "minutes"
             },
             "timeTextColor": "#d8d9da",
             "title": "ReplSet $service_name states",
             "type": "natel-discrete-panel",
             "units": "short",
             "use12HourClock": false,
             "useTimePrecision": false,
             "valueMaps": [
                {
                   "op": "=",
                   "text": "PRIMARY",
                   "value": "1"
                },
                {
                   "op": "=",
                   "text": "SECONDARY",
                   "value": "2"
                },
                {
                   "op": "=",
                   "text": "STARTUP",
                   "value": "0"
                },
                {
                   "op": "=",
                   "text": "RECOVERING",
                   "value": "3"
                },
                {
                   "op": "=",
                   "text": "STARTUP2",
                   "value": "5"
                },
                {
                   "op": "=",
                   "text": "UNKNOWN",
                   "value": "6"
                },
                {
                   "op": "=",
                   "text": "ARBITER",
                   "value": "7"
                },
                {
                   "op": "=",
                   "text": "DOWN",
                   "value": "8"
                },
                {
                   "op": "=",
                   "text": "ROLLBACK",
                   "value": "9"
                },
                {
                   "op": "=",
                   "text": "REMOVED",
                   "value": "10"
                }
             ],
             "valueTextColor": "#000000",
             "writeAllValues": false,
             "writeLastValue": true,
             "writeMetricNames": false
          },
          {
             "collapsed": true,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 8
             },
             "id": 1022,
             "panels": [
                {
                   "datasource": "$datasource",
                   "fieldConfig": {
                      "defaults": {
                         "custom": { }
                      },
                      "overrides": [ ]
                   },
                   "gridPos": {
                      "h": 16,
                      "w": 24,
                      "x": 0,
                      "y": 10
                   },
                   "id": 1024,
                   "pluginVersion": "7.1.3",
                   "targets": [
                      {
                         "queryType": {
                            "queryType": "mongodb",
                            "type": "mongodb",
                            "variableName": "service_id"
                         },
                         "refId": "A"
                      }
                   ],
                   "title": "Service Summary",
                   "type": "pmm-pt-summary-panel"
                }
             ],
             "title": "Service Summary",
             "type": "row"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 9
             },
             "id": 1011,
             "panels": [ ],
             "type": "row"
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Ops or Replicated Ops/sec classified by legacy wire protocol type (query, insert, update, delete, getmore). And (from the internal TTL threads) the docs deletes/sec by TTL indexes.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 10
             },
             "hiddenSeries": false,
             "id": 15,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": false,
                "max": true,
                "min": true,
                "rightSide": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_op_counters_total{instance=~\"$instance\", type!=\"command\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{instance=~\"$instance\", type!=\"command\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{instance=~\"$instance\", type!=\"command\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{instance=~\"$instance\", type!=\"command\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{type}}`}}",
                   "refId": "J",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_op_counters_repl_total{instance=~\"$instance\", type!~\"(command|query|getmore)\"}[$interval]) or \nirate(mongodb_mongod_op_counters_repl_total{instance=~\"$instance\", type!~\"(command|query|getmore)\"}[5m]) or\nrate(mongodb_mongos_op_counters_repl_total{instance=~\"$instance\", type!~\"(command|query|getmore)\"}[$interval]) or \nirate(mongodb_mongos_op_counters_repl_total{instance=~\"$instance\", type!~\"(command|query|getmore)\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "repl_{{`{{type}}`}}",
                   "refId": "A",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_metrics_ttl_deleted_documents_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongod_metrics_ttl_deleted_documents_total{instance=~\"$instance\"}[5m]) or\nrate(mongodb_mongos_metrics_ttl_deleted_documents_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongos_metrics_ttl_deleted_documents_total{instance=~\"$instance\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "ttl_delete",
                   "refId": "B",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Command Operations",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "individual"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "ops",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Average latency of operations (classified by read, write, or (other) command)",
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 18
             },
             "hiddenSeries": false,
             "id": 1014,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "rightSide": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,type) (rate(mongodb_mongod_op_latencies_latency_total{instance=~\"$instance\"}[$interval]) / (rate(mongodb_mongod_op_latencies_ops_total{instance=~\"$instance\"}[$interval]) > 0) or irate(mongodb_mongod_op_latencies_latency_total{instance=~\"$instance\"}[5m]) / (irate(mongodb_mongod_op_latencies_ops_total{instance=~\"$instance\"}[5m]) > 0))",
                   "interval": "$interval",
                   "legendFormat": "{{`{{type}}`}}",
                   "refId": "A"
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Latency Detail",
             "tooltip": {
                "shared": true,
                "sort": 5,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "s",
                   "logBase": 1,
                   "min": "0",
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "TCP connections (Incoming)",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 26
             },
             "height": "250px",
             "hiddenSeries": false,
             "id": 38,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (mongodb_mongod_connections{instance=~\"$instance\", state=\"current\"} or\nmongodb_mongos_connections{instance=~\"$instance\", state=\"current\"} or\nmongodb_connections{instance=~\"$instance\", state=\"current\"})",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Connections",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Connections",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Open cursors. Includes idle cursors.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 26
             },
             "height": "250px",
             "hiddenSeries": false,
             "id": 25,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,state) (mongodb_mongod_metrics_cursor_open{instance=~\"$instance\"} or\nmongodb_mongod_cursors{instance=~\"$instance\"} or\nmongodb_mongos_metrics_cursor_open{instance=~\"$instance\"} or \nmongodb_mongos_cursors{instance=~\"$instance\"})",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{state}}`}}",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Cursors",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Docs per second inserted, updated, deleted or returned. (N.b. not 1-to-1 with operation counts.)",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 34
             },
             "height": "250px",
             "hiddenSeries": false,
             "id": 36,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,state) (rate(mongodb_mongod_metrics_document_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{instance=~\"$instance\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{state}}`}}",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Document Operations",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "ops",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Operations queued due to a lock.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 34
             },
             "height": "250px",
             "hiddenSeries": false,
             "id": 40,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,type) (mongodb_mongod_global_lock_current_queue{instance=~\"$instance\"})",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{type}}`}}",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Queued Operations",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "ops",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Ratio of Documents returned or Index entries scanned / full documents scanned",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 42
             },
             "height": "250px",
             "hiddenSeries": false,
             "id": 63,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null as zero",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": true,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum(rate(mongodb_mongod_metrics_document_total{instance=~\"$instance\", state=\"returned\"}[$interval]))/\nsum(rate(mongodb_mongod_metrics_query_executor_total{instance=~\"$instance\", state=\"scanned_objects\"}[$interval])) \nor\nsum(irate(mongodb_mongod_metrics_document_total{instance=~\"$instance\", state=\"returned\"}[5m]))/\nsum(irate(mongodb_mongod_metrics_query_executor_total{instance=~\"$instance\", state=\"scanned_objects\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Document",
                   "refId": "J",
                   "step": 300
                },
                {
                   "expr": "(sum(rate(mongodb_mongod_metrics_query_executor_total{instance=~\"$instance\", state=\"scanned\"}[$interval]))/\nsum(rate(mongodb_mongod_metrics_query_executor_total{instance=~\"$instance\", state=\"scanned_objects\"}[$interval])) \nor\nsum(irate(mongodb_mongod_metrics_query_executor_total{instance=~\"$instance\", state=\"scanned\"}[5m]))/\nsum(irate(mongodb_mongod_metrics_query_executor_total{instance=~\"$instance\", state=\"scanned_objects\"}[5m])))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Index",
                   "refId": "A",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Query Efficiency",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "format": "percentunit",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "none",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "This panel shows the number of objects (both data (scanned_objects) and index (scanned)) as well as the number of documents that were moved to a new location due to the size of the document growing. Moved documents only apply to the MMAPv1 storage engine.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 42
             },
             "hiddenSeries": false,
             "id": 64,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null as zero",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_metrics_query_executor_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongod_metrics_query_executor_total{instance=~\"$instance\"}[5m]))",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{state}}`}}",
                   "metric": "",
                   "refId": "A",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_metrics_record_moves_total{instance=~\"$instance\"}[$interval]) or irate(mongodb_mongod_metrics_record_moves_total{instance=~\"$instance\"}[5m]))",
                   "format": "time_series",
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "moved",
                   "refId": "B",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Scanned and Moved Objects",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "ops",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Legacy driver operation: Number of, and Sum of time spent, per second executing getLastError commands to confirm write concern.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 50
             },
             "hiddenSeries": false,
             "id": 41,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_metrics_get_last_error_wtime_total_milliseconds{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongod_metrics_get_last_error_wtime_total_milliseconds{instance=~\"$instance\"}[5m]) or\nrate(mongodb_mongos_metrics_get_last_error_wtime_total_milliseconds{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongos_metrics_get_last_error_wtime_total_milliseconds{instance=~\"$instance\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Write Wait Time",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "getLastError Write Time",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "ms",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Legacy driver operation: Number of getLastError commands that timed out trying to confirm write concern.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 50
             },
             "height": "250px",
             "hiddenSeries": false,
             "id": 62,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "Total",
                   "color": "#C4162A",
                   "fill": 0
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_metrics_get_last_error_wtime_num_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongod_metrics_get_last_error_wtime_num_total{instance=~\"$instance\"}[5m]) or\nrate(mongodb_mongos_metrics_get_last_error_wtime_num_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongos_metrics_get_last_error_wtime_num_total{instance=~\"$instance\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Total",
                   "refId": "J",
                   "step": 300
                },
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_metrics_get_last_error_wtimeouts_total{instance=~\"$instance\"}[$interval]) or\nirate(mongodb_mongod_metrics_get_last_error_wtimeouts_total{instance=~\"$instance\"}[5m]) or\nrate(mongodb_mongos_metrics_get_last_error_wtimeouts_total{instance=~\"$instance\"}[$interval]) or\nirate(mongodb_mongos_metrics_get_last_error_wtimeouts_total{instance=~\"$instance\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Timeouts",
                   "refId": "A",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "getLastError Write Operations",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "ops",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "This panel shows the number of assert events per second on average over the given time period. In most cases assertions are trivial, but you would want to check your log files if this counter spikes or is consistently high.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 58
             },
             "height": "250px",
             "hiddenSeries": false,
             "id": 37,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": false,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance,type) (rate(mongodb_mongod_asserts_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongod_asserts_total{instance=~\"$instance\"}[5m]) or\nrate(mongodb_mongos_asserts_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongos_asserts_total{instance=~\"$instance\"}[5m]) or\nrate(mongodb_asserts_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_asserts_total{instance=~\"$instance\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{type}}`}}",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Assert Events",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "decimals": 2,
             "description": "Unix or Window memory page faults. Not necessarily from mongodb.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "links": [ ]
                },
                "overrides": [ ]
             },
             "fill": 2,
             "fillGradient": 0,
             "grid": {
                "leftLogBase": 1,
                "leftMin": 0,
                "rightLogBase": 1
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 58
             },
             "height": "250px",
             "hiddenSeries": false,
             "id": 39,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "sort": "avg",
                "sortDesc": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "alertThreshold": true
             },
             "paceLength": 10,
             "percentage": false,
             "pluginVersion": "8.3.5",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg by (instance) (rate(mongodb_mongod_extra_info_page_faults_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongod_extra_info_page_faults_total{instance=~\"$instance\"}[5m]) or\nrate(mongodb_mongos_extra_info_page_faults_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_mongos_extra_info_page_faults_total{instance=~\"$instance\"}[5m]) or\nrate(mongodb_extra_info_page_faults_total{instance=~\"$instance\"}[$interval]) or \nirate(mongodb_extra_info_page_faults_total{instance=~\"$instance\"}[5m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "$interval",
                   "intervalFactor": 1,
                   "legendFormat": "Faults",
                   "refId": "J",
                   "step": 300
                }
             ],
             "thresholds": [ ],
             "timeRegions": [ ],
             "title": "Page Faults",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 5,
                "value_type": "cumulative"
             },
             "type": "graph",
             "x-axis": true,
             "xaxis": {
                "mode": "time",
                "show": true,
                "values": [ ]
             },
             "y-axis": true,
             "y_formats": [
                "short",
                "short"
             ],
             "yaxes": [
                {
                   "decimals": 2,
                   "format": "short",
                   "label": "",
                   "logBase": 1,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "logBase": 1,
                   "show": false
                }
             ],
             "yaxis": {
                "align": false
             }
          },
          {
             "collapsed": true,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 66
             },
             "id": 291,
             "panels": [
                {
                   "description": "The parameter shows how long a system has been up and running without a shut down or restart.",
                   "fieldConfig": {
                      "defaults": {
                         "color": {
                            "mode": "thresholds"
                         },
                         "decimals": 2,
                         "mappings": [ ],
                         "thresholds": {
                            "mode": "absolute",
                            "steps": [
                               {
                                  "color": "rgba(245, 54, 54, 0.9)",
                                  "value": null
                               },
                               {
                                  "color": "rgba(237, 129, 40, 0.89)",
                                  "value": 300
                               },
                               {
                                  "color": "rgba(50, 172, 45, 0.97)",
                                  "value": 3600
                               }
                            ]
                         },
                         "unit": "s"
                      },
                      "overrides": [ ]
                   },
                   "gridPos": {
                      "h": 3,
                      "w": 3,
                      "x": 0,
                      "y": 69
                   },
                   "id": 321,
                   "interval": "$interval",
                   "links": [ ],
                   "maxDataPoints": 100,
                   "options": {
                      "colorMode": "value",
                      "graphMode": "none",
                      "justifyMode": "auto",
                      "orientation": "horizontal",
                      "reduceOptions": {
                         "calcs": [
                            "lastNotNull"
                         ],
                         "fields": "",
                         "values": false
                      },
                      "text": {
                         "valueSize": 20
                      },
                      "textMode": "auto"
                   },
                   "pluginVersion": "8.3.5",
                   "targets": [
                      {
                         "calculatedInterval": "10m",
                         "datasourceErrors": { },
                         "errors": { },
                         "exemplar": true,
                         "expr": "avg by (node_name)  (time() - container_start_time_seconds{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}) or avg by (node_name) ((node_time_seconds{node_name=~\"$node_name\"} - node_boot_time_seconds{node_name=~\"$node_name\"}) or (time() - node_boot_time_seconds{node_name=~\"$node_name\"}))",
                         "format": "time_series",
                         "hide": false,
                         "interval": "5m",
                         "intervalFactor": 1,
                         "legendFormat": "",
                         "metric": "",
                         "refId": "A",
                         "step": 300
                      }
                   ],
                   "title": "System Uptime",
                   "type": "stat"
                },
                {
                   "description": "The system load is a measurement of the computational work the system is performing. Each running process either using or waiting for CPU resources adds 1 to the load.",
                   "fieldConfig": {
                      "defaults": {
                         "color": {
                            "mode": "thresholds"
                         },
                         "decimals": 2,
                         "mappings": [
                            {
                               "options": {
                                  "match": "null",
                                  "result": {
                                     "text": "N/A"
                                  }
                               },
                               "type": "special"
                            }
                         ],
                         "thresholds": {
                            "mode": "absolute",
                            "steps": [
                               {
                                  "color": "#299c46",
                                  "value": null
                               },
                               {
                                  "color": "rgba(237, 129, 40, 0.89)",
                                  "value": 10
                               },
                               {
                                  "color": "#d44a3a",
                                  "value": 20
                               }
                            ]
                         },
                         "unit": "none"
                      },
                      "overrides": [ ]
                   },
                   "gridPos": {
                      "h": 3,
                      "w": 3,
                      "x": 3,
                      "y": 69
                   },
                   "id": 323,
                   "links": [ ],
                   "maxDataPoints": 100,
                   "options": {
                      "colorMode": "none",
                      "graphMode": "area",
                      "justifyMode": "auto",
                      "orientation": "horizontal",
                      "reduceOptions": {
                         "calcs": [
                            "lastNotNull"
                         ],
                         "fields": "",
                         "values": false
                      },
                      "text": {
                         "valueSize": 20
                      },
                      "textMode": "auto"
                   },
                   "pluginVersion": "8.3.5",
                   "targets": [
                      {
                         "exemplar": true,
                         "expr": "avg by () (avg_over_time(node_load1{node_name=~\"$node_name\"}[$interval]) or avg_over_time(node_load1{node_name=~\"$node_name\"}[5m]))",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "refId": "A"
                      }
                   ],
                   "title": "Load Average",
                   "type": "stat"
                },
                {
                   "description": "RAM (Random Access Memory) is the hardware in a computing device where the operating system, application programs and data in current use are kept so they can be quickly reached by the device's processor.",
                   "fieldConfig": {
                      "defaults": {
                         "color": {
                            "mode": "thresholds"
                         },
                         "decimals": 2,
                         "mappings": [
                            {
                               "options": {
                                  "match": "null",
                                  "result": {
                                     "text": "N/A"
                                  }
                               },
                               "type": "special"
                            }
                         ],
                         "thresholds": {
                            "mode": "absolute",
                            "steps": [
                               {
                                  "color": "green",
                                  "value": null
                               },
                               {
                                  "color": "red",
                                  "value": 80
                               }
                            ]
                         },
                         "unit": "bytes"
                      },
                      "overrides": [ ]
                   },
                   "gridPos": {
                      "h": 3,
                      "w": 3,
                      "x": 6,
                      "y": 69
                   },
                   "id": 327,
                   "interval": "$interval",
                   "links": [ ],
                   "maxDataPoints": 100,
                   "options": {
                      "colorMode": "none",
                      "graphMode": "none",
                      "justifyMode": "auto",
                      "orientation": "horizontal",
                      "reduceOptions": {
                         "calcs": [
                            "lastNotNull"
                         ],
                         "fields": "",
                         "values": false
                      },
                      "text": {
                         "valueSize": 20
                      },
                      "textMode": "auto"
                   },
                   "pluginVersion": "8.3.5",
                   "targets": [
                      {
                         "expr": "max by () (container_spec_memory_limit_bytes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}) or \nmax by () (node_memory_MemTotal_bytes{node_name=~\"$node_name\"})",
                         "format": "time_series",
                         "interval": "5m",
                         "intervalFactor": 1,
                         "refId": "A",
                         "step": 300
                      }
                   ],
                   "title": "RAM",
                   "type": "stat"
                },
                {
                   "description": "Percent of Memory Available\nNote: on Modern Linux Kernels amount of Memory Available for application is not the same as Free+Cached+Buffers",
                   "fieldConfig": {
                      "defaults": {
                         "color": {
                            "mode": "thresholds"
                         },
                         "decimals": 2,
                         "mappings": [
                            {
                               "options": {
                                  "match": "null",
                                  "result": {
                                     "text": "N/A"
                                  }
                               },
                               "type": "special"
                            }
                         ],
                         "thresholds": {
                            "mode": "absolute",
                            "steps": [
                               {
                                  "color": "#d44a3a",
                                  "value": null
                               },
                               {
                                  "color": "rgba(237, 129, 40, 0.89)",
                                  "value": 5
                               },
                               {
                                  "color": "#299c46",
                                  "value": 10
                               }
                            ]
                         },
                         "unit": "percent"
                      },
                      "overrides": [ ]
                   },
                   "gridPos": {
                      "h": 3,
                      "w": 3,
                      "x": 9,
                      "y": 69
                   },
                   "id": 329,
                   "links": [ ],
                   "maxDataPoints": 100,
                   "options": {
                      "colorMode": "none",
                      "graphMode": "area",
                      "justifyMode": "auto",
                      "orientation": "horizontal",
                      "reduceOptions": {
                         "calcs": [
                            "lastNotNull"
                         ],
                         "fields": "",
                         "values": false
                      },
                      "text": {
                         "valueSize": 20
                      },
                      "textMode": "auto"
                   },
                   "pluginVersion": "8.3.5",
                   "targets": [
                      {
                         "exemplar": true,
                         "expr": "clamp_max(avg by () (container_memory_usage_bytes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|backup-agent|\"} * 100 / container_spec_memory_limit_bytes{node_name=\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|backup-agent|\"}),100) or  \navg by () (((node_memory_MemAvailable_bytes{node_name=~\"$node_name\"} or (node_memory_MemFree_bytes{node_name=~\"$node_name\"} + node_memory_Buffers_bytes{node_name=~\"$node_name\"} + node_memory_Cached_bytes{node_name=~\"$node_name\"})) / node_memory_MemTotal_bytes{node_name=~\"$node_name\"}) * 100 or (100 - azure_memory_percent_average{node_name=~\"$node_name\"}))",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "refId": "A"
                      }
                   ],
                   "title": "Memory Available",
                   "type": "stat"
                },
                {
                   "description": "RAM + SWAP",
                   "fieldConfig": {
                      "defaults": {
                         "color": {
                            "mode": "thresholds"
                         },
                         "decimals": 2,
                         "mappings": [
                            {
                               "options": {
                                  "match": "null",
                                  "result": {
                                     "text": "N/A"
                                  }
                               },
                               "type": "special"
                            }
                         ],
                         "thresholds": {
                            "mode": "absolute",
                            "steps": [
                               {
                                  "color": "green",
                                  "value": null
                               },
                               {
                                  "color": "red",
                                  "value": 80
                               }
                            ]
                         },
                         "unit": "bytes"
                      },
                      "overrides": [ ]
                   },
                   "gridPos": {
                      "h": 3,
                      "w": 3,
                      "x": 12,
                      "y": 69
                   },
                   "id": 331,
                   "interval": "$interval",
                   "links": [ ],
                   "maxDataPoints": 100,
                   "options": {
                      "colorMode": "none",
                      "graphMode": "none",
                      "justifyMode": "auto",
                      "orientation": "horizontal",
                      "reduceOptions": {
                         "calcs": [
                            "lastNotNull"
                         ],
                         "fields": "",
                         "values": false
                      },
                      "text": {
                         "valueSize": 20
                      },
                      "textMode": "auto"
                   },
                   "pluginVersion": "8.3.5",
                   "targets": [
                      {
                         "exemplar": true,
                         "expr": "max by () (container_spec_memory_limit_bytes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}+container_spec_memory_swap_limit_bytes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}) or\nmax by () (node_memory_MemTotal_bytes{node_name=~\"$node_name\"}+node_memory_SwapTotal_bytes{node_name=~\"$node_name\"})",
                         "format": "time_series",
                         "interval": "5m",
                         "intervalFactor": 1,
                         "refId": "A",
                         "step": 300
                      }
                   ],
                   "title": "Virtual Memory",
                   "type": "stat"
                },
                {
                   "description": "Sum of disk space on all partitions. Note  it can be significantly over-reported in some installations",
                   "fieldConfig": {
                      "defaults": {
                         "color": {
                            "mode": "thresholds"
                         },
                         "decimals": 2,
                         "mappings": [
                            {
                               "options": {
                                  "match": "null",
                                  "result": {
                                     "text": "N/A"
                                  }
                               },
                               "type": "special"
                            }
                         ],
                         "thresholds": {
                            "mode": "absolute",
                            "steps": [
                               {
                                  "color": "green",
                                  "value": null
                               },
                               {
                                  "color": "red",
                                  "value": 80
                               }
                            ]
                         },
                         "unit": "bytes"
                      },
                      "overrides": [ ]
                   },
                   "gridPos": {
                      "h": 3,
                      "w": 3,
                      "x": 15,
                      "y": 69
                   },
                   "id": 333,
                   "interval": "$interval",
                   "links": [
                      {
                         "targetBlank": true,
                         "title": "Disk Space",
                         "url": "/graph/d/node-disk/disk-details?$__url_time_range&$__all_variables"
                      }
                   ],
                   "maxDataPoints": 100,
                   "options": {
                      "colorMode": "none",
                      "graphMode": "none",
                      "justifyMode": "auto",
                      "orientation": "horizontal",
                      "reduceOptions": {
                         "calcs": [
                            "lastNotNull"
                         ],
                         "fields": "",
                         "values": false
                      },
                      "text": {
                         "valueSize": 20
                      },
                      "textMode": "auto"
                   },
                   "pluginVersion": "8.3.5",
                   "targets": [
                      {
                         "exemplar": true,
                         "expr": "avg by () (container_fs_limit_bytes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}) or \navg by () (sum(avg(node_filesystem_size_bytes{node_name=~\"$node_name\",fstype=~\"(ext.|xfs|vfat|)\"}) without (mountpoint)) without (device,fstype))",
                         "format": "time_series",
                         "interval": "5m",
                         "intervalFactor": 1,
                         "refId": "A",
                         "step": 300
                      }
                   ],
                   "title": "Disk Space",
                   "type": "stat"
                },
                {
                   "description": "Lowest percent of the disk space available",
                   "fieldConfig": {
                      "defaults": {
                         "color": {
                            "mode": "thresholds"
                         },
                         "decimals": 2,
                         "mappings": [
                            {
                               "options": {
                                  "match": "null",
                                  "result": {
                                     "text": "N/A"
                                  }
                               },
                               "type": "special"
                            }
                         ],
                         "thresholds": {
                            "mode": "absolute",
                            "steps": [
                               {
                                  "color": "#d44a3a",
                                  "value": null
                               },
                               {
                                  "color": "rgba(237, 129, 40, 0.89)",
                                  "value": 5
                               },
                               {
                                  "color": "#299c46",
                                  "value": 20
                               }
                            ]
                         },
                         "unit": "percent"
                      },
                      "overrides": [ ]
                   },
                   "gridPos": {
                      "h": 3,
                      "w": 3,
                      "x": 18,
                      "y": 69
                   },
                   "id": 335,
                   "links": [ ],
                   "maxDataPoints": 100,
                   "options": {
                      "colorMode": "none",
                      "graphMode": "area",
                      "justifyMode": "auto",
                      "orientation": "horizontal",
                      "reduceOptions": {
                         "calcs": [
                            "lastNotNull"
                         ],
                         "fields": "",
                         "values": false
                      },
                      "text": {
                         "valueSize": 20
                      },
                      "textMode": "auto"
                   },
                   "pluginVersion": "8.3.5",
                   "targets": [
                      {
                         "exemplar": true,
                         "expr": "avg by () (min(node_filesystem_free_bytes{node_name=~\"$node_name\", fstype!~\"rootfs|selinuxfs|autofs|rpc_pipefs|tmpfs|shm|overlay|squashfs\"}/node_filesystem_size_bytes{node_name=~\"$node_name\", fstype!~\"rootfs|selinuxfs|autofs|rpc_pipefs|tmpfs|shm|overlay|squashfs\"})*100 or \n(100 - azure_storage_percent_average{node_name=~\"$node_name\"}))",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "refId": "A"
                      }
                   ],
                   "title": "Min Space Available",
                   "type": "stat"
                },
                {
                   "gridPos": {
                      "h": 3,
                      "w": 3,
                      "x": 21,
                      "y": 69
                   },
                   "id": 1012,
                   "links": [ ],
                   "options": {
                      "content": "<h5 style='color:#e68a00;font-weight:bold;text-align:center'><a href=\"/graph/d/node-instance-summary/node-summary?var-node_name=$node_name\" target=\"_blank\">$node_name</a></h5>",
                      "mode": "html"
                   },
                   "pluginVersion": "8.3.5",
                   "title": "Node",
                   "type": "text"
                },
                {
                   "aliasColors": {
                      "Max Core Utilization": "#bf1b00",
                      "idle": "#806EB7",
                      "iowait": "#E24D42",
                      "nice": "#1F78C1",
                      "softirq": "#FFF899",
                      "steal": "#8F3BB8",
                      "system": "#EAB839",
                      "user": "#508642"
                   },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "decimals": 2,
                   "description": "The CPU time is measured in clock ticks or seconds. It is useful to measure CPU time as a percentage of the CPU's capacity, which is called the CPU usage.",
                   "editable": true,
                   "error": false,
                   "fieldConfig": {
                      "defaults": {
                         "links": [ ]
                      },
                      "overrides": [ ]
                   },
                   "fill": 6,
                   "fillGradient": 0,
                   "grid": { },
                   "gridPos": {
                      "h": 8,
                      "w": 12,
                      "x": 0,
                      "y": 72
                   },
                   "height": "",
                   "hiddenSeries": false,
                   "id": 337,
                   "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "hideEmpty": true,
                      "hideZero": true,
                      "max": true,
                      "min": true,
                      "rightSide": false,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                   },
                   "lines": true,
                   "linewidth": 1,
                   "links": [ ],
                   "nullPointMode": "null",
                   "options": {
                      "alertThreshold": true
                   },
                   "paceLength": 10,
                   "percentage": false,
                   "pluginVersion": "8.3.5",
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [
                      {
                         "alias": "Max Core Utilization",
                         "lines": false,
                         "pointradius": 1,
                         "points": true,
                         "stack": false
                      }
                   ],
                   "spaceLength": 10,
                   "stack": true,
                   "steppedLine": true,
                   "targets": [
                      {
                         "expr": "avg by (node_name,mode) (clamp_max(((avg by (mode) ( (clamp_max(rate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\", mode!=\"user\", mode!=\"system\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\", mode!=\"user\", mode!=\"system\"}[5m]),1)) ))*100 or (avg_over_time(node_cpu_average{node_name=~\"$node_name\", mode!=\"total\", mode!=\"idle\", mode!=\"user\", mode!=\"system\"}[$interval]) or avg_over_time(node_cpu_average{node_name=~\"$node_name\", mode!=\"total\", mode!=\"idle\", mode!=\"user\", mode!=\"system\"}[5m]))),100))",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "{{`{{mode}}`}}",
                         "refId": "B"
                      },
                      {
                         "expr": "clamp_max(sum(rate(container_cpu_usage_seconds_total{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval]) or rate(container_cpu_usage_seconds_total{node_name=\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[5m])) or\nmax by () (sum  by (cpu) ( (clamp_max(rate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\",mode!=\"iowait\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\",mode!=\"iowait\"}[5m]),1)) )),1)",
                         "format": "time_series",
                         "hide": true,
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "Max Core Utilization",
                         "refId": "C"
                      },
                      {
                         "exemplar": true,
                         "expr": "clamp_max(avg(rate(container_cpu_system_seconds_total{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval])) or \n((avg by () ((clamp_max(rate(node_cpu_seconds_total{node_name=~\"$node_name\",mode=\"system\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\"$node_name\",mode=\"system\"}[5m]),1)) ))*100 or \n(avg_over_time(node_cpu_average{node_name=~\"$node_name\", mode=\"system\"}[$interval]) or \navg_over_time(node_cpu_average{node_name=~\"$node_name\", mode=\"system\"}[5m]))),100)",
                         "hide": false,
                         "interval": "$interval",
                         "legendFormat": "system",
                         "refId": "A"
                      },
                      {
                         "exemplar": true,
                         "expr": "clamp_max(avg(rate(container_cpu_user_seconds_total{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval])) or \n((avg by () ((clamp_max(rate(node_cpu_seconds_total{node_name=~\"$node_name\",mode=\"user\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\"$node_name\",mode=\"user\"}[5m]),1)) ))*100 or \n(avg_over_time(node_cpu_average{node_name=~\"$node_name\", mode=\"user\"}[$interval]) or \navg_over_time(node_cpu_average{node_name=~\"$node_name\", mode=\"user\"}[5m]))),100)",
                         "hide": false,
                         "interval": "$interval",
                         "legendFormat": "user",
                         "refId": "D"
                      }
                   ],
                   "thresholds": [ ],
                   "timeRegions": [ ],
                   "title": "CPU Usage",
                   "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 5,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "mode": "time",
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "decimals": 2,
                         "format": "percent",
                         "label": "",
                         "logBase": 1,
                         "max": "100",
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "logBase": 1,
                         "min": 0,
                         "show": false
                      }
                   ],
                   "yaxis": {
                      "align": false
                   }
                },
                {
                   "aliasColors": {
                      "Allocated": "#E0752D",
                      "CPU Load": "#64B0C8",
                      "IO Load ": "#EA6460",
                      "Limit": "#1F78C1",
                      "Max CPU Core Utilization": "#bf1b00",
                      "Max Core Usage": "#bf1b00",
                      "Normalized CPU Load": "#6ED0E0"
                   },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "decimals": 2,
                   "description": "When a system is running with maximum CPU utilization, the transmitting and receiving threads must all share the available CPU. This will cause data to be queued more frequently to cope with the lack of CPU. CPU Saturation may be measured as the length of a wait queue, or the time spent waiting on the queue.",
                   "editable": true,
                   "error": false,
                   "fieldConfig": {
                      "defaults": {
                         "links": [ ]
                      },
                      "overrides": [ ]
                   },
                   "fill": 2,
                   "fillGradient": 0,
                   "grid": { },
                   "gridPos": {
                      "h": 8,
                      "w": 12,
                      "x": 12,
                      "y": 72
                   },
                   "hiddenSeries": false,
                   "id": 339,
                   "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "hideEmpty": false,
                      "max": true,
                      "min": true,
                      "rightSide": false,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                   },
                   "lines": true,
                   "linewidth": 2,
                   "links": [ ],
                   "nullPointMode": "null",
                   "options": {
                      "alertThreshold": true
                   },
                   "paceLength": 10,
                   "percentage": false,
                   "pluginVersion": "8.3.5",
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [
                      {
                         "alias": "Max CPU Core Utilization",
                         "lines": false,
                         "pointradius": 1,
                         "points": true,
                         "yaxis": 2
                      }
                   ],
                   "spaceLength": 10,
                   "stack": false,
                   "steppedLine": true,
                   "targets": [
                      {
                         "calculatedInterval": "2s",
                         "datasourceErrors": { },
                         "errors": { },
                         "exemplar": true,
                         "expr": "((sum(avg_over_time(container_processes{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval]))-1) / avg by () (machine_cpu_cores)) or\navg by () ((avg_over_time(node_procs_running{node_name=~\"$node_name\"}[$interval])-1) / scalar(count(node_cpu_seconds_total{mode=\"user\", node_name=~\"$node_name\"})) or (avg_over_time(node_procs_running{node_name=~\"$node_name\"}[5m])-1) / scalar(count(node_cpu_seconds_total{mode=\"user\", node_name=~\"$node_name\"})))",
                         "format": "time_series",
                         "hide": false,
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "Normalized CPU Load",
                         "metric": "",
                         "refId": "B",
                         "step": 300,
                         "target": ""
                      },
                      {
                         "calculatedInterval": "2s",
                         "datasourceErrors": { },
                         "errors": { },
                         "exemplar": true,
                         "expr": "clamp_max(sum(rate(container_cpu_usage_seconds_total{node_name=~\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval]) or rate(container_cpu_usage_seconds_total{node_name=\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[5m])) or\nmax by () (sum  by (cpu) ( (clamp_max(rate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\",mode!=\"iowait\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\"$node_name\",mode!=\"idle\",mode!=\"iowait\"}[5m]),1)) )),1)",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "Max CPU Core Utilization",
                         "metric": "",
                         "refId": "A",
                         "step": 300,
                         "target": ""
                      }
                   ],
                   "thresholds": [ ],
                   "timeRegions": [ ],
                   "title": "CPU Saturation and Max Core Usage",
                   "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 5,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "mode": "time",
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "decimals": 0,
                         "format": "short",
                         "label": "",
                         "logBase": 1,
                         "min": 0,
                         "show": true
                      },
                      {
                         "decimals": 2,
                         "format": "percentunit",
                         "label": "",
                         "logBase": 1,
                         "max": "1",
                         "min": 0,
                         "show": true
                      }
                   ],
                   "yaxis": {
                      "align": false
                   }
                },
                {
                   "aliasColors": {
                      "Swap In (Reads)": "#6ed0e0",
                      "Swap Out (Writes)": "#ef843c",
                      "Total": "#bf1b00"
                   },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "decimals": 2,
                   "description": "Disk I/O includes read or write or input/output operations involving a physical disk. It is the speed with which the data transfer takes place between the hard disk drive and RAM.\n\nSwap Activity is memory management that involves swapping sections of memory to and from physical storage.",
                   "editable": true,
                   "error": false,
                   "fieldConfig": {
                      "defaults": {
                         "links": [ ]
                      },
                      "overrides": [ ]
                   },
                   "fill": 2,
                   "fillGradient": 0,
                   "grid": { },
                   "gridPos": {
                      "h": 8,
                      "w": 12,
                      "x": 0,
                      "y": 80
                   },
                   "hiddenSeries": false,
                   "id": 341,
                   "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "hideEmpty": false,
                      "max": true,
                      "min": true,
                      "rightSide": false,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                   },
                   "lines": true,
                   "linewidth": 2,
                   "links": [
                      {
                         "targetBlank": true,
                         "title": "Disk Performance",
                         "url": "/graph/d/node-disk/disk-details?$__url_time_range&$__all_variables"
                      }
                   ],
                   "nullPointMode": "null",
                   "options": {
                      "alertThreshold": true
                   },
                   "percentage": false,
                   "pluginVersion": "8.3.5",
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [
                      {
                         "alias": "Disk Writes (Page Out)",
                         "transform": "negative-Y"
                      },
                      {
                         "alias": "Total",
                         "legend": false,
                         "lines": false
                      },
                      {
                         "alias": "Swap Out (Writes)",
                         "transform": "negative-Y"
                      }
                   ],
                   "spaceLength": 10,
                   "stack": false,
                   "steppedLine": true,
                   "targets": [
                      {
                         "calculatedInterval": "2s",
                         "datasourceErrors": { },
                         "errors": { },
                         "expr": "avg by () (sum(rate(container_fs_reads_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_reads_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) or\navg by () (rate(node_vmstat_pgpgin{node_name=\"$node_name\"}[$interval]) * 1024 or irate(node_vmstat_pgpgin{node_name=\"$node_name\"}[5m]) * 1024)",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "Disk Reads (Page In)",
                         "metric": "",
                         "refId": "A",
                         "step": 300,
                         "target": ""
                      },
                      {
                         "calculatedInterval": "2s",
                         "datasourceErrors": { },
                         "errors": { },
                         "expr": "avg by () (sum(rate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) or\navg by () ((rate(node_vmstat_pgpgout{node_name=\"$node_name\"}[$interval]) * 1024 or irate(node_vmstat_pgpgout{node_name=\"$node_name\"}[5m]) * 1024))",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "Disk Writes (Page Out)",
                         "metric": "",
                         "refId": "B",
                         "step": 300,
                         "target": ""
                      },
                      {
                         "expr": "avg by () (sum(rate(container_fs_reads_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_reads_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) + \navg by () (sum(rate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) or \navg  by () ((rate(node_vmstat_pgpgin{node_name=\"$node_name\"}[$interval]) * 1024 or irate(node_vmstat_pgpgin{node_name=\"$node_name\"}[5m]) * 1024 ) + (rate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) + \navg by () (sum(rate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\"$node_name\",id=~\"/kubepods.*\"}[5s]))) or \navg  by () ((rate(node_vmstat_pgpgout{node_name=\"$node_name\"}[$interval]) * 1024 or irate(node_vmstat_pgpgout{node_name=\"$node_name\"}[5m]) * 1024))",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "Total",
                         "refId": "C"
                      },
                      {
                         "expr": "avg by (node_name) (rate(node_vmstat_pswpin{node_name=\"$node_name\"}[$interval]) * 4096 or irate(node_vmstat_pswpin{node_name=\"$node_name\"}[5m]) * 4096)",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "Swap In (Reads)",
                         "refId": "D"
                      },
                      {
                         "expr": "avg by () (rate(container_memory_swap{node_name=\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[$interval]) or \nirate(container_memory_swap{node_name=\"$node_name\",id=~\"/kubepods.*\",container!~\"POD|pmm-client|\"}[5s])) or \navg by () (rate(node_vmstat_pswpout{node_name=\"$node_name\"}[$interval]) * 4096 or \nirate(node_vmstat_pswpout{node_name=\"$node_name\"}[5m]) * 4096)",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "Swap Out (Writes)",
                         "refId": "E"
                      }
                   ],
                   "thresholds": [ ],
                   "timeRegions": [ ],
                   "title": "Disk I/O and Swap Activity",
                   "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 5,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "mode": "time",
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "decimals": 2,
                         "format": "Bps",
                         "label": "Page Out (-) / Page In (+)",
                         "logBase": 1,
                         "show": true
                      },
                      {
                         "format": "bytes",
                         "logBase": 1,
                         "min": 0,
                         "show": false
                      }
                   ],
                   "yaxis": {
                      "align": false
                   }
                },
                {
                   "aliasColors": { },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "decimals": 2,
                   "description": "Network traffic refers to the amount of data moving across a network at a given point in time.",
                   "editable": true,
                   "error": false,
                   "fieldConfig": {
                      "defaults": {
                         "links": [ ]
                      },
                      "overrides": [ ]
                   },
                   "fill": 2,
                   "fillGradient": 0,
                   "grid": { },
                   "gridPos": {
                      "h": 8,
                      "w": 12,
                      "x": 12,
                      "y": 80
                   },
                   "hiddenSeries": false,
                   "id": 343,
                   "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "hideEmpty": false,
                      "max": true,
                      "min": true,
                      "rightSide": false,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                   },
                   "lines": true,
                   "linewidth": 2,
                   "links": [ ],
                   "nullPointMode": "null",
                   "options": {
                      "alertThreshold": true
                   },
                   "percentage": false,
                   "pluginVersion": "8.3.5",
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [
                      {
                         "alias": "Outbound",
                         "transform": "negative-Y"
                      }
                   ],
                   "spaceLength": 10,
                   "stack": false,
                   "steppedLine": true,
                   "targets": [
                      {
                         "calculatedInterval": "2s",
                         "datasourceErrors": { },
                         "errors": { },
                         "exemplar": true,
                         "expr": "sum(rate(container_network_receive_bytes_total{node_name=\"$node_name\",id=~\"/kubepods/.*\"}[$interval]) or \nirate(container_network_receive_bytes_total{node_name=\"$node_name\",id=~\"/kubepods/.*\"}[5m])) or\nsum(rate(node_network_receive_bytes_total{node_name=\"$node_name\", device!=\"lo\"}[$interval])) or \nsum(irate(node_network_receive_bytes_total{node_name=\"$node_name\", device!=\"lo\"}[5m])) or \nsum(max_over_time(rdsosmetrics_network_rx{node_name=\"$node_name\"}[$interval])) or \nsum(max_over_time(rdsosmetrics_network_rx{node_name=\"$node_name\"}[5m]))",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "Inbound",
                         "metric": "",
                         "refId": "B",
                         "step": 300,
                         "target": ""
                      },
                      {
                         "calculatedInterval": "2s",
                         "datasourceErrors": { },
                         "errors": { },
                         "exemplar": true,
                         "expr": "sum(rate(container_network_transmit_bytes_total{node_name=\"$node_name\",id=~\"/kubepods/.*\"}[$interval]) or \nirate(container_network_transmit_bytes_total{node_name=\"$node_name\",id=~\"/kubepods/.*\"}[5m])) or \nsum(rate(node_network_transmit_bytes_total{node_name=\"$node_name\", device!=\"lo\"}[$interval])) or \nsum(irate(node_network_transmit_bytes_total{node_name=\"$node_name\", device!=\"lo\"}[5m])) or\nsum(max_over_time(rdsosmetrics_network_tx{node_name=\"$node_name\"}[$interval])) or \nsum(max_over_time(rdsosmetrics_network_tx{node_name=\"$node_name\"}[5m]))",
                         "format": "time_series",
                         "interval": "$interval",
                         "intervalFactor": 1,
                         "legendFormat": "Outbound",
                         "metric": "",
                         "refId": "A",
                         "step": 300,
                         "target": ""
                      }
                   ],
                   "thresholds": [ ],
                   "timeRegions": [ ],
                   "title": "Network Traffic",
                   "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 5,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "mode": "time",
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "Bps",
                         "label": "Outbound (-) / Inbound (+)",
                         "logBase": 1,
                         "show": true
                      },
                      {
                         "format": "bytes",
                         "logBase": 1,
                         "min": 0,
                         "show": false
                      }
                   ],
                   "yaxis": {
                      "align": false
                   }
                }
             ],
             "title": "Node Summary",
             "type": "row"
          }
       ],
       "refresh": "1m",
       "schemaVersion": 34,
       "style": "dark",
       "tags": [
          "MongoDB",
          "Percona"
       ],
       "templating": {
          "list": [
             {
                "allFormat": "glob",
                "auto": true,
                "auto_count": 200,
                "auto_min": "1s",
                "current": {
                   "selected": false,
                   "text": "auto",
                   "value": "$__auto_interval_interval"
                },
                "datasource": "$datasource",
                "hide": 0,
                "includeAll": false,
                "label": "Interval",
                "multi": false,
                "multiFormat": "glob",
                "name": "interval",
                "options": [
                   {
                      "selected": true,
                      "text": "auto",
                      "value": "$__auto_interval_interval"
                   },
                   {
                      "selected": false,
                      "text": "1s",
                      "value": "1s"
                   },
                   {
                      "selected": false,
                      "text": "5s",
                      "value": "5s"
                   },
                   {
                      "selected": false,
                      "text": "1m",
                      "value": "1m"
                   },
                   {
                      "selected": false,
                      "text": "5m",
                      "value": "5m"
                   },
                   {
                      "selected": false,
                      "text": "1h",
                      "value": "1h"
                   },
                   {
                      "selected": false,
                      "text": "6h",
                      "value": "6h"
                   },
                   {
                      "selected": false,
                      "text": "1d",
                      "value": "1d"
                   }
                ],
                "query": "1s,5s,1m,5m,1h,6h,1d",
                "refresh": 2,
                "skipUrlSync": false,
                "type": "interval"
             },
             {
                "allFormat": "blob",
                "allValue": ".*",
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "",
                "hide": 0,
                "includeAll": true,
                "label": "Cluster",
                "multi": false,
                "multiFormat": "glob",
                "name": "cluster",
                "options": [ ],
                "query": {
                   "query": "label_values(mongodb_up,cluster)",
                   "refId": "Metrics-cluster-Variable-Query"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "type": "query",
                "useTags": false
             },
             {
                "allFormat": "glob",
                "current": {
                   "selected": false,
                   "text": "None",
                   "value": ""
                },
                "datasource": "$datasource",
                "definition": "label_values(mongodb_up{cluster=~\"$cluster\"}, instance)",
                "hide": 0,
                "includeAll": false,
                "label": "Service Name",
                "multi": false,
                "multiFormat": "glob",
                "name": "instance",
                "options": [ ],
                "query": "label_values(mongodb_up{cluster=~\"$cluster\"}, instance)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allFormat": "glob",
                "current": {
                   "selected": false,
                   "text": "None",
                   "value": ""
                },
                "datasource": "$datasource",
                "definition": "label_values(mongodb_up{cluster=~\"$cluster\",instance=~\"$instance\"}, node_name)",
                "hide": 2,
                "includeAll": false,
                "label": "Node Name",
                "multi": false,
                "multiFormat": "glob",
                "name": "node_name",
                "options": [ ],
                "query": "label_values(mongodb_up{cluster=~\"$cluster\",instance=~\"$instance\"}, node_name)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allValue": ".*",
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, environment)",
                "hide": 2,
                "includeAll": true,
                "label": "Environment",
                "multi": true,
                "name": "environment",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, environment)",
                   "refId": "Metrics-environment-Variable-Query"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, replication_set)",
                "hide": 2,
                "includeAll": true,
                "label": "Replication Set",
                "multi": true,
                "name": "replication_set",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, replication_set)",
                   "refId": "Metrics-replication_set-Variable-Query"
                },
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values(pg_stat_database_tup_fetched{instance=~\"$instance\",datname!~\"template.*|postgres\"},datname)",
                "hide": 2,
                "includeAll": true,
                "label": "Database",
                "multi": true,
                "name": "database",
                "options": [ ],
                "query": "label_values(pg_stat_database_tup_fetched{instance=~\"$instance\",datname!~\"template.*|postgres\"},datname)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, node_type)",
                "hide": 2,
                "includeAll": true,
                "label": "Type",
                "multi": true,
                "name": "node_type",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, node_type)",
                   "refId": "Metrics-node_type-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, service_type)",
                "hide": 2,
                "includeAll": true,
                "label": "Type",
                "multi": true,
                "name": "service_type",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, service_type)",
                   "refId": "Metrics-service_type-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, schema)",
                "hide": 2,
                "includeAll": true,
                "label": "Schema",
                "multi": true,
                "name": "schema",
                "options": [ ],
                "query": {
                   "query": "label_values({__name__=~\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\"}, schema)",
                   "refId": "Metrics-schema-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values(mysql_info_schema_user_statistics_connected_time_seconds_total{instance=\"$instance\"},user)",
                "hide": 2,
                "includeAll": true,
                "label": "Username",
                "multi": true,
                "name": "username",
                "options": [ ],
                "query": "label_values(mysql_info_schema_user_statistics_connected_time_seconds_total{instance=\"$instance\"},user)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "r1",
                   "value": "r1"
                },
                "datasource": "$datasource",
                "definition": "query_result(mongodb_mongod_replset_my_state{instance=~\"$instance\"})",
                "hide": 2,
                "includeAll": false,
                "label": "Replica Set",
                "multi": false,
                "name": "replset",
                "options": [ ],
                "query": "query_result(mongodb_mongod_replset_my_state{instance=~\"$instance\"})",
                "refresh": 2,
                "regex": "/set=\"(.*)\"/",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allFormat": "glob",
                "current": {
                   "selected": false,
                   "text": "None",
                   "value": ""
                },
                "datasource": "$datasource",
                "definition": "label_values(mongodb_up{instance=~\"$instance\"}, service_id)",
                "hide": 2,
                "includeAll": false,
                "label": "Service ID",
                "multi": false,
                "multiFormat": "glob",
                "name": "service_id",
                "options": [ ],
                "query": "label_values(mongodb_up{instance=~\"$instance\"}, service_id)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allFormat": "glob",
                "current": {
                   "selected": false,
                   "text": "None",
                   "value": ""
                },
                "datasource": "$datasource",
                "definition": "label_values(up{instance=~\"$instance\"},instance)",
                "hide": 2,
                "includeAll": false,
                "label": "",
                "multi": false,
                "name": "pod",
                "options": [ ],
                "query": "label_values(up{instance=~\"$instance\"},instance)",
                "refresh": 2,
                "regex": "/default-(.*-.*)/",
                "skipUrlSync": false,
                "sort": 0,
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": "false",
                   "text": "prometheus",
                   "value": "prometheus"
                },
                "hide": 0,
                "includeAll": "false",
                "label": "Datasource",
                "multi": "false",
                "name": "datasource",
                "options": [ ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": "false",
                "type": "datasource"
             }
          ]
       },
       "time": {
          "from": "now-12h",
          "to": "now"
       },
       "timepicker": {
          "hidden": false,
          "now": true,
          "refresh_intervals": [
             "5s",
             "10s",
             "30s",
             "1m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ],
          "time_options": [
             "5m",
             "15m",
             "1h",
             "6h",
             "12h",
             "24h",
             "2d",
             "7d",
             "30d"
          ]
       },
       "timezone": "",
       "title": "MongoDB Instance Summary",
       "uid": "mongodb-instance-summary",
       "version": 1,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: instance-summary-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  metrics.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": {
                   "type": "grafana",
                   "uid": "-- Grafana --"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
             }
          ]
       },
       "description": "Shows the 'cscli metrics' and additional stats to Crowdsec in Grafana",
       "editable": true,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 0,
       "id": 41,
       "links": [ ],
       "panels": [
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
             },
             "id": 19,
             "panels": [ ],
             "title": "Overwiew",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "text",
                            "value": null
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 12,
                "x": 0,
                "y": 1
             },
             "id": 22,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "first"
                   ],
                   "fields": "/^version$/",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "cs_info{instance=\"$instance\"}",
                   "format": "table",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Version",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "text",
                            "value": null
                         }
                      ]
                   },
                   "unit": "dateTimeAsIso"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 12,
                "x": 12,
                "y": 1
             },
             "id": 23,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "first"
                   ],
                   "fields": "/^Time$/",
                   "values": false
                },
                "showPercentChange": false,
                "text": { },
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "expr": "(process_start_time_seconds{instance=\"$instance\"})*1000",
                   "instant": false,
                   "legendFormat": "__auto",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "Up Since",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "text",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 0,
                "y": 4
             },
             "id": 24,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(increase(cs_filesource_hits_total{instance=\"$instance\"}[$__range]) or vector(0)) + \nsum(increase(cs_cloudwatch_stream_hits_total{instance=\"$instance\"}[$__range]) or vector(0)) + \nsum(increase(cs_journalctlsource_hits_total{instance=\"$instance\"}[$__range]) or vector(0)) + \nsum(increase(cs_syslogsource_hits_total{instance=\"$instance\"}[$__range]) or vector(0)) +\nsum(increase(cs_dockersource_hits_total{instance=\"$instance\"}[$__range]) or vector(0))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Raw Lines Read",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "text",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 4,
                "y": 4
             },
             "id": 25,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(increase(cs_parser_hits_ok_total{instance=\"$instance\"} [$__range]))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Parsed Lines",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "text",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 8,
                "y": 4
             },
             "id": 32,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(increase(cs_node_wl_hits_ok_total{instance=\"$instance\"} [$__range]))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Whitelisted Lines",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "text",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 12,
                "y": 4
             },
             "id": 29,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(increase(cs_bucket_poured_total{instance=\"$instance\"} [$__range]))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Lines Poured to Bucket",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "text",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 16,
                "y": 4
             },
             "id": 28,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(increase(cs_bucket_overflowed_total{instance=\"$instance\"} [$__range]))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Bucket Overflows",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "text",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 20,
                "y": 4
             },
             "id": 27,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(increase(cs_bucket_created_total{instance=\"$instance\"} [$__range]))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Total Buckets Created",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 50
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 11,
                "w": 24,
                "x": 0,
                "y": 7
             },
             "id": 30,
             "options": {
                "displayMode": "lcd",
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "maxVizHeight": 40,
                "minVizHeight": 10,
                "minVizWidth": 8,
                "namePlacement": "top",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showUnfilled": true,
                "sizing": "manual",
                "valueMode": "color"
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "topk(10, ceil(sum by (name) (increase(cs_bucket_overflowed_total{instance=\"$instance\"}[$__range]))))",
                   "format": "time_series",
                   "instant": true,
                   "legendFormat": "{{`{{name}}`}}",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Top 10 Scenarios",
             "type": "bargauge"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 18
             },
             "id": 13,
             "panels": [ ],
             "title": "Acquisition",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "filterable": true,
                      "inspect": false
                   },
                   "fieldMinMax": false,
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "index": 0,
                               "text": "-"
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "noValue": "-",
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Source"
                      },
                      "properties": [
                         {
                            "id": "custom.width",
                            "value": 300
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "type"
                      },
                      "properties": [
                         {
                            "id": "custom.width",
                            "value": 76
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 11,
                "w": 24,
                "x": 0,
                "y": 19
             },
             "id": 1,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "frameIndex": 4,
                "showHeader": true,
                "sortBy": [
                   {
                      "desc": true,
                      "displayName": "Source"
                   }
                ]
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (type, source) (increase(cs_parser_hits_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{source}}`}}",
                   "range": false,
                   "refId": "read"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (source) (increase(cs_parser_hits_ok_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{source}}`}}",
                   "range": false,
                   "refId": "parsed"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (source) (increase(cs_parser_hits_ko_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{source}}`}}",
                   "range": false,
                   "refId": "unparsed"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (source) (increase(cs_bucket_poured_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{source}}`}}",
                   "range": false,
                   "refId": "poured"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (source) (increase(cs_node_wl_hits_ok_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{source}}`}}",
                   "range": false,
                   "refId": "whitelisted"
                }
             ],
             "title": "Metrics",
             "transformations": [
                {
                   "id": "merge",
                   "options": { }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true,
                         "Time 1": true,
                         "Time 2": true,
                         "Time 3": true,
                         "Time 4": true,
                         "Time 5": true
                      },
                      "includeByName": { },
                      "indexByName": {
                         "Time 1": 2,
                         "Time 2": 4,
                         "Time 3": 6,
                         "Time 4": 8,
                         "Time 5": 10,
                         "Value #parsed": 5,
                         "Value #poured": 9,
                         "Value #read": 3,
                         "Value #unparsed": 7,
                         "Value #whitelisted": 11,
                         "source": 1,
                         "type": 0
                      },
                      "renameByName": {
                         "Value #Lines Parsed": "Lines Parsed",
                         "Value #Lines Poured to Bucket": "Lines Poured to Bucket",
                         "Value #Lines Read": "Lines Read",
                         "Value #Lines Unparsed": "Lines Unparsed",
                         "Value #Lines Whitelisted": "Lines Whitelisted",
                         "Value #parsed": "Lines Parsed",
                         "Value #poured": "Lines Poured to Bucket",
                         "Value #read": "Lines Read",
                         "Value #unparsed": "Lines Unparsed",
                         "Value #whitelisted": "Lines Whitelisted",
                         "source": "Source",
                         "type": "Type"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 30
             },
             "id": 14,
             "panels": [ ],
             "title": "AppSec",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "inspect": false
                   },
                   "mappings": [
                      {
                         "options": {
                            "match": "null+nan",
                            "result": {
                               "index": 0,
                               "text": "-"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "noValue": "-",
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 4,
                "w": 24,
                "x": 0,
                "y": 31
             },
             "id": 3,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": false
                },
                "frameIndex": 1,
                "showHeader": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (appsec_engine) (increase(cs_appsec_reqs_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "instant": true,
                   "legendFormat": "{{`{{appsec_engine}}`}}",
                   "range": false,
                   "refId": "processed"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (appsec_engine) (increase(cs_appsec_block_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{appsec_engine}}`}}",
                   "range": false,
                   "refId": "blocked"
                }
             ],
             "title": "AppSec Metrics",
             "transformations": [
                {
                   "id": "merge",
                   "options": { }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true,
                         "Time 1": true,
                         "Time 2": true
                      },
                      "includeByName": { },
                      "indexByName": { },
                      "renameByName": {
                         "Time 1": "",
                         "Time 2": "",
                         "Value": "Processed",
                         "Value #A": "Processed",
                         "Value #B": "Blocked",
                         "Value #blocked": "Blocked",
                         "Value #processed": "Processed",
                         "appsec_engine": "AppSec Enginge"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "inspect": false
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 35
             },
             "id": 4,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "showHeader": true
             },
             "pluginVersion": "11.0.0",
             "repeat": "appsec_engine",
             "repeatDirection": "v",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (rule_name) (increase(cs_appsec_rule_hits{appsec_engine=\"$appsec_engine\", instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "AppSec '$appsec_engine' Rules Metrics",
             "transformations": [
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true
                      },
                      "includeByName": { },
                      "indexByName": { },
                      "renameByName": {
                         "Value": "Triggered",
                         "rule_name": "Rule ID"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 43
             },
             "id": 15,
             "panels": [ ],
             "title": "Local API",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "inspect": false
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 15,
                "w": 24,
                "x": 0,
                "y": 44
             },
             "id": 2,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "showHeader": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (reason) (cs_alerts{instance=\"$instance\"})",
                   "format": "table",
                   "instant": true,
                   "legendFormat": "{{`{{reason}}`}}",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Alerts",
             "transformations": [
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true
                      },
                      "includeByName": { },
                      "indexByName": { },
                      "renameByName": {
                         "Time": "",
                         "Value": "Count",
                         "reason": "Reason"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "filterable": true,
                      "inspect": false
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Reason"
                      },
                      "properties": [
                         {
                            "id": "custom.width",
                            "value": 446
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 22,
                "w": 24,
                "x": 0,
                "y": 59
             },
             "id": 5,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "enablePagination": true,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "showHeader": true,
                "sortBy": [
                   {
                      "desc": true,
                      "displayName": "Count"
                   }
                ]
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (reason, origin, action) (cs_active_decisions{instance=\"$instance\"})",
                   "format": "table",
                   "instant": true,
                   "legendFormat": "{{`{{reason}}`}}",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Decisions",
             "transformations": [
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true
                      },
                      "includeByName": { },
                      "indexByName": {
                         "Time": 0,
                         "Value": 4,
                         "action": 3,
                         "origin": 2,
                         "reason": 1
                      },
                      "renameByName": {
                         "Value": "Count",
                         "action": "Action",
                         "origin": "Origin",
                         "reason": "Reason"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "inspect": false
                   },
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "index": 0,
                               "text": "-"
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "noValue": "-",
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 12,
                "w": 24,
                "x": 0,
                "y": 81
             },
             "id": 6,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "showHeader": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (route, method) (increase(cs_lapi_route_requests_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "instant": true,
                   "legendFormat": "{{`{{route}}`}}",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Metrics",
             "transformations": [
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true
                      },
                      "includeByName": { },
                      "indexByName": {
                         "Time": 0,
                         "Value": 3,
                         "method": 2,
                         "route": 1
                      },
                      "renameByName": {
                         "Time": "",
                         "Value": "Hits",
                         "method": "Method",
                         "route": "Route"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "inspect": false
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 6,
                "w": 24,
                "x": 0,
                "y": 93
             },
             "id": 7,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "showHeader": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (bouncer, route, method) (increase(cs_lapi_bouncer_requests_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "instant": true,
                   "legendFormat": "{{`{{route}}`}}",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Bouncers Metrics",
             "transformations": [
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true
                      },
                      "includeByName": { },
                      "indexByName": {
                         "Time": 0,
                         "Value": 4,
                         "bouncer": 1,
                         "method": 3,
                         "route": 2
                      },
                      "renameByName": {
                         "Time": "",
                         "Value": "Hits",
                         "bouncer": "Bouncer",
                         "method": "Method",
                         "route": "Route"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "inspect": false
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 6,
                "w": 24,
                "x": 0,
                "y": 99
             },
             "id": 8,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "frameIndex": 0,
                "showHeader": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (bouncer) (increase(cs_lapi_decisions_ok_total [$__range]))",
                   "format": "table",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "{{`{{bouncer}}`}}",
                   "range": false,
                   "refId": "non-empty"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (bouncer) (increase(cs_lapi_decisions_ko_total [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{bouncer}}`}}",
                   "range": false,
                   "refId": "empty"
                }
             ],
             "title": "Bouncers Decisions",
             "transformations": [
                {
                   "id": "merge",
                   "options": { }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true,
                         "Time 1": true,
                         "Time 2": true
                      },
                      "includeByName": { },
                      "indexByName": {
                         "Time 1": 1,
                         "Time 2": 2,
                         "Value #empty": 3,
                         "Value #non-empty": 4,
                         "bouncer": 0
                      },
                      "renameByName": {
                         "Time": "",
                         "Time 1": "",
                         "Value #empty": "Non-Empty Answers",
                         "Value #non-empty": "Empty Answers",
                         "bouncer": "Bouncer",
                         "bouncer 1": "Bouncer"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "inspect": false
                   },
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "index": 0,
                               "text": "-"
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "noValue": "-",
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 10,
                "w": 24,
                "x": 0,
                "y": 105
             },
             "id": 9,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "frameIndex": 0,
                "showHeader": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (machine, route, method) (increase(cs_lapi_machine_requests_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "{{`{{machine}}`}}",
                   "range": false,
                   "refId": "non-empty"
                }
             ],
             "title": "Machine Metrics",
             "transformations": [
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true,
                         "Time 1": true,
                         "Time 2": true
                      },
                      "includeByName": { },
                      "indexByName": {
                         "Time": 0,
                         "Value": 4,
                         "machine": 1,
                         "method": 3,
                         "route": 2
                      },
                      "renameByName": {
                         "Time 1": "",
                         "Value": "Count",
                         "Value #empty": "Non-Empty Answers",
                         "Value #non-empty": "Empty Answers",
                         "bouncer 1": "Bouncer",
                         "machine": "Machine",
                         "method": "Method",
                         "route": "Route"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 115
             },
             "id": 16,
             "panels": [ ],
             "title": "Parsers",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "filterable": true,
                      "inspect": false
                   },
                   "mappings": [ ],
                   "noValue": "-",
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Parser"
                      },
                      "properties": [
                         {
                            "id": "custom.width",
                            "value": 446
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 11,
                "w": 24,
                "x": 0,
                "y": 116
             },
             "id": 10,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "enablePagination": true,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "frameIndex": 1,
                "showHeader": true,
                "sortBy": [
                   {
                      "desc": true,
                      "displayName": "Hits"
                   }
                ]
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (name) (increase(cs_node_hits_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "hits"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (name) (increase(cs_node_hits_ok_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "parsed"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (name) (increase(cs_node_hits_ko_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "unparsed"
                }
             ],
             "title": "Metrics",
             "transformations": [
                {
                   "id": "merge",
                   "options": { }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true,
                         "Time 1": true,
                         "Time 2": true,
                         "Time 3": true
                      },
                      "includeByName": { },
                      "indexByName": { },
                      "renameByName": {
                         "Value #hits": "Hits",
                         "Value #parsed": "Parsed",
                         "Value #unparsed": "Unparsed",
                         "name": "Parser"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 127
             },
             "id": 17,
             "panels": [ ],
             "title": "Scenarios",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "filterable": true,
                      "inspect": false
                   },
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "index": 0,
                               "text": "-"
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "noValue": "-",
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Parser"
                      },
                      "properties": [
                         {
                            "id": "custom.width",
                            "value": 446
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 11,
                "w": 24,
                "x": 0,
                "y": 128
             },
             "id": 11,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "enablePagination": true,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "frameIndex": 1,
                "showHeader": true,
                "sortBy": [
                   {
                      "desc": true,
                      "displayName": "Overflows"
                   }
                ]
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (name) (cs_buckets{instance=\"$instance\"})",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{name}}`}}",
                   "range": false,
                   "refId": "current"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (name) (increase(cs_bucket_overflowed_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{name}}`}}",
                   "range": false,
                   "refId": "overflow"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (name) (increase(cs_bucket_underflowed_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{name}}`}}",
                   "range": false,
                   "refId": "expired"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (name) (increase(cs_bucket_created_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{name}}`}}",
                   "range": false,
                   "refId": "created"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (name) (increase(cs_bucket_poured_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{name}}`}}",
                   "range": false,
                   "refId": "poured"
                }
             ],
             "title": "Metrics",
             "transformations": [
                {
                   "id": "merge",
                   "options": { }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true,
                         "Time 1": true,
                         "Time 2": true,
                         "Time 3": true,
                         "Time 4": true,
                         "Time 5": true
                      },
                      "includeByName": { },
                      "indexByName": {
                         "Time 1": 1,
                         "Time 2": 2,
                         "Time 3": 3,
                         "Time 4": 9,
                         "Time 5": 10,
                         "Value #created": 6,
                         "Value #current": 4,
                         "Value #expired": 8,
                         "Value #overflow": 5,
                         "Value #poured": 7,
                         "name": 0
                      },
                      "renameByName": {
                         "Value #created": "Instantiated",
                         "Value #current": "Current Count",
                         "Value #expired": "Expired",
                         "Value #hits": "Hits",
                         "Value #overflow": "Overflows",
                         "Value #parsed": "Parsed",
                         "Value #poured": "Poured",
                         "Value #unparsed": "Unparsed",
                         "name": "Parser"
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 139
             },
             "id": 18,
             "panels": [ ],
             "title": "Whitelists",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "left",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "filterable": true,
                      "inspect": false
                   },
                   "mappings": [ ],
                   "noValue": "-",
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Parser"
                      },
                      "properties": [
                         {
                            "id": "custom.width",
                            "value": 446
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 140
             },
             "id": 12,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "enablePagination": true,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": true
                },
                "frameIndex": 1,
                "showHeader": true,
                "sortBy": [
                   {
                      "desc": true,
                      "displayName": "Expired"
                   }
                ]
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (name, reason) (increase(cs_node_wl_hits_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{name}}`}}",
                   "range": false,
                   "refId": "hits"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum by (name, reason) (increase(cs_node_wl_hits_ok_total{instance=\"$instance\"} [$__range]))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "legendFormat": "{{`{{name}}`}}",
                   "range": false,
                   "refId": "whitelisted"
                }
             ],
             "title": "Metrics",
             "transformations": [
                {
                   "id": "merge",
                   "options": { }
                },
                {
                   "id": "organize",
                   "options": {
                      "excludeByName": {
                         "Time": true,
                         "Time 1": true,
                         "Time 2": true,
                         "Time 3": true,
                         "Time 4": true,
                         "Time 5": true,
                         "reason 2": true
                      },
                      "includeByName": { },
                      "indexByName": {
                         "Time 1": 1,
                         "Time 2": 2,
                         "Time 3": 3,
                         "Time 4": 9,
                         "Time 5": 10,
                         "Value #created": 6,
                         "Value #current": 4,
                         "Value #expired": 8,
                         "Value #overflow": 5,
                         "Value #poured": 7,
                         "name": 0
                      },
                      "renameByName": {
                         "Time": "",
                         "Time 2": "",
                         "Value #A": "Hits",
                         "Value #B": "Whitelisted",
                         "Value #created": "Instantiated",
                         "Value #current": "Current Count",
                         "Value #expired": "Expired",
                         "Value #hits": "Hits",
                         "Value #overflow": "Overflows",
                         "Value #parsed": "Parsed",
                         "Value #poured": "Poured",
                         "Value #unparsed": "Unparsed",
                         "name": "Whitelist",
                         "reason": "Reason",
                         "reason 1": "Reason",
                         "reason 2": ""
                      }
                   }
                }
             ],
             "type": "table"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 148
             },
             "id": 31,
             "panels": [ ],
             "title": "System",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 100,
                      "gradientMode": "opacity",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineStyle": {
                         "fill": "solid"
                      },
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": true,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "percent"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 149
             },
             "id": 20,
             "maxDataPoints": 500,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "maxHeight": 600,
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "expr": "rate(process_cpu_seconds_total{instance=\"$instance\"}[$__interval])*100",
                   "instant": false,
                   "legendFormat": "{{`{{instance}}`}}",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "CPU Usage",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 100,
                      "gradientMode": "opacity",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineStyle": {
                         "fill": "solid"
                      },
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": true,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "decbytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 149
             },
             "id": 21,
             "maxDataPoints": 500,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "maxHeight": 600,
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "expr": "process_resident_memory_bytes{instance=\"$instance\"}",
                   "instant": false,
                   "legendFormat": "{{`{{instance}}`}}",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "Memory Usage",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 50,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "smooth",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "normal"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Whitelisted"
                      },
                      "properties": [
                         {
                            "id": "custom.stacking",
                            "value": {
                               "group": "A",
                               "mode": "none"
                            }
                         },
                         {
                            "id": "custom.fillOpacity",
                            "value": 0
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Poured"
                      },
                      "properties": [
                         {
                            "id": "custom.stacking",
                            "value": {
                               "group": "A",
                               "mode": "none"
                            }
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 157
             },
             "id": 33,
             "options": {
                "legend": {
                   "calcs": [
                      "mean"
                   ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "maxHeight": 600,
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(rate(cs_filesource_hits_total{instance=\"$instance\"}[$__interval]) or vector(0)) + \nsum(rate(cs_cloudwatch_stream_hits_total{instance=\"$instance\"}[$__interval]) or vector(0)) + \nsum(rate(cs_journalctlsource_hits_total{instance=\"$instance\"}[$__interval]) or vector(0)) + \nsum(rate(cs_syslogsource_hits_total{instance=\"$instance\"}[$__interval]) or vector(0)) +\nsum(rate(cs_dockersource_hits_total{instance=\"$instance\"}[$__interval]) or vector(0))",
                   "hide": true,
                   "instant": false,
                   "legendFormat": "Raw Lines",
                   "range": true,
                   "refId": "A"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "expr": "sum(rate(cs_parser_hits_ok_total{instance=\"$instance\"} [$__interval]))",
                   "hide": false,
                   "instant": false,
                   "legendFormat": "Parsed",
                   "range": true,
                   "refId": "B"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "expr": "sum(rate(cs_parser_hits_ko_total{instance=\"$instance\"} [$__interval]))",
                   "hide": false,
                   "instant": false,
                   "legendFormat": "Unparsed",
                   "range": true,
                   "refId": "C"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "expr": "sum(rate(cs_node_wl_hits_ok_total{instance=\"$instance\"} [$__interval]))",
                   "hide": false,
                   "instant": false,
                   "legendFormat": "Whitelisted",
                   "range": true,
                   "refId": "D"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "expr": "sum(rate(cs_bucket_poured_total{instance=\"$instance\"} [$__interval]))",
                   "hide": false,
                   "instant": false,
                   "legendFormat": "Poured",
                   "range": true,
                   "refId": "E"
                }
             ],
             "title": "Lines Processed",
             "type": "timeseries"
          }
       ],
       "preload": false,
       "refresh": "",
       "schemaVersion": 40,
       "tags": [
          "crowdsec"
       ],
       "templating": {
          "list": [
             {
                "current": {
                   "text": "",
                   "value": ""
                },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "label_values(cs_appsec_reqs_total,appsec_engine)",
                "hide": 2,
                "includeAll": false,
                "name": "appsec_engine",
                "options": [ ],
                "query": {
                   "qryType": 1,
                   "query": "label_values(cs_appsec_reqs_total,appsec_engine)",
                   "refId": "PrometheusVariableQueryEditor-VariableQuery"
                },
                "refresh": 1,
                "regex": "",
                "type": "query"
             },
             {
                "current": {
                   "text": "10.244.77.180:6060",
                   "value": "10.244.77.180:6060"
                },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "label_values(cs_info,instance)",
                "includeAll": false,
                "label": "Instance",
                "name": "instance",
                "options": [ ],
                "query": {
                   "qryType": 1,
                   "query": "label_values(cs_info,instance)",
                   "refId": "PrometheusVariableQueryEditor-VariableQuery"
                },
                "refresh": 1,
                "regex": "",
                "type": "query"
             }
          ]
       },
       "time": {
          "from": "now-7d",
          "to": "now"
       },
       "timepicker": { },
       "timezone": "browser",
       "title": "Crowdsec Metrics",
       "uid": "edq8mqssw2jnkd",
       "version": 3,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: metrics-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  nginx-ingress.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": {
                   "type": "datasource",
                   "uid": "grafana"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
             },
             {
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "enable": true,
                "expr": "sum(changes(nginx_ingress_controller_config_last_reload_successful_timestamp_seconds{instance!=\"unknown\",controller_class=~\"$controller_class\",namespace=~\"$namespace\"}[30s])) by (controller_class)",
                "hide": false,
                "iconColor": "rgba(255, 96, 96, 1)",
                "limit": 100,
                "name": "Config Reloads",
                "showIn": 0,
                "step": "30s",
                "tagKeys": "controller_class",
                "tags": [ ],
                "titleFormat": "Config Reloaded",
                "type": "tags"
             }
          ]
       },
       "editable": true,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 0,
       "id": 41,
       "links": [ ],
       "panels": [
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "ops"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 0,
                "y": 0
             },
             "id": 20,
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "mean"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "round(sum(irate(nginx_ingress_controller_requests{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",namespace=~\"$namespace\"}[2m])), 0.001)",
                   "format": "time_series",
                   "intervalFactor": 1,
                   "refId": "A",
                   "step": 4
                }
             ],
             "title": "Controller Request Volume",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 6,
                "y": 0
             },
             "id": 82,
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "mean"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "sum(avg_over_time(nginx_ingress_controller_nginx_process_connections{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",state=\"active\"}[2m]))",
                   "format": "time_series",
                   "instant": false,
                   "intervalFactor": 1,
                   "refId": "A",
                   "step": 4
                }
             ],
             "title": "Controller Connections",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "rgba(245, 54, 54, 0.9)",
                            "value": null
                         },
                         {
                            "color": "rgba(237, 129, 40, 0.89)",
                            "value": 95
                         },
                         {
                            "color": "rgba(50, 172, 45, 0.97)",
                            "value": 99
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 6,
                "x": 12,
                "y": 0
             },
             "id": 21,
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "mean"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "sum(rate(nginx_ingress_controller_requests{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",namespace=~\"$namespace\",status!~\"[4-5].*\"}[2m])) / sum(rate(nginx_ingress_controller_requests{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",namespace=~\"$namespace\"}[2m]))",
                   "format": "time_series",
                   "intervalFactor": 1,
                   "refId": "A",
                   "step": 4
                }
             ],
             "title": "Controller Success Rate (non-4|5xx responses)",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "decimals": 0,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 3,
                "x": 18,
                "y": 0
             },
             "id": 81,
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "sum"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "avg(irate(nginx_ingress_controller_success{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"}[1m])) * 60",
                   "format": "time_series",
                   "instant": false,
                   "intervalFactor": 1,
                   "refId": "A",
                   "step": 4
                }
             ],
             "title": "Config Reloads",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "rgb(31, 120, 193)",
                      "mode": "fixed"
                   },
                   "decimals": 0,
                   "mappings": [
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "text": "N/A"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 3,
                "x": 21,
                "y": 0
             },
             "id": 83,
             "maxDataPoints": 100,
             "options": {
                "colorMode": "none",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "mean"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "count(nginx_ingress_controller_config_last_reload_successful{controller_pod=~\"$controller\",controller_namespace=~\"$namespace\"} == 0)",
                   "format": "time_series",
                   "instant": true,
                   "intervalFactor": 1,
                   "refId": "A",
                   "step": 4
                }
             ],
             "title": "Last Config Failed",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "reqps"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byValue",
                         "options": {
                            "op": "gte",
                            "reducer": "allIsZero",
                            "value": 0
                         }
                      },
                      "properties": [
                         {
                            "id": "custom.hideFrom",
                            "value": {
                               "legend": true,
                               "tooltip": true,
                               "viz": false
                            }
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 0,
                "y": 3
             },
             "id": 86,
             "options": {
                "legend": {
                   "calcs": [
                      "mean"
                   ],
                   "displayMode": "table",
                   "placement": "right",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "round(sum(irate(nginx_ingress_controller_requests{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",exported_namespace=~\"$exported_namespace\",ingress=~\"$ingress\"}[2m])) by (ingress), 0.001)",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{ingress}}`}}",
                   "metric": "network",
                   "refId": "A",
                   "step": 10
                }
             ],
             "title": "Ingress Request Volume",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "max - istio-proxy"
                      },
                      "properties": [
                         {
                            "id": "color",
                            "value": {
                               "fixedColor": "#890f02",
                               "mode": "fixed"
                            }
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "max - master"
                      },
                      "properties": [
                         {
                            "id": "color",
                            "value": {
                               "fixedColor": "#bf1b00",
                               "mode": "fixed"
                            }
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "max - prometheus"
                      },
                      "properties": [
                         {
                            "id": "color",
                            "value": {
                               "fixedColor": "#bf1b00",
                               "mode": "fixed"
                            }
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byValue",
                         "options": {
                            "op": "gte",
                            "reducer": "allIsNull",
                            "value": 0
                         }
                      },
                      "properties": [
                         {
                            "id": "custom.hideFrom",
                            "value": {
                               "legend": true,
                               "tooltip": true,
                               "viz": false
                            }
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 12,
                "y": 3
             },
             "id": 87,
             "options": {
                "legend": {
                   "calcs": [
                      "mean"
                   ],
                   "displayMode": "table",
                   "placement": "right",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "asc"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "sum(rate(nginx_ingress_controller_requests{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",namespace=~\"$namespace\",exported_namespace=~\"$exported_namespace\",ingress=~\"$ingress\",status!~\"[4-5].*\"}[2m])) by (ingress) / sum(rate(nginx_ingress_controller_requests{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",namespace=~\"$namespace\",exported_namespace=~\"$exported_namespace\",ingress=~\"$ingress\"}[2m])) by (ingress)",
                   "format": "time_series",
                   "instant": false,
                   "interval": "10s",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{ingress}}`}}",
                   "metric": "container_memory_usage:sort_desc",
                   "refId": "A",
                   "step": 10
                }
             ],
             "title": "Ingress Success Rate (non-4|5xx responses)",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "Bps"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 10
             },
             "id": 32,
             "options": {
                "legend": {
                   "calcs": [
                      "mean",
                      "lastNotNull"
                   ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false,
                   "width": 200
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "sum (irate (nginx_ingress_controller_request_size_sum{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"}[2m]))",
                   "format": "time_series",
                   "instant": false,
                   "interval": "10s",
                   "intervalFactor": 1,
                   "legendFormat": "Received",
                   "metric": "network",
                   "refId": "A",
                   "step": 10
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "- sum (irate (nginx_ingress_controller_response_size_sum{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"}[2m]))",
                   "format": "time_series",
                   "hide": false,
                   "interval": "10s",
                   "intervalFactor": 1,
                   "legendFormat": "Sent",
                   "metric": "network",
                   "refId": "B",
                   "step": 10
                }
             ],
             "title": "Network I/O pressure",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "bytes"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "max - istio-proxy"
                      },
                      "properties": [
                         {
                            "id": "color",
                            "value": {
                               "fixedColor": "#890f02",
                               "mode": "fixed"
                            }
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "max - master"
                      },
                      "properties": [
                         {
                            "id": "color",
                            "value": {
                               "fixedColor": "#bf1b00",
                               "mode": "fixed"
                            }
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "max - prometheus"
                      },
                      "properties": [
                         {
                            "id": "color",
                            "value": {
                               "fixedColor": "#bf1b00",
                               "mode": "fixed"
                            }
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 10
             },
             "id": 77,
             "options": {
                "legend": {
                   "calcs": [
                      "mean",
                      "lastNotNull"
                   ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false,
                   "width": 200
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "desc"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "avg(nginx_ingress_controller_nginx_process_resident_memory_bytes{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"}) ",
                   "format": "time_series",
                   "instant": false,
                   "interval": "10s",
                   "intervalFactor": 1,
                   "legendFormat": "nginx",
                   "metric": "container_memory_usage:sort_desc",
                   "refId": "A",
                   "step": 10
                }
             ],
             "title": "Average Memory Usage",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "cores",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "line+area"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "transparent",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 10
             },
             "id": 79,
             "options": {
                "legend": {
                   "calcs": [
                      "mean",
                      "lastNotNull"
                   ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "desc"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "avg (rate (nginx_ingress_controller_nginx_process_cpu_seconds_total{controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"}[2m])) ",
                   "format": "time_series",
                   "interval": "10s",
                   "intervalFactor": 1,
                   "legendFormat": "nginx",
                   "metric": "container_cpu",
                   "refId": "A",
                   "step": 10
                }
             ],
             "title": "Average CPU Usage",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "This data is real time, independent of dashboard time range",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "auto",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "inspect": false
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "ingress"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "Ingress"
                         },
                         {
                            "id": "unit",
                            "value": "short"
                         },
                         {
                            "id": "decimals",
                            "value": 2
                         },
                         {
                            "id": "custom.align"
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value #A"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "P50 Latency"
                         },
                         {
                            "id": "unit",
                            "value": "dtdurations"
                         },
                         {
                            "id": "custom.align"
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value #B"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "P90 Latency"
                         },
                         {
                            "id": "unit",
                            "value": "dtdurations"
                         },
                         {
                            "id": "custom.align"
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value #C"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "P99 Latency"
                         },
                         {
                            "id": "unit",
                            "value": "dtdurations"
                         },
                         {
                            "id": "custom.align"
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value #D"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "IN"
                         },
                         {
                            "id": "unit",
                            "value": "Bps"
                         },
                         {
                            "id": "decimals",
                            "value": 2
                         },
                         {
                            "id": "custom.align"
                         },
                         {
                            "id": "thresholds",
                            "value": {
                               "mode": "absolute",
                               "steps": [
                                  {
                                     "color": "rgba(245, 54, 54, 0.9)",
                                     "value": null
                                  },
                                  {
                                     "color": "rgba(237, 129, 40, 0.89)"
                                  }
                               ]
                            }
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Time"
                      },
                      "properties": [
                         {
                            "id": "unit",
                            "value": "short"
                         },
                         {
                            "id": "decimals",
                            "value": 2
                         },
                         {
                            "id": "custom.align"
                         },
                         {
                            "id": "custom.hidden",
                            "value": true
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Value #E"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "OUT"
                         },
                         {
                            "id": "unit",
                            "value": "Bps"
                         },
                         {
                            "id": "decimals",
                            "value": 2
                         },
                         {
                            "id": "custom.align"
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 16
             },
             "id": 75,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": false
                },
                "showHeader": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "histogram_quantile(0.50, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\",exported_namespace=~\"$exported_namespace\"}[2m])) by (le, ingress))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{ingress}}`}}",
                   "refId": "A"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "histogram_quantile(0.90, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\",exported_namespace=~\"$exported_namespace\"}[2m])) by (le, ingress))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{ingress}}`}}",
                   "refId": "B"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "histogram_quantile(0.99, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\",exported_namespace=~\"$exported_namespace\"}[2m])) by (le, ingress))",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{destination_service}}`}}",
                   "refId": "C"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "sum(irate(nginx_ingress_controller_request_size_sum{ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\",exported_namespace=~\"$exported_namespace\"}[2m])) by (ingress)",
                   "format": "table",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{ingress}}`}}",
                   "refId": "D"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "sum(irate(nginx_ingress_controller_response_size_sum{ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\",exported_namespace=~\"$exported_namespace\"}[2m])) by (ingress)",
                   "format": "table",
                   "instant": true,
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{ingress}}`}}",
                   "refId": "E"
                }
             ],
             "title": "Ingress Percentile Response Times and Transfer Rates",
             "transformations": [
                {
                   "id": "merge",
                   "options": {
                      "reducers": [ ]
                   }
                }
             ],
             "type": "table"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green"
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "s"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 0,
                "y": 24
             },
             "id": 91,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "8.3.4",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "histogram_quantile(0.80, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\",exported_namespace=~\"$exported_namespace\"}[2m])) by (le))",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "P80",
                   "refId": "C"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "histogram_quantile(0.90, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\",exported_namespace=~\"$exported_namespace\"}[2m])) by (le))",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "P90",
                   "refId": "D"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "editorMode": "code",
                   "exemplar": true,
                   "expr": "histogram_quantile(0.99, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\",exported_namespace=~\"$exported_namespace\"}[2m])) by (le))",
                   "format": "time_series",
                   "hide": false,
                   "instant": false,
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "P99",
                   "refId": "E"
                }
             ],
             "title": "Ingress Percentile Response Times (Ingress Namespaces)",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "custom": {
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "scaleDistribution": {
                         "type": "linear"
                      }
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 12,
                "y": 24
             },
             "id": 89,
             "options": {
                "calculate": false,
                "calculation": { },
                "cellGap": 2,
                "cellValues": { },
                "color": {
                   "exponent": 0.5,
                   "fill": "#b4ff00",
                   "mode": "scheme",
                   "reverse": false,
                   "scale": "exponential",
                   "scheme": "Warm",
                   "steps": 128
                },
                "exemplars": {
                   "color": "rgba(255,0,255,0.7)"
                },
                "filterValues": {
                   "le": 1.0000000000000001e-09
                },
                "legend": {
                   "show": true
                },
                "rowsFrame": {
                   "layout": "auto"
                },
                "showValue": "never",
                "tooltip": {
                   "mode": "single",
                   "showColorScale": false,
                   "yHistogram": true
                },
                "yAxis": {
                   "axisPlacement": "left",
                   "reverse": false,
                   "unit": "s"
                }
             },
             "pluginVersion": "10.4.3",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "sum(increase(nginx_ingress_controller_request_duration_seconds_bucket{ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\",exported_namespace=~\"$exported_namespace\"}[2m])) by (le)",
                   "format": "heatmap",
                   "interval": "",
                   "legendFormat": "{{`{{le}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Ingress Request Latency Heatmap (Ingress Namespaces)",
             "type": "heatmap"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "align": "auto",
                      "cellOptions": {
                         "type": "auto"
                      },
                      "inspect": false
                   },
                   "decimals": 2,
                   "displayName": "",
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green"
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "short"
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Last *"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "TTL"
                         },
                         {
                            "id": "unit",
                            "value": "s"
                         },
                         {
                            "id": "custom.cellOptions",
                            "value": {
                               "type": "color-background"
                            }
                         },
                         {
                            "id": "thresholds",
                            "value": {
                               "mode": "absolute",
                               "steps": [
                                  {
                                     "color": "rgba(245, 54, 54, 0.9)"
                                  },
                                  {
                                     "color": "rgba(237, 129, 40, 0.89)",
                                     "value": 0
                                  },
                                  {
                                     "color": "rgba(50, 172, 45, 0.97)",
                                     "value": 691200
                                  }
                               ]
                            }
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Field"
                      },
                      "properties": [
                         {
                            "id": "displayName",
                            "value": "Host"
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 31
             },
             "id": 85,
             "options": {
                "cellHeight": "sm",
                "footer": {
                   "countRows": false,
                   "enablePagination": false,
                   "fields": "",
                   "reducer": [
                      "sum"
                   ],
                   "show": false
                },
                "showHeader": true
             },
             "pluginVersion": "10.4.3",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "avg(nginx_ingress_controller_ssl_expire_time_seconds{kubernetes_pod_name=~\"$controller\",namespace=~\"$namespace\",ingress=~\"$ingress\"}) by (host) - time()",
                   "format": "time_series",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{host}}`}}",
                   "metric": "gke_letsencrypt_cert_expiration",
                   "refId": "A",
                   "step": 1
                }
             ],
             "title": "Ingress Certificate Expiry",
             "transformations": [
                {
                   "id": "reduce",
                   "options": {
                      "includeTimeField": false,
                      "labelsToFields": false,
                      "reducers": [
                         "lastNotNull"
                      ]
                   }
                }
             ],
             "type": "table"
          }
       ],
       "preload": false,
       "refresh": "5s",
       "schemaVersion": 40,
       "tags": [
          "nginx"
       ],
       "templating": {
          "list": [
             {
                "current": {
                   "text": "Prometheus",
                   "value": "prometheus"
                },
                "includeAll": false,
                "label": "datasource",
                "name": "DS_PROMETHEUS",
                "options": [ ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "type": "datasource"
             },
             {
                "allValue": ".*",
                "current": {
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "",
                "includeAll": true,
                "label": "Namespace",
                "name": "namespace",
                "options": [ ],
                "query": "label_values(nginx_ingress_controller_config_hash, controller_namespace)",
                "refresh": 1,
                "regex": "",
                "type": "query"
             },
             {
                "allValue": ".*",
                "current": {
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "",
                "includeAll": true,
                "label": "Controller Class",
                "name": "controller_class",
                "options": [ ],
                "query": "label_values(nginx_ingress_controller_config_hash{namespace=~\"$namespace\"}, controller_class) ",
                "refresh": 1,
                "regex": "",
                "type": "query"
             },
             {
                "allValue": ".*",
                "current": {
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "",
                "includeAll": true,
                "label": "Controller",
                "name": "controller",
                "options": [ ],
                "query": "label_values(nginx_ingress_controller_config_hash{namespace=~\"$namespace\",controller_class=~\"$controller_class\"}, controller_pod) ",
                "refresh": 1,
                "regex": "",
                "sort": 1,
                "type": "query"
             },
             {
                "allValue": ".*",
                "current": {
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "",
                "includeAll": true,
                "label": "Ingress Namespace",
                "name": "exported_namespace",
                "options": [ ],
                "query": "label_values(nginx_ingress_controller_requests{namespace=~\"$namespace\",controller_class=~\"$controller_class\",controller_pod=~\"$controller\"}, exported_namespace) ",
                "refresh": 1,
                "regex": "",
                "sort": 1,
                "type": "query"
             },
             {
                "allValue": ".*",
                "current": {
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "",
                "includeAll": true,
                "label": "Ingress",
                "name": "ingress",
                "options": [ ],
                "query": "label_values(nginx_ingress_controller_requests{namespace=~\"$namespace\",controller_class=~\"$controller_class\",controller_pod=~\"$controller\",exported_namespace=~\"$exported_namespace\"}, ingress) ",
                "refresh": 1,
                "regex": "",
                "sort": 1,
                "type": "query"
             }
          ]
       },
       "time": {
          "from": "now-1h",
          "to": "now"
       },
       "timepicker": {
          "refresh_intervals": [
             "5s",
             "10s",
             "30s",
             "2m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ]
       },
       "timezone": "browser",
       "title": "NGINX Ingress controller",
       "uid": "nginx",
       "version": 1,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: nginx-ingress-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  node.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": {
                   "type": "grafana",
                   "uid": "-- Grafana --"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "target": {
                   "limit": 100,
                   "matchAny": false,
                   "tags": [ ],
                   "type": "dashboard"
                },
                "type": "dashboard"
             }
          ]
       },
       "editable": true,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 0,
       "id": 46,
       "links": [ ],
       "panels": [
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
             },
             "id": 18,
             "panels": [ ],
             "title": "Temperature",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 0,
                   "mappings": [ ],
                   "max": 200,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#6cc04a",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 150
                         },
                         {
                            "color": "#c51a4a",
                            "value": 185
                         }
                      ]
                   },
                   "unit": "fahrenheit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 6,
                "w": 4,
                "x": 0,
                "y": 1
             },
             "id": 10,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto"
             },
             "pluginVersion": "11.5.2",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "kO-rxRDVz"
                   },
                   "editorMode": "builder",
                   "expr": "rpi_temperature_f",
                   "interval": "",
                   "legendFormat": "{{`{{id}}`}}",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "axisSoftMin": 0,
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "max": 200,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#6cc04a",
                            "value": null
                         },
                         {
                            "color": "orange",
                            "value": 150
                         },
                         {
                            "color": "#c51a4a",
                            "value": 185
                         }
                      ]
                   },
                   "unit": "fahrenheit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 6,
                "w": 20,
                "x": 4,
                "y": 1
             },
             "id": 2,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "hideZeros": false,
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.5.2",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "kO-rxRDVz"
                   },
                   "editorMode": "code",
                   "expr": "max_over_time(rpi_temperature_f[$__interval])",
                   "interval": "",
                   "legendFormat": "{{`{{id}}`}}",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "",
             "type": "timeseries"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 7
             },
             "id": 16,
             "panels": [ ],
             "title": "Power",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#6cc04a",
                      "mode": "fixed"
                   },
                   "decimals": 0,
                   "mappings": [ ],
                   "max": 3,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#6cc04a",
                            "value": null
                         }
                      ]
                   },
                   "unit": "volt"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 12,
                "x": 0,
                "y": 8
             },
             "id": 12,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "center",
                "orientation": "vertical",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.5.2",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "kO-rxRDVz"
                   },
                   "editorMode": "builder",
                   "expr": "rpi_voltage",
                   "legendFormat": "{{`{{id}}`}}",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "color": "#c41a4a33",
                               "index": 0,
                               "text": "Off"
                            },
                            "1": {
                               "color": "#6cbf4b",
                               "index": 1,
                               "text": "On"
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "bool_on_off"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 12,
                "x": 12,
                "y": 8
             },
             "id": 13,
             "options": {
                "colorMode": "background",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "vertical",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "name",
                "wideLayout": true
             },
             "pluginVersion": "11.5.2",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "kO-rxRDVz"
                   },
                   "editorMode": "builder",
                   "expr": "rpi_power_state",
                   "interval": "",
                   "legendFormat": "{{`{{id}}`}}",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "volt"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 6,
                "w": 12,
                "x": 0,
                "y": 11
             },
             "id": 8,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "hideZeros": false,
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.5.2",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "kO-rxRDVz"
                   },
                   "editorMode": "code",
                   "expr": "avg_over_time(rpi_voltage[$__interval])",
                   "legendFormat": "{{`{{id}}`}}",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "bool_on_off"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 6,
                "w": 12,
                "x": 12,
                "y": 11
             },
             "id": 4,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "hideZeros": false,
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.5.2",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "kO-rxRDVz"
                   },
                   "editorMode": "builder",
                   "expr": "rpi_power_state",
                   "interval": "",
                   "legendFormat": "{{`{{id}}`}}",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "",
             "type": "timeseries"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 17
             },
             "id": 20,
             "panels": [ ],
             "title": "Clocks",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#6cc04a",
                      "mode": "fixed"
                   },
                   "decimals": 0,
                   "mappings": [ ],
                   "max": 4000000000,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#c51a4a",
                            "value": null
                         }
                      ]
                   },
                   "unit": "hertz"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 18
             },
             "id": 14,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "center",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "textMode": "value_and_name",
                "wideLayout": true
             },
             "pluginVersion": "11.5.2",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "kO-rxRDVz"
                   },
                   "editorMode": "builder",
                   "expr": "rpi_clock_rate_measured_hz",
                   "interval": "",
                   "legendFormat": "{{`{{id}}`}}",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "hertz"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 25
             },
             "id": 5,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "hideZeros": false,
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.5.2",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "kO-rxRDVz"
                   },
                   "editorMode": "code",
                   "expr": "avg_over_time(rpi_clock_rate_measured_hz[$__interval])",
                   "interval": "",
                   "legendFormat": "{{`{{id}}`}}",
                   "range": true,
                   "refId": "A"
                }
             ],
             "title": "",
             "type": "timeseries"
          }
       ],
       "preload": false,
       "refresh": "",
       "schemaVersion": 40,
       "tags": [
          "pihole",
          "node"
       ],
       "templating": {
          "list": [ ]
       },
       "time": {
          "from": "now-6h",
          "to": "now"
       },
       "timepicker": { },
       "timezone": "",
       "title": "Raspberry Pi",
       "uid": "paOi07D4z",
       "version": 2,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: node-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  nvidia.json: |
    {
       "annotations": {
          "list": [
             {
                "$$hashKey": "object:192",
                "builtIn": 1,
                "datasource": {
                   "type": "datasource",
                   "uid": "grafana"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
             }
          ]
       },
       "description": "This dashboard is to display the metrics from DCGM Exporter on a Kubernetes (1.13+) cluster",
       "editable": true,
       "fiscalYearStartMonth": 0,
       "gnetId": 12239,
       "graphTooltip": 0,
       "id": 37,
       "links": [ ],
       "panels": [
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "celsius"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 18,
                "x": 0,
                "y": 0
             },
             "id": 12,
             "options": {
                "legend": {
                   "calcs": [
                      "mean",
                      "lastNotNull",
                      "max"
                   ],
                   "displayMode": "table",
                   "placement": "right",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "DCGM_FI_DEV_GPU_TEMP{exported_container=~\"${container}\", modelName=~\"${gpu}\"}",
                   "instant": false,
                   "interval": "",
                   "legendFormat": "GPU {{`{{gpu}}`}}",
                   "refId": "A"
                }
             ],
             "title": "GPU Temperature",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "max": 100,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 83
                         },
                         {
                            "color": "red",
                            "value": 87
                         }
                      ]
                   },
                   "unit": "celsius"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 6,
                "x": 18,
                "y": 0
             },
             "id": 14,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "mean"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto"
             },
             "pluginVersion": "11.2.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "avg(DCGM_FI_DEV_GPU_TEMP{exported_container=~\"${container}\", modelName=~\"${gpu}\"})",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "GPU Avg. Temp",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "watt"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 18,
                "x": 0,
                "y": 8
             },
             "id": 10,
             "options": {
                "legend": {
                   "calcs": [
                      "mean",
                      "lastNotNull",
                      "max"
                   ],
                   "displayMode": "table",
                   "placement": "right",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "6.5.2",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "DCGM_FI_DEV_POWER_USAGE{exported_container=~\"${container}\", modelName=~\"${gpu}\"}",
                   "interval": "",
                   "legendFormat": "GPU {{`{{gpu}}`}}",
                   "refId": "A"
                }
             ],
             "title": "GPU Power Usage",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "max": 2400,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 1800
                         },
                         {
                            "color": "red",
                            "value": 2200
                         }
                      ]
                   },
                   "unit": "watt"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 6,
                "x": 18,
                "y": 8
             },
             "id": 16,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "sum"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto"
             },
             "pluginVersion": "11.2.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "sum(DCGM_FI_DEV_POWER_USAGE{exported_container=~\"${container}\", modelName=~\"${gpu}\"})",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "GPU Power Total",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "hertz"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 16
             },
             "id": 2,
             "interval": "",
             "options": {
                "legend": {
                   "calcs": [
                      "mean",
                      "lastNotNull",
                      "max"
                   ],
                   "displayMode": "table",
                   "placement": "right",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "DCGM_FI_DEV_SM_CLOCK{exported_container=~\"${container}\", modelName=~\"${gpu}\"} * 1000000",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "GPU {{`{{gpu}}`}}",
                   "refId": "A"
                }
             ],
             "title": "GPU SM Clocks",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "max": 100,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "percent"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 24
             },
             "id": 6,
             "options": {
                "legend": {
                   "calcs": [
                      "mean",
                      "lastNotNull",
                      "max"
                   ],
                   "displayMode": "table",
                   "placement": "right",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "DCGM_FI_DEV_GPU_UTIL{exported_container=~\"${container}\", modelName=~\"${gpu}\"}",
                   "interval": "",
                   "legendFormat": "GPU {{`{{gpu}}`}}",
                   "refId": "A"
                }
             ],
             "title": "GPU Utilization",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 32
             },
             "id": 4,
             "options": {
                "legend": {
                   "calcs": [
                      "mean",
                      "lastNotNull",
                      "max"
                   ],
                   "displayMode": "table",
                   "placement": "right",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "DCGM_FI_PROF_PIPE_TENSOR_ACTIVE{exported_container=~\"${container}\", modelName=~\"${gpu}\"}",
                   "interval": "",
                   "legendFormat": "GPU {{`{{gpu}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Tensor Core Utilization",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "decmbytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 40
             },
             "id": 18,
             "options": {
                "legend": {
                   "calcs": [
                      "mean",
                      "max"
                   ],
                   "displayMode": "list",
                   "placement": "right",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "expr": "DCGM_FI_DEV_FB_USED{exported_container=~\"${container}\", modelName=~\"${gpu}\"}",
                   "interval": "",
                   "legendFormat": "GPU {{`{{gpu}}`}}",
                   "refId": "A"
                }
             ],
             "title": "GPU Framebuffer Mem Used",
             "type": "timeseries"
          }
       ],
       "refresh": false,
       "schemaVersion": 39,
       "tags": [ ],
       "templating": {
          "list": [
             {
                "current": {
                   "selected": true,
                   "text": [
                      "All"
                   ],
                   "value": [
                      "$__all"
                   ]
                },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "label_values(DCGM_FI_DEV_GPU_TEMP,exported_container)",
                "hide": 0,
                "includeAll": true,
                "multi": true,
                "name": "container",
                "options": [ ],
                "query": {
                   "qryType": 1,
                   "query": "label_values(DCGM_FI_DEV_GPU_TEMP,exported_container)",
                   "refId": "PrometheusVariableQueryEditor-VariableQuery"
                },
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 7,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": true,
                   "text": [
                      "All"
                   ],
                   "value": [
                      "$__all"
                   ]
                },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "label_values(DCGM_FI_DEV_GPU_TEMP,modelName)",
                "hide": 0,
                "includeAll": true,
                "multi": true,
                "name": "gpu",
                "options": [ ],
                "query": {
                   "qryType": 1,
                   "query": "label_values(DCGM_FI_DEV_GPU_TEMP,modelName)",
                   "refId": "PrometheusVariableQueryEditor-VariableQuery"
                },
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 7,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             }
          ]
       },
       "time": {
          "from": "now-15m",
          "to": "now"
       },
       "timepicker": {
          "refresh_intervals": [
             "5s",
             "10s",
             "30s",
             "1m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ]
       },
       "timezone": "",
       "title": "NVIDIA DCGM Exporter Dashboard",
       "uid": "Oxed_c6Wz",
       "version": 6,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: nvidia-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  nvidia-smi.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": {
                   "type": "datasource",
                   "uid": "grafana"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
             }
          ]
       },
       "description": "Nvidia GPU Metrics based on the prometheus metrics from github.com/utkuozdemir/nvidia_gpu_exporter",
       "editable": true,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 0,
       "id": 9,
       "links": [ ],
       "panels": [
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "The official product name of the GPU. This is an alphanumeric string. For all products.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 0,
                "y": 0
             },
             "id": 23,
             "options": {
                "colorMode": "value",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "text": { },
                "textMode": "name",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_gpu_info{uuid=\"$gpu\"}",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "{{`{{name}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Name",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "The current performance state for the GPU. States range from P0 (maximum performance) to P12 (minimum performance).",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 0,
                   "mappings": [
                      {
                         "options": {
                            "": {
                               "text": ""
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "prefix:P"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 2,
                "x": 4,
                "y": 0
             },
             "id": 22,
             "options": {
                "colorMode": "value",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "text": { },
                "textMode": "value",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_pstate{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "P-State",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Percent of time over the past sample period during which one or more kernels was executing on the GPU.\nThe sample period may be between 1 second and 1/6 second depending on the product.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "percentage",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 70
                         },
                         {
                            "color": "red",
                            "value": 90
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 6,
                "y": 0
             },
             "id": 6,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto",
                "text": { }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_utilization_gpu_ratio{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "GPU Utilization %",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "The last measured power draw for the entire board, in watts. Only available if power management is supported. This reading is accurate to within +/- 5 watts / The software power limit in watts.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "percentage",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 70
                         },
                         {
                            "color": "red",
                            "value": 90
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 9,
                "y": 0
             },
             "id": 21,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto",
                "text": { }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_power_draw_watts{uuid=\"$gpu\"} / nvidia_smi_power_default_limit_watts{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "Power Draw %",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "The fan speed value is the percent of the product's maximum noise tolerance fan speed that the device's fan is currently intended to run at. This value may exceed 100% in certain cases. Note: The reported speed is the intended fan speed. If the fan is physically blocked and unable to spin, this output will not match the actual fan speed. Many parts do not report fan speeds because they rely on cooling via fans in the surrounding enclosure.\n",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "percentage",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 70
                         },
                         {
                            "color": "red",
                            "value": 90
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 12,
                "y": 0
             },
             "id": 4,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto",
                "text": { }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_fan_speed_ratio{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "Fan Speed %",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Core GPU temperature. in degrees C.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "max": 100,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 70
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "celsius"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 15,
                "y": 0
             },
             "id": 16,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto",
                "text": { }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_temperature_gpu{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Temperature",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Percent of time over the past sample period during which global (device) memory was being read or written.\nThe sample period may be between 1 second and 1/6 second depending on the product.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "line+area"
                      }
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "transparent",
                            "value": null
                         },
                         {
                            "color": "orange",
                            "value": 0.69999999999999996
                         },
                         {
                            "color": "red",
                            "value": 0.90000000000000002
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 18,
                "y": 0
             },
             "id": 11,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_utilization_memory_ratio{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Memory Utilization %",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "The version of the installed NVIDIA display driver. This is an alphanumeric string.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 2,
                "w": 3,
                "x": 0,
                "y": 3
             },
             "id": 14,
             "options": {
                "colorMode": "value",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "text": { },
                "textMode": "name",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_gpu_info{uuid=\"$gpu\"}",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "{{`{{driver_version}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Driver Version",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "The BIOS of the GPU board.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 2,
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 2,
                "w": 3,
                "x": 3,
                "y": 3
             },
             "id": 34,
             "options": {
                "colorMode": "value",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "text": { },
                "textMode": "name",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_gpu_info{uuid=\"$gpu\"}",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "{{`{{vbios_version}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Vbios Version",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Information about factors that are reducing the frequency of clocks. If all throttle reasons are returned as \"Not Active\" it means that clocks are running as high as possible.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "decimals": 0,
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "text": "Not Active"
                            },
                            "1": {
                               "text": "Active"
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 0,
                "y": 5
             },
             "id": 32,
             "options": {
                "displayMode": "gradient",
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "maxVizHeight": 300,
                "minVizHeight": 16,
                "minVizWidth": 8,
                "namePlacement": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showUnfilled": true,
                "sizing": "auto",
                "text": { },
                "valueMode": "color"
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_event_reasons_gpu_idle{uuid=\"$gpu\"} or nvidia_smi_clocks_throttle_reasons_gpu_idle{uuid=\"$gpu\"}",
                   "instant": false,
                   "interval": "",
                   "legendFormat": "Idle",
                   "refId": "A"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_event_reasons_hw_thermal_slowdown{uuid=\"$gpu\"} or nvidia_smi_clocks_throttle_reasons_hw_thermal_slowdown{uuid=\"$gpu\"}",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "HW Thermal Slowdown",
                   "refId": "B"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_event_reasons_sw_power_cap{uuid=\"$gpu\"} or nvidia_smi_clocks_throttle_reasons_sw_power_cap{uuid=\"$gpu\"}",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "SW Power Cap",
                   "refId": "C"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_event_reasons_applications_clocks_setting{uuid=\"$gpu\"} or nvidia_smi_clocks_throttle_reasons_applications_clocks_setting{uuid=\"$gpu\"}",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "App Clocks Setting",
                   "refId": "D"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_event_reasons_hw_power_brake_slowdown{uuid=\"$gpu\"} or nvidia_smi_clocks_throttle_reasons_hw_power_brake_slowdown{uuid=\"$gpu\"}",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "HW Power Brake",
                   "refId": "E"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_event_reasons_sw_thermal_slowdown{uuid=\"$gpu\"} or nvidia_smi_clocks_throttle_reasons_sw_thermal_slowdown{uuid=\"$gpu\"}",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "SW Thermal Slowdown",
                   "refId": "F"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_event_reasons_sync_boost{uuid=\"$gpu\"} or nvidia_smi_clocks_throttle_reasons_sync_boost{uuid=\"$gpu\"}",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "Sync Boost",
                   "refId": "G"
                }
             ],
             "title": "Throttle Reasons",
             "type": "bargauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Current frequency of graphics (shader) clock\n/\nMaximum frequency of graphics (shader) clock.\n",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "percentage",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 70
                         },
                         {
                            "color": "red",
                            "value": 90
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 6,
                "y": 5
             },
             "id": 20,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto",
                "text": { }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_current_graphics_clock_hz{uuid=\"$gpu\"} / nvidia_smi_clocks_max_graphics_clock_hz{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "GPU Clock Speed %",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Current frequency of memory clock / Maximum frequency of memory clock",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "percentage",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 70
                         },
                         {
                            "color": "red",
                            "value": 90
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 9,
                "y": 5
             },
             "id": 33,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto",
                "text": { }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_current_memory_clock_hz{uuid=\"$gpu\"} / nvidia_smi_clocks_max_memory_clock_hz{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "Memory Clock Speed %",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Total memory allocated by active contexts / Total installed GPU memory.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "percentage",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 70
                         },
                         {
                            "color": "red",
                            "value": 90
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 12,
                "y": 5
             },
             "id": 25,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto",
                "text": { }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_memory_used_bytes{uuid=\"$gpu\"} / nvidia_smi_memory_total_bytes{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "Memory Allocation %",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Percent of time over the past sample period during which global (device) memory was being read or written.\nThe sample period may be between 1 second and 1/6 second depending on the product.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "percentage",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "#EAB839",
                            "value": 70
                         },
                         {
                            "color": "red",
                            "value": 90
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 15,
                "y": 5
             },
             "id": 7,
             "options": {
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "last"
                   ],
                   "fields": "",
                   "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true,
                "sizing": "auto",
                "text": { }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_utilization_memory_ratio{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "Memory Utilization %",
             "type": "gauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Percent of time over the past sample period during which one or more kernels was executing on the GPU.\nThe sample period may be between 1 second and 1/6 second depending on the product.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "line+area"
                      }
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "transparent",
                            "value": null
                         },
                         {
                            "color": "orange",
                            "value": 0.69999999999999996
                         },
                         {
                            "color": "red",
                            "value": 0.90000000000000002
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 18,
                "y": 5
             },
             "id": 10,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_utilization_gpu_ratio{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "GPU Utilization %",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Total memory allocated by active contexts.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "decbytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 0,
                "y": 10
             },
             "id": 17,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_memory_used_bytes{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Memory Allocation",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Core GPU temperature. in degrees C.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "line+area"
                      }
                   },
                   "mappings": [ ],
                   "max": 100,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "transparent",
                            "value": null
                         },
                         {
                            "color": "orange",
                            "value": 70
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "celsius"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 6,
                "y": 10
             },
             "id": 15,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_temperature_gpu{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Temperature",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "The last measured power draw for the entire board, in watts. Only available if power management is supported. This reading is accurate to within +/- 5 watts",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "watt"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 12,
                "y": 10
             },
             "id": 8,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_power_draw_watts{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Power Draw",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "The fan speed value is the percent of the product's maximum noise tolerance fan speed that the device's fan is currently intended to run at. This value may exceed 100% in certain cases. Note: The reported speed is the intended fan speed. If the fan is physically blocked and unable to spin, this output will not match the actual fan speed. Many parts do not report fan speeds because they rely on cooling via fans in the surrounding enclosure.\n",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "line+area"
                      }
                   },
                   "mappings": [ ],
                   "max": 1,
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "transparent",
                            "value": null
                         },
                         {
                            "color": "orange",
                            "value": 0.69999999999999996
                         },
                         {
                            "color": "red",
                            "value": 0.90000000000000002
                         }
                      ]
                   },
                   "unit": "percentunit"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 18,
                "y": 10
             },
             "id": 9,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_fan_speed_ratio{uuid=\"$gpu\"}",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Fan Speed %",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Current frequency of graphics (shader) clock.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "hertz"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 0,
                "y": 15
             },
             "id": 12,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_current_graphics_clock_hz{uuid=\"$gpu\"}",
                   "format": "time_series",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Graphics Clock Speed",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Current frequency of video encoder/decoder clock.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "hertz"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 6,
                "y": 15
             },
             "id": 19,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_current_video_clock_hz{uuid=\"$gpu\"}",
                   "format": "time_series",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Video Clock Speed",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Current frequency of SM (Streaming Multiprocessor) clock.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "hertz"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 12,
                "y": 15
             },
             "id": 24,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_current_sm_clock_hz{uuid=\"$gpu\"}",
                   "format": "time_series",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "SM Clock Speed",
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "Current frequency of memory clock.",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "min": 0,
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "hertz"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 18,
                "y": 15
             },
             "id": 18,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "tooltip": {
                   "mode": "multi",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "nvidia_smi_clocks_current_memory_clock_hz{uuid=\"$gpu\"}",
                   "format": "time_series",
                   "interval": "",
                   "legendFormat": "{{`{{uuid}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Memory Clock Speed",
             "type": "timeseries"
          }
       ],
       "preload": false,
       "refresh": "10s",
       "schemaVersion": 40,
       "tags": [
          "nvidia",
          "nvidia-smi",
          "nvidia_gpu_exporter",
          "prometheus"
       ],
       "templating": {
          "list": [
             {
                "current": {
                   "text": "Prometheus",
                   "value": "prometheus"
                },
                "includeAll": false,
                "label": "datasource",
                "name": "DS_PROMETHEUS",
                "options": [ ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "type": "datasource"
             },
             {
                "current": { },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "label_values(nvidia_smi_index, job)",
                "description": "",
                "includeAll": false,
                "label": "Job",
                "name": "job",
                "options": [ ],
                "query": {
                   "query": "label_values(nvidia_smi_index,job)",
                   "refId": "Prometheus-job-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "type": "query"
             },
             {
                "current": { },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "label_values(nvidia_smi_index{job=\"$job\"},instance)",
                "includeAll": false,
                "label": "Host",
                "name": "node",
                "options": [ ],
                "query": {
                   "query": "label_values(nvidia_smi_index{job=\"$job\"},instance)",
                   "refId": "Prometheus-node-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "type": "query"
             },
             {
                "current": { },
                "datasource": {
                   "type": "prometheus",
                   "uid": "prometheus"
                },
                "definition": "label_values(nvidia_smi_index{instance=\"$node\"},uuid)",
                "includeAll": false,
                "label": "GPU",
                "name": "gpu",
                "options": [ ],
                "query": {
                   "query": "label_values(nvidia_smi_index{instance=\"$node\"},uuid)",
                   "refId": "StandardVariableQuery"
                },
                "refresh": 1,
                "regex": "",
                "sort": 1,
                "type": "query"
             }
          ]
       },
       "time": {
          "from": "now-30m",
          "to": "now"
       },
       "timepicker": { },
       "timezone": "",
       "title": "Nvidia GPU Metrics",
       "uid": "vlvPlrgnk",
       "version": 1,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: nvidia-smi-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  overview.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": {
                   "type": "datasource",
                   "uid": "grafana"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "target": {
                   "limit": 100,
                   "matchAny": false,
                   "tags": [ ],
                   "type": "dashboard"
                },
                "type": "dashboard"
             }
          ]
       },
       "description": "Grafana Dashboard for Prometheus metrics exposed by authentik.",
       "editable": true,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 1,
       "id": 39,
       "links": [ ],
       "panels": [
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
             },
             "id": 23,
             "panels": [ ],
             "title": "authentik Core",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "hue",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "ms"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 12,
                "w": 17,
                "x": 0,
                "y": 1
             },
             "id": 8,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "avg by (flow_slug) (rate(authentik_flows_plan_time_sum{namespace=~\"$namespace\"}[5m]) / rate(authentik_flows_plan_time_count{namespace=~\"$namespace\"}[5m]))",
                   "interval": "",
                   "legendFormat": "{{`{{flow_slug}}`}}",
                   "refId": "A"
                }
             ],
             "title": "FlowPlanner time by flow",
             "transparent": true,
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      }
                   },
                   "mappings": [ ]
                },
                "overrides": [
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Successful"
                      },
                      "properties": [
                         {
                            "id": "color",
                            "value": {
                               "fixedColor": "green",
                               "mode": "fixed"
                            }
                         }
                      ]
                   },
                   {
                      "matcher": {
                         "id": "byName",
                         "options": "Failed"
                      },
                      "properties": [
                         {
                            "id": "color",
                            "value": {
                               "fixedColor": "red",
                               "mode": "fixed"
                            }
                         }
                      ]
                   }
                ]
             },
             "gridPos": {
                "h": 6,
                "w": 3,
                "x": 17,
                "y": 1
             },
             "id": 10,
             "options": {
                "displayLabels": [ ],
                "legend": {
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true,
                   "values": [ ]
                },
                "pieType": "donut",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": { },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "sum(authentik_system_tasks{namespace=~\"$namespace\",status=\"TaskResultStatus.ERROR\"})",
                   "format": "time_series",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "Failed",
                   "refId": "A"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "sum(authentik_system_tasks{namespace=~\"$namespace\",status=\"TaskResultStatus.SUCCESSFUL\"})",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "Successful",
                   "refId": "B"
                }
             ],
             "title": "Task status",
             "transparent": true,
             "type": "piechart"
          },
          {
             "fieldConfig": {
                "defaults": { },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 4,
                "x": 20,
                "y": 1
             },
             "id": 13,
             "options": {
                "code": {
                   "language": "plaintext",
                   "showLineNumbers": false,
                   "showMiniMap": false
                },
                "content": "\n\n<img src=\"https://goauthentik.io/img/icon_top_brand.svg\">",
                "mode": "html"
             },
             "pluginVersion": "11.4.0",
             "title": "",
             "transparent": true,
             "type": "text"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "text": "None"
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 20,
                "y": 6
             },
             "id": 4,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "text": { },
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "max(authentik_admin_workers{namespace=~\"$namespace\"})",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "Connected Workers",
             "transparent": true,
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      }
                   },
                   "mappings": [ ]
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 6,
                "w": 3,
                "x": 17,
                "y": 7
             },
             "id": 6,
             "options": {
                "displayLabels": [ ],
                "legend": {
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true,
                   "values": [ ]
                },
                "pieType": "donut",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "text": { },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "sum(authentik_policies_cached{namespace=~\"$namespace\"})",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "Cached policies",
                   "refId": "A"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "sum(authentik_models{namespace=~\"$namespace\",app=\"authentik_policies\", model_name=\"policy\"}) - authentik_policies_cached",
                   "hide": false,
                   "instant": true,
                   "interval": "",
                   "legendFormat": "Total policies",
                   "refId": "B"
                }
             ],
             "title": "Cached policies",
             "transparent": true,
             "type": "piechart"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "text": "None"
                            }
                         },
                         "type": "value"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 4,
                "w": 4,
                "x": 20,
                "y": 9
             },
             "id": 16,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showPercentChange": false,
                "text": { },
                "textMode": "auto",
                "wideLayout": true
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "sum(authentik_outposts_connected{namespace=~\"$namespace\"})",
                   "interval": "",
                   "legendFormat": "",
                   "refId": "A"
                }
             ],
             "title": "Connected Outposts",
             "transparent": true,
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 800000
                         }
                      ]
                   },
                   "unit": "ms"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 16,
                "w": 4,
                "x": 0,
                "y": 13
             },
             "id": 15,
             "options": {
                "displayMode": "lcd",
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": false
                },
                "maxVizHeight": 300,
                "minVizHeight": 16,
                "minVizWidth": 8,
                "namePlacement": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showUnfilled": true,
                "sizing": "auto",
                "text": { },
                "valueMode": "color"
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "avg by (task_name) (authentik_system_tasks{namespace=~\"$namespace\"})",
                   "instant": true,
                   "interval": "",
                   "legendFormat": "{{`{{task_name}}`}}",
                   "refId": "A"
                }
             ],
             "title": "System task duration",
             "transparent": true,
             "type": "bargauge"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "ms"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 20,
                "x": 4,
                "y": 13
             },
             "id": 2,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "topk(5, avg by(binding_target_type) (rate(authentik_policies_execution_time_sum{namespace=~\"$namespace\"}[5m]) / rate(authentik_policies_execution_time_count{namespace=~\"$namespace\"}[5m])))",
                   "interval": "",
                   "legendFormat": "{{`{{binding_target_type}}`}}",
                   "refId": "A"
                }
             ],
             "title": "PolicyEngine Execution time by binding type (Top 5)",
             "transparent": true,
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "hue",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "ms"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 20,
                "x": 4,
                "y": 21
             },
             "id": 11,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "topk(5, avg by(object_type) (rate(authentik_policies_execution_time_sum{namespace=~\"$namespace\"}[5m]) / rate(authentik_policies_execution_time_count{namespace=~\"$namespace\"}[5m])))",
                   "interval": "",
                   "legendFormat": "{{`{{object_type}}`}}",
                   "refId": "A"
                }
             ],
             "title": "PolicyEngine Execution time by binding target (Top 5)",
             "transparent": true,
             "type": "timeseries"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 29
             },
             "id": 18,
             "panels": [ ],
             "repeat": "outpost_proxy",
             "title": "authentik Proxy Outpost $outpost_proxy",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 30
             },
             "id": 20,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "sum by (host) (rate(authentik_outpost_proxy_requests_sum{namespace=~\"$namespace\", outpost_name=\"$outpost_proxy\"}[5m]))",
                   "interval": "",
                   "legendFormat": "{{`{{host}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Outpost requests (per 5 minutes)",
             "transparent": true,
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 30
             },
             "id": 21,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "sum by (host) (rate(authentik_outpost_proxy_requests_sum{outpost_name=\"$outpost_proxy\", namespace=~\"$namespace\",user=\"\"}[5m]))",
                   "interval": "",
                   "legendFormat": "{{`{{host}}`}}",
                   "refId": "A"
                }
             ],
             "title": "Outpost requests (per 5 minutes) (unauthenticated, but allow-listed)",
             "transparent": true,
             "type": "timeseries"
          },
          {
             "collapsed": false,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 38
             },
             "id": 25,
             "panels": [ ],
             "repeat": "outpost_ldap",
             "title": "authentik LDAP Outpost $outpost_ldap",
             "type": "row"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 39
             },
             "id": 27,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "avg by (dn) (rate(authentik_outpost_ldap_requests_bucket{namespace=~\"$namespace\", outpost_name=\"$outpost_ldap\"}[5m]))",
                   "interval": "",
                   "legendFormat": "{{`{{dn}}`}}",
                   "refId": "A"
                }
             ],
             "title": "LDAP Requests (per 5 minutes)",
             "transparent": true,
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 39
             },
             "id": 28,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "avg by (reason) (rate(authentik_outpost_ldap_requests_rejected{namespace=~\"$namespace\", outpost_name=\"$outpost_ldap\"}[5m]))",
                   "interval": "",
                   "legendFormat": "{{`{{reason}}`}}",
                   "refId": "A"
                }
             ],
             "title": "LDAP Rejected Requests (per 5 minutes)",
             "transparent": true,
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "barWidthFactor": 0.59999999999999998,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 16,
                "x": 0,
                "y": 47
             },
             "id": 26,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "avg by (flow) (rate(authentik_outpost_flow_timing_get_bucket{namespace=~\"$namespace\"}[5m]))",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "{{`{{flow}}`}} GET",
                   "refId": "A"
                },
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "avg by (flow) (rate(authentik_outpost_flow_timing_post_bucket{namespace=~\"$namespace\"}[5m]))",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "{{`{{flow}}`}} POST",
                   "refId": "B"
                }
             ],
             "title": "FlowExecutor Timings",
             "transparent": true,
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      }
                   },
                   "mappings": [ ]
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 4,
                "x": 16,
                "y": 47
             },
             "id": 29,
             "options": {
                "legend": {
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "pieType": "pie",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "group by (type) (authentik_outpost_ldap_requests_sum)",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "{{`{{type}}`}}",
                   "refId": "A"
                }
             ],
             "title": "LDAP Requests by type",
             "transparent": true,
             "type": "piechart"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "description": "",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      }
                   },
                   "mappings": [ ]
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 8,
                "w": 4,
                "x": 20,
                "y": 47
             },
             "id": 30,
             "options": {
                "legend": {
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "pieType": "pie",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "pluginVersion": "11.4.0",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "exemplar": true,
                   "expr": "group by (reason) (authentik_outpost_ldap_requests_rejected)",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "{{`{{reason}}`}}",
                   "refId": "A"
                }
             ],
             "title": "LDAP Rejected Requests by reason",
             "transparent": true,
             "type": "piechart"
          }
       ],
       "preload": false,
       "refresh": "",
       "schemaVersion": 40,
       "tags": [ ],
       "templating": {
          "list": [
             {
                "current": {
                   "text": [
                      "All"
                   ],
                   "value": [
                      "$__all"
                   ]
                },
                "datasource": "prometheus",
                "definition": "authentik_outpost_connection",
                "includeAll": true,
                "label": "Namespace",
                "multi": true,
                "name": "namespace",
                "options": [ ],
                "query": {
                   "query": "authentik_outpost_connection",
                   "refId": "StandardVariableQuery"
                },
                "refresh": 1,
                "regex": "/.*namespace=\"([^\"]*).*/",
                "type": "query"
             },
             {
                "current": {
                   "text": "authentik Embedded Outpost",
                   "value": "authentik Embedded Outpost"
                },
                "datasource": "prometheus",
                "definition": "authentik_outpost_info{outpost_type=\"proxy\"}",
                "hide": 2,
                "includeAll": false,
                "name": "outpost_proxy",
                "options": [ ],
                "query": {
                   "query": "authentik_outpost_info{outpost_type=\"proxy\"}",
                   "refId": "StandardVariableQuery"
                },
                "refresh": 1,
                "regex": "/.*outpost_name=\"([^\"]*).*/",
                "type": "query"
             },
             {
                "current": {
                   "text": "",
                   "value": ""
                },
                "datasource": "prometheus",
                "definition": "authentik_outpost_info{outpost_type=\"ldap\"}",
                "hide": 2,
                "includeAll": false,
                "name": "outpost_ldap",
                "options": [ ],
                "query": {
                   "query": "authentik_outpost_info{outpost_type=\"ldap\"}",
                   "refId": "StandardVariableQuery"
                },
                "refresh": 1,
                "regex": "/.*outpost_name=\"([^\"]*).*/",
                "type": "query"
             }
          ]
       },
       "time": {
          "from": "now-1h",
          "to": "now"
       },
       "timepicker": { },
       "timezone": "",
       "title": "authentik",
       "uid": "authentik",
       "version": 1,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: overview-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  postgres.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
             }
          ]
       },
       "description": "Performance metrics for Postgres",
       "editable": true,
       "gnetId": 455,
       "graphTooltip": 0,
       "id": 1,
       "iteration": 1603191461722,
       "links": [ ],
       "panels": [
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 20,
                "x": 0,
                "y": 0
             },
             "hiddenSeries": false,
             "id": 1,
             "isNew": true,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "rightSide": true,
                "show": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.2.1",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "alias": "fetched",
                   "dsType": "prometheus",
                   "expr": "sum(irate(pg_stat_database_tup_fetched{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval]))",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "fetched",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "A",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "tup_fetched"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [
                               "10s"
                            ],
                            "type": "non_negative_derivative"
                         }
                      ]
                   ],
                   "step": 120,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                },
                {
                   "alias": "fetched",
                   "dsType": "prometheus",
                   "expr": "sum(irate(pg_stat_database_tup_returned{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval]))",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "returned",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "B",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "tup_fetched"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [
                               "10s"
                            ],
                            "type": "non_negative_derivative"
                         }
                      ]
                   ],
                   "step": 120,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                },
                {
                   "alias": "fetched",
                   "dsType": "prometheus",
                   "expr": "sum(irate(pg_stat_database_tup_inserted{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval]))",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "inserted",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "C",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "tup_fetched"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [
                               "10s"
                            ],
                            "type": "non_negative_derivative"
                         }
                      ]
                   ],
                   "step": 120,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                },
                {
                   "alias": "fetched",
                   "dsType": "prometheus",
                   "expr": "sum(irate(pg_stat_database_tup_updated{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval]))",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "updated",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "D",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "tup_fetched"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [
                               "10s"
                            ],
                            "type": "non_negative_derivative"
                         }
                      ]
                   ],
                   "step": 120,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                },
                {
                   "alias": "fetched",
                   "dsType": "prometheus",
                   "expr": "sum(irate(pg_stat_database_tup_deleted{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval]))",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "deleted",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "E",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "tup_fetched"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [
                               "10s"
                            ],
                            "type": "non_negative_derivative"
                         }
                      ]
                   ],
                   "step": 120,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Rows",
             "tooltip": {
                "msResolution": true,
                "shared": true,
                "sort": 0,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "cacheTimeout": null,
             "colorBackground": false,
             "colorValue": false,
             "colors": [
                "rgba(245, 54, 54, 0.9)",
                "rgba(237, 129, 40, 0.89)",
                "rgba(50, 172, 45, 0.97)"
             ],
             "datasource": "$datasource",
             "decimals": 0,
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "format": "none",
             "gauge": {
                "maxValue": 100,
                "minValue": 0,
                "show": false,
                "thresholdLabels": false,
                "thresholdMarkers": true
             },
             "gridPos": {
                "h": 3,
                "w": 4,
                "x": 20,
                "y": 0
             },
             "height": "55px",
             "id": 11,
             "interval": null,
             "isNew": true,
             "links": [ ],
             "mappingType": 1,
             "mappingTypes": [
                {
                   "name": "value to text",
                   "value": 1
                },
                {
                   "name": "range to text",
                   "value": 2
                }
             ],
             "maxDataPoints": 100,
             "nullPointMode": "connected",
             "nullText": null,
             "postfix": "",
             "postfixFontSize": "50%",
             "prefix": "",
             "prefixFontSize": "50%",
             "rangeMaps": [
                {
                   "from": "null",
                   "text": "N/A",
                   "to": "null"
                }
             ],
             "sparkline": {
                "fillColor": "rgba(31, 118, 189, 0.18)",
                "full": true,
                "lineColor": "rgb(31, 120, 193)",
                "show": true
             },
             "tableColumn": "",
             "targets": [
                {
                   "dsType": "prometheus",
                   "expr": "sum(irate(pg_stat_database_xact_commit{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])) + sum(irate(pg_stat_database_xact_rollback{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval]))",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "A",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "xact_commit"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [
                               "10s"
                            ],
                            "type": "non_negative_derivative"
                         }
                      ]
                   ],
                   "step": 1800,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                }
             ],
             "thresholds": "",
             "title": "QPS",
             "transparent": true,
             "type": "singlestat",
             "valueFontSize": "80%",
             "valueMaps": [
                {
                   "op": "=",
                   "text": "N/A",
                   "value": "null"
                }
             ],
             "valueName": "avg"
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "decimals": 1,
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 0,
                "y": 7
             },
             "hiddenSeries": false,
             "id": 2,
             "isNew": true,
             "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": true,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.2.1",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "alias": "Buffers Allocated",
                   "dsType": "prometheus",
                   "expr": "irate(pg_stat_bgwriter_buffers_alloc{job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "buffers_alloc",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "A",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "buffers_alloc"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [ ],
                            "type": "difference"
                         }
                      ]
                   ],
                   "step": 240,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                },
                {
                   "alias": "Buffers Allocated",
                   "dsType": "prometheus",
                   "expr": "irate(pg_stat_bgwriter_buffers_backend_fsync{job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "buffers_backend_fsync",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "B",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "buffers_alloc"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [ ],
                            "type": "difference"
                         }
                      ]
                   ],
                   "step": 240,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                },
                {
                   "alias": "Buffers Allocated",
                   "dsType": "prometheus",
                   "expr": "irate(pg_stat_bgwriter_buffers_backend{job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "buffers_backend",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "C",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "buffers_alloc"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [ ],
                            "type": "difference"
                         }
                      ]
                   ],
                   "step": 240,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                },
                {
                   "alias": "Buffers Allocated",
                   "dsType": "prometheus",
                   "expr": "irate(pg_stat_bgwriter_buffers_clean{job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "buffers_clean",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "D",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "buffers_alloc"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [ ],
                            "type": "difference"
                         }
                      ]
                   ],
                   "step": 240,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                },
                {
                   "alias": "Buffers Allocated",
                   "dsType": "prometheus",
                   "expr": "irate(pg_stat_bgwriter_buffers_checkpoint{job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "buffers_checkpoint",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "E",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "buffers_alloc"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [ ],
                            "type": "difference"
                         }
                      ]
                   ],
                   "step": 240,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Buffers",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 0,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 12,
                "y": 7
             },
             "hiddenSeries": false,
             "id": 3,
             "isNew": true,
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.2.1",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "alias": "conflicts",
                   "dsType": "prometheus",
                   "expr": "sum(rate(pg_stat_database_deadlocks{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval]))",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "deadlocks",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "A",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "conflicts"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [ ],
                            "type": "difference"
                         }
                      ]
                   ],
                   "step": 240,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                },
                {
                   "alias": "deadlocks",
                   "dsType": "prometheus",
                   "expr": "sum(rate(pg_stat_database_conflicts{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval]))",
                   "format": "time_series",
                   "groupBy": [
                      {
                         "params": [
                            "$interval"
                         ],
                         "type": "time"
                      },
                      {
                         "params": [
                            "null"
                         ],
                         "type": "fill"
                      }
                   ],
                   "intervalFactor": 2,
                   "legendFormat": "conflicts",
                   "measurement": "postgresql",
                   "policy": "default",
                   "refId": "B",
                   "resultFormat": "time_series",
                   "select": [
                      [
                         {
                            "params": [
                               "deadlocks"
                            ],
                            "type": "field"
                         },
                         {
                            "params": [ ],
                            "type": "mean"
                         },
                         {
                            "params": [ ],
                            "type": "difference"
                         }
                      ]
                   ],
                   "step": 240,
                   "tags": [
                      {
                         "key": "instance",
                         "operator": "=~",
                         "value": "/^$instance$/"
                      }
                   ]
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Conflicts/Deadlocks",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 0,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 0,
                "y": 14
             },
             "hiddenSeries": false,
             "id": 12,
             "isNew": true,
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "alertThreshold": true
             },
             "percentage": true,
             "pluginVersion": "7.2.1",
             "pointradius": 1,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum by (datname) (rate(pg_stat_database_blks_hit{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])) / (sum by (datname)(rate(pg_stat_database_blks_hit{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])) + sum by (datname)(rate(pg_stat_database_blks_read{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])))",
                   "format": "time_series",
                   "intervalFactor": 2,
                   "legendFormat": "{{`{{datname}}`}} - cache hit rate",
                   "refId": "A",
                   "step": 240
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Cache hit ratio",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 0,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "percentunit",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 12,
                "x": 12,
                "y": 14
             },
             "hiddenSeries": false,
             "id": 13,
             "isNew": true,
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 2,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "alertThreshold": true
             },
             "percentage": false,
             "pluginVersion": "7.2.1",
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "pg_stat_database_numbackends{datname=~\"$db\",job=~\"$job\",instance=~\"$instance\"}",
                   "format": "time_series",
                   "intervalFactor": 2,
                   "legendFormat": "{{`{{datname}}`}} - {{`{{__name__}}`}}",
                   "refId": "A",
                   "step": 240
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Number of active connections",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 0,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          }
       ],
       "refresh": false,
       "schemaVersion": 26,
       "style": "dark",
       "tags": [
          "postgres"
       ],
       "templating": {
          "list": [
             {
                "hide": 0,
                "includeAll": false,
                "label": "Data Source",
                "multi": false,
                "name": "datasource",
                "options": [ ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "type": "datasource"
             },
             {
                "allValue": ".+",
                "datasource": "$datasource",
                "definition": "label_values(pg_up, job)",
                "hide": 0,
                "includeAll": true,
                "label": "job",
                "multi": true,
                "name": "job",
                "options": [ ],
                "query": "label_values(pg_up, job)",
                "refresh": 0,
                "regex": "",
                "skipUrlSync": false,
                "sort": 0,
                "tagValuesQuery": "",
                "tags": [ ],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allValue": ".+",
                "datasource": "$datasource",
                "definition": "",
                "hide": 0,
                "includeAll": true,
                "label": "instance",
                "multi": true,
                "name": "instance",
                "options": [ ],
                "query": "label_values(up{job=~\"$job\"},instance)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 0,
                "tagValuesQuery": "",
                "tags": [ ],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "allValue": ".+",
                "datasource": "$datasource",
                "definition": "label_values(pg_stat_database_tup_fetched{instance=~\"$instance\",datname!~\"template.*|postgres\"},datname)",
                "hide": 0,
                "includeAll": true,
                "label": "db",
                "multi": false,
                "name": "db",
                "options": [ ],
                "query": "label_values(pg_stat_database_tup_fetched{instance=~\"$instance\",datname!~\"template.*|postgres\"},datname)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 0,
                "tagValuesQuery": "",
                "tags": [ ],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             }
          ]
       },
       "time": {
          "from": "now-1h",
          "to": "now"
       },
       "timepicker": {
          "refresh_intervals": [
             "5s",
             "10s",
             "30s",
             "1m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ],
          "time_options": [
             "5m",
             "15m",
             "1h",
             "6h",
             "12h",
             "24h",
             "2d",
             "7d",
             "30d"
          ]
       },
       "timezone": "browser",
       "title": "Postgres Overview",
       "uid": "wGgaPlciz",
       "version": 5
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: postgres-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  power.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": {
                   "type": "grafana",
                   "uid": "-- Grafana --"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
             }
          ]
       },
       "editable": true,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 0,
       "id": 34,
       "links": [ ],
       "liveNow": false,
       "panels": [
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "bars",
                      "fillOpacity": 100,
                      "gradientMode": "none",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "normal"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "watth"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 10,
                "w": 12,
                "x": 0,
                "y": 0
             },
             "id": 2,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "disableTextWrap": false,
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(homeassistant_sensor_power_w{friendly_name!~\".*\\\\[W\\\\]$\", entity!~\".*_battery_power$\", entity!=\"sensor.filter_pump_power\",entity!=\"sensor.energy_usage\",entity!=\"sensor.energy_production\",entity!=\"sensor.power_production_now\",entity!=\"sensor.solar_power\",entity!=\"sensor.cyberpower_nominal_real_power\"}) by (friendly_name)",
                   "fullMetaSearch": false,
                   "includeNullMetadata": true,
                   "instant": false,
                   "legendFormat": "__auto",
                   "range": true,
                   "refId": "A",
                   "useBackend": false
                }
             ],
             "title": "Power Consumption",
             "transformations": [ ],
             "type": "timeseries"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
             },
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 100,
                      "gradientMode": "opacity",
                      "hideFrom": {
                         "legend": false,
                         "tooltip": false,
                         "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "smooth",
                      "lineStyle": {
                         "fill": "solid"
                      },
                      "lineWidth": 2,
                      "pointSize": 5,
                      "scaleDistribution": {
                         "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                         "group": "A",
                         "mode": "none"
                      },
                      "thresholdsStyle": {
                         "mode": "off"
                      }
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 80
                         }
                      ]
                   },
                   "unit": "watth"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 10,
                "w": 12,
                "x": 12,
                "y": 0
             },
             "id": 1,
             "options": {
                "legend": {
                   "calcs": [ ],
                   "displayMode": "list",
                   "placement": "bottom",
                   "showLegend": true
                },
                "tooltip": {
                   "mode": "single",
                   "sort": "none"
                }
             },
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                   },
                   "disableTextWrap": false,
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "sum by(friendly_name) (homeassistant_sensor_power_w{entity=~\"sensor.energy_usage|sensor.energy_production\"})",
                   "fullMetaSearch": false,
                   "includeNullMetadata": true,
                   "instant": false,
                   "legendFormat": "__auto",
                   "range": true,
                   "refId": "A",
                   "useBackend": false
                }
             ],
             "title": "Energy Overview",
             "transformations": [ ],
             "type": "timeseries"
          }
       ],
       "refresh": "",
       "schemaVersion": 39,
       "tags": [ ],
       "templating": {
          "list": [ ]
       },
       "time": {
          "from": "now-1h",
          "to": "now"
       },
       "timepicker": { },
       "timezone": "",
       "title": "Power Usage",
       "uid": "eb3ba285-c6fe-4da7-ae42-a5870941efcd",
       "version": 4,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: power-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  radarr.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": {
                   "type": "grafana"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "target": {
                   "limit": 100,
                   "matchAny": false,
                   "tags": [ ],
                   "type": "dashboard"
                },
                "type": "dashboard"
             }
          ]
       },
       "description": "Radarr Dashboard",
       "editable": true,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 0,
       "id": 29,
       "links": [ ],
       "liveNow": false,
       "panels": [
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Status of Radarr",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "thresholds"
                   },
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "color": "red",
                               "index": 1,
                               "text": "Offline"
                            },
                            "1": {
                               "color": "#ffc230",
                               "index": 0,
                               "text": "Online"
                            }
                         },
                         "type": "value"
                      },
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "color": "red",
                               "index": 2,
                               "text": "Offline"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 7,
                "x": 0,
                "y": 0
             },
             "id": 9,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "radarr_system_status",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Status",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of total movies available on Radarr",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 7,
                "x": 7,
                "y": 0
             },
             "id": 2,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "radarr_movie_downloaded_total",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Downloaded Movies",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of movies released, but not yet downloaded",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 1
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 6,
                "x": 14,
                "y": 0
             },
             "id": 7,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "radarr_movie_missing_total",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Missing Movies",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Total filesize of all movies",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "decbytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 7,
                "x": 0,
                "y": 5
             },
             "id": 3,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "radarr_movie_filesize_total",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Size",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Free space remaining in the download directory",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "decbytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 7,
                "x": 7,
                "y": 5
             },
             "id": 8,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "radarr_rootfolder_freespace_bytes",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Free space",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of movies downloaded in the past week",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 14,
                "y": 5
             },
             "id": 11,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(increase(radarr_movie_downloaded_total[7d]))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "D/L Past Week",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of movies downloaded in the past month",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 17,
                "y": 5
             },
             "id": 10,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(increase(radarr_movie_downloaded_total[30d]))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "D/L Past Month",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of movies of each quality",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "mode": "palette-classic"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 12,
                "w": 20,
                "x": 0,
                "y": 10
             },
             "id": 6,
             "options": {
                "displayMode": "gradient",
                "minVizHeight": 10,
                "minVizWidth": 0,
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "showUnfilled": false
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sort_desc(sum(radarr_movie_quality_total) by (quality))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Movie Quality",
             "type": "bargauge"
          }
       ],
       "schemaVersion": 37,
       "style": "dark",
       "tags": [
          "mediaserver",
          "radarr"
       ],
       "templating": {
          "list": [
             {
                "current": {
                   "selected": false,
                   "text": "Prometheus",
                   "value": "Prometheus"
                },
                "hide": 0,
                "includeAll": false,
                "multi": false,
                "name": "datasource",
                "options": [ ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "type": "datasource"
             }
          ]
       },
       "time": {
          "from": "now-7d",
          "to": "now"
       },
       "timepicker": { },
       "timezone": "",
       "title": "Radarr",
       "uid": "UMJUyh04k",
       "version": 5,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: radarr-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  redis-overview.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
             }
          ]
       },
       "description": "Redis Dashboard for Prometheus Redis Exporter 1.x",
       "editable": true,
       "gnetId": 763,
       "graphTooltip": 1,
       "id": 24,
       "iteration": 1602758020790,
       "links": [ ],
       "panels": [
          {
             "collapsed": false,
             "datasource": null,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
             },
             "id": 24,
             "panels": [ ],
             "title": "Performance",
             "type": "row"
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Average taken across instances",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 0,
                "y": 1
             },
             "hiddenSeries": false,
             "id": 18,
             "isNew": true,
             "legend": {
                "avg": false,
                "current": false,
                "hideEmpty": false,
                "hideZero": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": true,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg(irate(redis_commands_total{instance=~\"$instance\"} [$__rate_interval])) by (cmd)",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "{{`{{cmd}}`}}",
                   "metric": "redis_command_calls_total",
                   "refId": "A",
                   "step": 240
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Commands per second",
             "tooltip": {
                "msResolution": true,
                "shared": true,
                "sort": 2,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Average taken across instances",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 8,
                "y": 1
             },
             "hiddenSeries": false,
             "id": 20,
             "isNew": true,
             "legend": {
                "avg": false,
                "current": false,
                "hideEmpty": false,
                "hideZero": true,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg(irate(redis_commands_duration_seconds_total{instance=~\"$instance\"}[$__rate_interval])) by (cmd)\n  /\navg(irate(redis_commands_total{instance=~\"$instance\"}[$__rate_interval])) by (cmd)\n",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "{{`{{cmd}}`}}",
                   "metric": "redis_command_calls_total",
                   "refId": "A",
                   "step": 240
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Command latency per second",
             "tooltip": {
                "msResolution": true,
                "shared": true,
                "sort": 2,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "s",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": {
                "Hit ratio": "blue"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "decimals": 2,
             "description": "Hit rate shows the percentage of key space lookups that hit a key.",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 16,
                "y": 1
             },
             "hiddenSeries": false,
             "id": 1,
             "isNew": true,
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": true,
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "/Target/",
                   "color": "#56A64B",
                   "dashes": true,
                   "fill": 0,
                   "hideTooltip": true,
                   "linewidth": 1
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "avg(irate(redis_keyspace_hits_total{instance=~\"$instance\"}[$__rate_interval]) / (irate(redis_keyspace_misses_total{instance=~\"$instance\"}[$__rate_interval]) + irate(redis_keyspace_hits_total{instance=~\"$instance\"}[$__rate_interval]))) by (instance)",
                   "format": "time_series",
                   "hide": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "{{`{{instance}}`}}",
                   "metric": "",
                   "refId": "A",
                   "step": 240,
                   "target": ""
                },
                {
                   "expr": "1",
                   "interval": "",
                   "legendFormat": "Target hit ratio for cache",
                   "refId": "B"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Hit ratio per instance",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "percentunit",
                   "label": "",
                   "logBase": 1,
                   "max": null,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "collapsed": false,
             "datasource": null,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 8
             },
             "id": 22,
             "panels": [ ],
             "title": "Memory",
             "type": "row"
          },
          {
             "aliasColors": {
                "max": "#BF1B00"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Total taken across instances",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 0,
                "y": 9
             },
             "hiddenSeries": false,
             "id": 7,
             "isNew": true,
             "legend": {
                "avg": false,
                "current": false,
                "hideEmpty": false,
                "hideZero": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "null as zero",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "/max/",
                   "color": "#E02F44",
                   "dashes": true,
                   "fill": 0,
                   "linewidth": 1
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum(redis_memory_used_bytes{instance=~\"$instance\"})",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "Used Memory",
                   "metric": "",
                   "refId": "A",
                   "step": 240,
                   "target": ""
                },
                {
                   "expr": "sum(redis_memory_max_bytes{instance=~\"$instance\"})",
                   "format": "time_series",
                   "hide": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "Configured max memory",
                   "refId": "B",
                   "step": 240
                },
                {
                   "expr": "sum(redis_memory_used_rss_bytes{instance=~\"$instance\"})",
                   "interval": "",
                   "legendFormat": "Used RSS memory",
                   "refId": "C"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Total Memory Usage",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 0,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "bytes",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": 0,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": {
                "Recommend restart redis": "red"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 8,
                "y": 9
             },
             "hiddenSeries": false,
             "id": 10,
             "isNew": true,
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "/restart/",
                   "color": "#E02F44",
                   "dashes": true,
                   "fill": 0,
                   "linewidth": 1
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "redis_memory_fragmentation_ratio{instance=~\"$instance\"}",
                   "hide": false,
                   "interval": "",
                   "legendFormat": "{{`{{instance}}`}}",
                   "refId": "C"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Memory fragmentation ratio per instance",
             "tooltip": {
                "msResolution": true,
                "shared": true,
                "sort": 0,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": {
                "Evictions": "red",
                "evicts": "#890F02",
                "memcached_items_evicted_total{instance=\"172.17.0.1:9150\",job=\"prometheus\"}": "#890F02",
                "reclaims": "#3F6833",
                "{container=\"redis-exporter\", instance=\"redis-86cb5d76d7-fcdln:redis-exporter:redis-metrics\", job=\"default/redis\", namespace=\"default\", pod=\"redis-86cb5d76d7-fcdln\"}": "red",
                "{instance=\"redis-86cb5d76d7-fcdln:redis-exporter:redis-metrics\"}": "red"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 16,
                "y": 9
             },
             "hiddenSeries": false,
             "id": 8,
             "isNew": true,
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [
                {
                   "alias": "reclaims",
                   "yaxis": 2
                }
             ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "irate(redis_evicted_keys_total{instance=~\"$instance\"}[$__rate_interval])",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "{{`{{instance}}`}}",
                   "refId": "B",
                   "step": 240
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Key evictions per second per instance",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 0,
                "value_type": "cumulative"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "collapsed": false,
             "datasource": null,
             "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 16
             },
             "id": 26,
             "panels": [ ],
             "title": "Basic activity",
             "type": "row"
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Sum taken across instances",
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 0,
                "y": 17
             },
             "hiddenSeries": false,
             "id": 16,
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum(redis_connected_clients{instance=~\"$instance\"})",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "Connected",
                   "refId": "A"
                },
                {
                   "expr": "sum(redis_blocked_clients{instance=~\"$instance\"})",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "Blocked",
                   "refId": "B"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Connected/Blocked Clients",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": {
                "db1": "yellow"
             },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Sum taken across instances",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 8,
                "y": 17
             },
             "hiddenSeries": false,
             "id": 5,
             "isNew": true,
             "legend": {
                "alignAsTable": false,
                "avg": false,
                "current": false,
                "hideEmpty": false,
                "hideZero": true,
                "max": false,
                "min": false,
                "rightSide": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": true,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum (redis_db_keys{instance=~\"$instance\"}) by (db)",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{db}}`}}",
                   "refId": "A",
                   "step": 240,
                   "target": ""
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Total Items per DB",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 1,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "none",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Sum taken across instances",
             "editable": true,
             "error": false,
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "grid": { },
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 16,
                "y": 17
             },
             "hiddenSeries": false,
             "id": 13,
             "isNew": true,
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "connected",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 5,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": true,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum (redis_db_keys{instance=~\"$instance\"}) - sum (redis_db_keys_expiring{instance=~\"$instance\"})",
                   "format": "time_series",
                   "hide": false,
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "Not expiring",
                   "refId": "A",
                   "step": 240,
                   "target": ""
                },
                {
                   "expr": "sum(redis_db_keys_expiring{instance=~\"$instance\"})",
                   "format": "time_series",
                   "interval": "",
                   "intervalFactor": 2,
                   "legendFormat": "Expiring",
                   "metric": "",
                   "refId": "B",
                   "step": 240
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Expiring vs Not-Expiring Keys",
             "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "This metric will only be non-zero if the instance is a master",
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 0,
                "y": 24
             },
             "hiddenSeries": false,
             "id": 28,
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "nullPointMode": "null",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum(redis_connected_slaves{instance=~\"$instance\"}) by (instance)",
                   "interval": "",
                   "legendFormat": "{{`{{instance}}`}}",
                   "refId": "A"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Connected slaves by instance",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "This metric is only exported if the instance is a slave.",
             "fieldConfig": {
                "defaults": {
                   "custom": { }
                },
                "overrides": [ ]
             },
             "fill": 1,
             "fillGradient": 0,
             "gridPos": {
                "h": 7,
                "w": 8,
                "x": 8,
                "y": 24
             },
             "hiddenSeries": false,
             "id": 30,
             "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "nullPointMode": "null",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "redis_master_last_io_seconds_ago{instance=~\"$instance\"}",
                   "interval": "",
                   "legendFormat": "{{`{{instance}}`}}",
                   "refId": "A"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Time since last master connection",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "s",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          }
       ],
       "refresh": false,
       "schemaVersion": 25,
       "style": "dark",
       "tags": [
          "prometheus",
          "redis"
       ],
       "templating": {
          "list": [
             {
                "allValue": null,
                "current": {
                   "selected": true,
                   "tags": [ ],
                   "text": "redisdb-7d6b98cd98-kjt5x + redisdb-7d6b98cd98-pbkg6",
                   "value": [
                      "redisdb-7d6b98cd98-kjt5x",
                      "redisdb-7d6b98cd98-pbkg6"
                   ]
                },
                "datasource": "${datasource}",
                "definition": "label_values(redis_up, instance)",
                "hide": 0,
                "includeAll": false,
                "label": null,
                "multi": true,
                "name": "instance",
                "options": [ ],
                "query": "label_values(redis_up, instance)",
                "refresh": 2,
                "regex": "",
                "skipUrlSync": false,
                "sort": 1,
                "tagValuesQuery": "",
                "tags": [ ],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             },
             {
                "current": {
                   "selected": false,
                   "text": "prometheus",
                   "value": "prometheus"
                },
                "hide": 0,
                "includeAll": false,
                "label": "Data Source",
                "multi": false,
                "name": "datasource",
                "options": [ ],
                "query": "prometheus",
                "queryValue": "",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "type": "datasource"
             }
          ]
       },
       "time": {
          "from": "now-12h",
          "to": "now"
       },
       "timepicker": {
          "refresh_intervals": [
             "10s",
             "30s",
             "1m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ],
          "time_options": [
             "5m",
             "15m",
             "1h",
             "6h",
             "12h",
             "24h",
             "2d",
             "7d",
             "30d"
          ]
       },
       "timezone": "browser",
       "title": "Redis Dashboard for Prometheus Redis Exporter 1.x",
       "uid": "bRd48yKMdd",
       "version": 5
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: redis-overview-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  replicaset_summary.json: "{\n   \"annotations\": {\n      \"list\": [\n         {\n            \"builtIn\": 1,\n            \"datasource\": {\n               \"type\": \"datasource\",\n               \"uid\": \"grafana\"\n            },\n            \"enable\": true,\n            \"hide\": false,\n            \"iconColor\": \"#e0752d\",\n            \"limit\": 100,\n            \"matchAny\": true,\n            \"name\": \"PMM Annotations\",\n            \"showIn\": 0,\n            \"tags\": [\n               \"pmm_annotation\",\n               \"$service_name\"\n            ],\n            \"target\": {\n               \"limit\": 100,\n               \"matchAny\": true,\n               \"tags\": [\n                  \"pmm_annotation\",\n                  \"$service_name\"\n               ],\n               \"type\": \"tags\"\n            },\n            \"type\": \"tags\"\n         },\n         {\n            \"builtIn\": 1,\n            \"datasource\": {\n               \"type\": \"datasource\",\n               \"uid\": \"grafana\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"#6ed0e0\",\n            \"limit\": 100,\n            \"name\": \"Annotations & Alerts\",\n            \"showIn\": 0,\n            \"tags\": [ ],\n            \"target\": {\n               \"limit\": 100,\n               \"matchAny\": false,\n               \"tags\": [ ],\n               \"type\": \"dashboard\"\n            },\n            \"type\": \"dashboard\"\n         }\n      ]\n   },\n   \"editable\": false,\n   \"fiscalYearStartMonth\": 0,\n   \"graphTooltip\": 1,\n   \"id\": null,\n   \"links\": [\n      {\n         \"icon\": \"doc\",\n         \"includeVars\": true,\n         \"keepTime\": true,\n         \"tags\": [\n            \"Home\"\n         ],\n         \"targetBlank\": false,\n         \"title\": \"Home\",\n         \"type\": \"link\",\n         \"url\": \"/graph/d/pmm-home/home-dashboard\"\n      },\n      {\n         \"icon\": \"dashboard\",\n         \"includeVars\": true,\n         \"keepTime\": true,\n         \"tags\": [\n            \"Query Analytics\"\n         ],\n         \"targetBlank\": false,\n         \"title\": \"Query Analytics\",\n         \"type\": \"link\",\n         \"url\": \"/graph/d/pmm-qan/pmm-query-analytics\"\n      },\n      {\n         \"icon\": \"bolt\",\n         \"includeVars\": true,\n         \"keepTime\": true,\n         \"tags\": [\n            \"Compare\"\n         ],\n         \"targetBlank\": false,\n         \"title\": \"Compare\",\n         \"type\": \"link\",\n         \"url\": \"/graph/d/mongodb-instance-compare/mongodb-instances-compare\"\n      },\n      {\n         \"asDropdown\": true,\n         \"includeVars\": true,\n         \"keepTime\": true,\n         \"tags\": [\n            \"MongoDB\"\n         ],\n         \"targetBlank\": false,\n         \"title\": \"MongoDB\",\n         \"type\": \"dashboards\"\n      },\n      {\n         \"asDropdown\": true,\n         \"includeVars\": true,\n         \"keepTime\": true,\n         \"tags\": [\n            \"MongoDB_HA\"\n         ],\n         \"targetBlank\": false,\n         \"title\": \"HA\",\n         \"type\": \"dashboards\"\n      },\n      {\n         \"asDropdown\": true,\n         \"includeVars\": false,\n         \"keepTime\": true,\n         \"tags\": [\n            \"Services\"\n         ],\n         \"targetBlank\": false,\n         \"title\": \"Services\",\n         \"type\": \"dashboards\"\n      },\n      {\n         \"asDropdown\": true,\n         \"includeVars\": false,\n         \"keepTime\": true,\n         \"tags\": [\n            \"PMM\"\n         ],\n         \"targetBlank\": false,\n         \"title\": \"PMM\",\n         \"type\": \"dashboards\"\n      }\n   ],\n   \"liveNow\": false,\n   \"panels\": [\n      {\n         \"collapsed\": false,\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 0\n         },\n         \"id\": 1030,\n         \"panels\": [ ],\n         \"repeat\": \"service_name\",\n         \"repeatDirection\": \"h\",\n         \"title\": \"Overview - $service_name\",\n         \"type\": \"row\"\n      },\n      {\n         \"description\": \"Read more about [Replica Set Member States](https://per.co.na/mongo-repstate).\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"fixedColor\": \"blue\",\n                  \"mode\": \"fixed\"\n               },\n               \"mappings\": [\n                  {\n                     \"options\": {\n                        \"0\": {\n                           \"index\": 11,\n                           \"text\": \"STARTUP\"\n                        },\n                        \"1\": {\n                           \"color\": \"rgb(107, 152, 102)\",\n                           \"index\": 4,\n                           \"text\": \"PRIMARY\"\n                        },\n                        \"10\": {\n                           \"index\": 5,\n                           \"text\": \"REMOVED\"\n                        },\n                        \"2\": {\n                           \"color\": \"rgb(193, 159, 20)\",\n                           \"index\": 3,\n                           \"text\": \"SECONDARY\"\n                        },\n                        \"3\": {\n                           \"index\": 10,\n                           \"text\": \"RECOVERING\"\n                        },\n                        \"5\": {\n                           \"index\": 9,\n                           \"text\": \"STARTUP2\"\n                        },\n                        \"6\": {\n                           \"index\": 8,\n                           \"text\": \"UNKNOWN\"\n                        },\n                        \"7\": {\n                           \"color\": \"#8B8000\",\n                           \"index\": 1,\n                           \"text\": \"ARBITER\"\n                        },\n                        \"8\": {\n                           \"index\": 7,\n                           \"text\": \"DOWN\"\n                        },\n                        \"9\": {\n                           \"index\": 6,\n                           \"text\": \"ROLLBACK\"\n                        },\n                        \"null\": {\n                           \"color\": \"#FF7383\",\n                           \"index\": 2,\n                           \"text\": \"Exporter is not connected\"\n                        }\n                     },\n                     \"type\": \"value\"\n                  }\n               ],\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     }\n                  ]\n               }\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 4,\n            \"w\": 2,\n            \"x\": 0,\n            \"y\": 1\n         },\n         \"id\": 1586,\n         \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"center\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"\",\n               \"values\": false\n            },\n            \"textMode\": \"value\"\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"max by (instance) (mongodb_mongod_replset_my_state{environment=~\\\"$environment\\\", cluster=~\\\"$cluster\\\", set=~\\\"$rs_nm\\\", instance=~\\\"$instance\\\"})\",\n               \"interval\": \"$interval\",\n               \"legendFormat\": \"{{`{{set}}`}}\",\n               \"range\": true,\n               \"refId\": \"A\"\n            }\n         ],\n         \"title\": \"State\",\n         \"type\": \"stat\"\n      },\n      {\n         \"description\": \"The CPU time is measured in clock ticks or seconds. It is useful to measure CPU time as a percentage of the CPU's capacity, which is called the CPU usage.\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"mode\": \"thresholds\"\n               },\n               \"links\": [ ],\n               \"mappings\": [ ],\n               \"max\": 100,\n               \"min\": 0,\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     },\n                     {\n                        \"color\": \"red\",\n                        \"value\": 80\n                     }\n                  ]\n               },\n               \"unit\": \"percent\"\n            },\n            \"overrides\": [\n               {\n                  \"matcher\": {\n                     \"id\": \"byName\",\n                     \"options\": \"Max Core Utilization\"\n                  },\n                  \"properties\": [\n                     {\n                        \"id\": \"color\",\n                        \"value\": {\n                           \"fixedColor\": \"#bf1b00\",\n                           \"mode\": \"fixed\"\n                        }\n                     }\n                  ]\n               },\n               {\n                  \"matcher\": {\n                     \"id\": \"byName\",\n                     \"options\": \"idle\"\n                  },\n                  \"properties\": [\n                     {\n                        \"id\": \"color\",\n                        \"value\": {\n                           \"fixedColor\": \"#806EB7\",\n                           \"mode\": \"fixed\"\n                        }\n                     }\n                  ]\n               },\n               {\n                  \"matcher\": {\n                     \"id\": \"byName\",\n                     \"options\": \"iowait\"\n                  },\n                  \"properties\": [\n                     {\n                        \"id\": \"color\",\n                        \"value\": {\n                           \"fixedColor\": \"#E24D42\",\n                           \"mode\": \"fixed\"\n                        }\n                     }\n                  ]\n               },\n               {\n                  \"matcher\": {\n                     \"id\": \"byName\",\n                     \"options\": \"nice\"\n                  },\n                  \"properties\": [\n                     {\n                        \"id\": \"color\",\n                        \"value\": {\n                           \"fixedColor\": \"#1F78C1\",\n                           \"mode\": \"fixed\"\n                        }\n                     }\n                  ]\n               },\n               {\n                  \"matcher\": {\n                     \"id\": \"byName\",\n                     \"options\": \"softirq\"\n                  },\n                  \"properties\": [\n                     {\n                        \"id\": \"color\",\n                        \"value\": {\n                           \"fixedColor\": \"#FFFFFF\",\n                           \"mode\": \"fixed\"\n                        }\n                     }\n                  ]\n               },\n               {\n                  \"matcher\": {\n                     \"id\": \"byName\",\n                     \"options\": \"steal\"\n                  },\n                  \"properties\": [\n                     {\n                        \"id\": \"color\",\n                        \"value\": {\n                           \"fixedColor\": \"#8F3BB8\",\n                           \"mode\": \"fixed\"\n                        }\n                     }\n                  ]\n               },\n               {\n                  \"matcher\": {\n                     \"id\": \"byName\",\n                     \"options\": \"system\"\n                  },\n                  \"properties\": [\n                     {\n                        \"id\": \"color\",\n                        \"value\": {\n                           \"fixedColor\": \"#EAB839\",\n                           \"mode\": \"fixed\"\n                        }\n                     }\n                  ]\n               },\n               {\n                  \"matcher\": {\n                     \"id\": \"byName\",\n                     \"options\": \"user\"\n                  },\n                  \"properties\": [\n                     {\n                        \"id\": \"color\",\n                        \"value\": {\n                           \"fixedColor\": \"#508642\",\n                           \"mode\": \"fixed\"\n                        }\n                     }\n                  ]\n               },\n               {\n                  \"matcher\": {\n                     \"id\": \"byName\",\n                     \"options\": \"steal\"\n                  },\n                  \"properties\": [\n                     {\n                        \"id\": \"color\",\n                        \"value\": {\n                           \"fixedColor\": \"#FFEE52\",\n                           \"mode\": \"fixed\"\n                        }\n                     }\n                  ]\n               }\n            ]\n         },\n         \"gridPos\": {\n            \"h\": 4,\n            \"w\": 2.5,\n            \"x\": 2,\n            \"y\": 1\n         },\n         \"id\": 1071,\n         \"links\": [ ],\n         \"options\": {\n            \"orientation\": \"auto\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"\",\n               \"values\": false\n            },\n            \"showThresholdLabels\": false,\n            \"showThresholdMarkers\": true\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"mongodb_mongod_replset_my_state{instance=~\\\"$instance\\\"}[1m]*0 + on(node_id) group_left(node_id) (100 - (avg by(node_id) (rate(node_cpu_seconds_total{mode=\\\"idle\\\"}[1m])) * 100))\",\n               \"format\": \"time_series\",\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"{{`{{mode}}`}}\",\n               \"range\": true,\n               \"refId\": \"B\"\n            }\n         ],\n         \"title\": \"CPU Usage\",\n         \"type\": \"gauge\"\n      },\n      {\n         \"description\": \"Estimated how much memory can be used without swapping\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"mode\": \"thresholds\"\n               },\n               \"links\": [ ],\n               \"mappings\": [ ],\n               \"max\": 100,\n               \"min\": 0,\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     },\n                     {\n                        \"color\": \"red\",\n                        \"value\": 80\n                     }\n                  ]\n               },\n               \"unit\": \"percentunit\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 4,\n            \"w\": 2.5,\n            \"x\": 4.5,\n            \"y\": 1\n         },\n         \"id\": 1060,\n         \"links\": [ ],\n         \"options\": {\n            \"orientation\": \"auto\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"\",\n               \"values\": false\n            },\n            \"showThresholdLabels\": false,\n            \"showThresholdMarkers\": true\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"exemplar\": false,\n               \"expr\": \"mongodb_mongod_replset_my_state{instance=~\\\"$instance\\\"}[1m]*0 + on(node_id) group_left(node_id) (1 - avg by(node_id)(node_memory_MemAvailable_bytes)/ avg by (node_id) (node_memory_MemTotal_bytes))\",\n               \"hide\": false,\n               \"instant\": false,\n               \"legendFormat\": \"__auto\",\n               \"range\": true,\n               \"refId\": \"A\"\n            }\n         ],\n         \"title\": \"Memory Used\",\n         \"type\": \"gauge\"\n      },\n      {\n         \"description\": \"Shows disk Utilization as a percentage of the time when there was at least one IO request in flight. It is designed to match utilization available in iostat tool. The graph augments the IO latency and Disk Load Graphs, allowing to determine if the disk load was evenly distributed in time or consuming the IO momentarily. Higher utilization increases the likeliness of IO queuing. Always consider this metric along with response time and IO queue depth.\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"mode\": \"thresholds\"\n               },\n               \"decimals\": 1,\n               \"links\": [ ],\n               \"mappings\": [ ],\n               \"max\": 100,\n               \"min\": 0,\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     },\n                     {\n                        \"color\": \"red\",\n                        \"value\": 80\n                     }\n                  ]\n               },\n               \"unit\": \"percentunit\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 4,\n            \"w\": 2.5,\n            \"x\": 7,\n            \"y\": 1\n         },\n         \"id\": 1073,\n         \"links\": [ ],\n         \"options\": {\n            \"orientation\": \"auto\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"\",\n               \"values\": false\n            },\n            \"showThresholdLabels\": false,\n            \"showThresholdMarkers\": true\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"mongodb_mongod_replset_my_state{instance=~\\\"$instance\\\"}[1m]*0 + on(node_id) group_left(node_id)  (sum by (node_id) (rate(node_disk_io_time_seconds_total[$interval])) or (sum by (node_id) (irate(node_disk_io_time_seconds_total[5m]))))\",\n               \"interval\": \"$interval\",\n               \"legendFormat\": \"{{`{{node_name}}`}}\",\n               \"range\": true,\n               \"refId\": \"B\"\n            }\n         ],\n         \"title\": \"Disk IO Utilization\",\n         \"type\": \"gauge\"\n      },\n      {\n         \"description\": \"Shows information about the disk space usage of the specified mountpoint.\\n\\n**Used** is the amount of space used.\\n\\n**Free** is the amount of space not in use.\\n\\n**Used+Free** is the total disk space allocated to the mountpoint.\\n\\nHaving *Free* close to 0 B is not good because of the risk to have a disk full error that can block one of the services or even cause a crash of the entire system.\\n\\nIn case Free is close to 0 B consider to remove unused files or to expand the space allocated to the mountpoint.\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"mode\": \"thresholds\"\n               },\n               \"links\": [ ],\n               \"mappings\": [ ],\n               \"max\": 100,\n               \"min\": 0,\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     },\n                     {\n                        \"color\": \"red\",\n                        \"value\": 80\n                     }\n                  ]\n               },\n               \"unit\": \"percentunit\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 4,\n            \"w\": 2.5,\n            \"x\": 9.5,\n            \"y\": 1\n         },\n         \"id\": 1062,\n         \"options\": {\n            \"orientation\": \"auto\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"\",\n               \"values\": false\n            },\n            \"showThresholdLabels\": false,\n            \"showThresholdMarkers\": true\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"repeatDirection\": \"h\",\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg(mongodb_dbstats_fsUsedSize{instance=~\\\"$instance\\\"})/ avg (mongodb_dbstats_fsTotalSize{instance=~\\\"$instance\\\"})\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"legendFormat\": \"Total Size\",\n               \"range\": true,\n               \"refId\": \"A\"\n            },\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg(mongodb_dbstats_fsUsedSize{instance=~\\\"$instance\\\"})\",\n               \"hide\": true,\n               \"interval\": \"$interval\",\n               \"legendFormat\": \"Usage\",\n               \"range\": true,\n               \"refId\": \"C\"\n            }\n         ],\n         \"title\": \"Disk Space Utilization\",\n         \"type\": \"gauge\"\n      },\n      {\n         \"description\": \"Shows amount of physical IOs (reads and writes) different devices are serving. Spikes in number of IOs served often corresponds to performance problems due to IO subsystem overload.\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"fixedColor\": \"blue\",\n                  \"mode\": \"fixed\"\n               },\n               \"mappings\": [ ],\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     },\n                     {\n                        \"color\": \"red\",\n                        \"value\": 80\n                     }\n                  ]\n               }\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 4,\n            \"w\": 4,\n            \"x\": 12,\n            \"y\": 1\n         },\n         \"id\": 1076,\n         \"links\": [ ],\n         \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"auto\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"\",\n               \"values\": false\n            },\n            \"textMode\": \"auto\"\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"targets\": [\n            {\n               \"calculatedInterval\": \"2m\",\n               \"datasourceErrors\": { },\n               \"editorMode\": \"code\",\n               \"errors\": { },\n               \"expr\": \"mongodb_mongod_replset_my_state{instance=~\\\"$instance\\\"}[1m]*0 + on(node_id) group_left(node_id) (avg by (node_id) (sum by (node_id)(\\n(rate(node_disk_reads_completed_total[$interval]) or \\nirate(node_disk_reads_completed_total[5s]))\\n)))\",\n               \"format\": \"time_series\",\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"Read\",\n               \"metric\": \"\",\n               \"range\": true,\n               \"refId\": \"A\",\n               \"step\": 300,\n               \"target\": \"\"\n            },\n            {\n               \"calculatedInterval\": \"2m\",\n               \"datasourceErrors\": { },\n               \"editorMode\": \"code\",\n               \"errors\": { },\n               \"expr\": \"mongodb_mongod_replset_my_state{instance=~\\\"$instance\\\"}[1m]*0 + on(node_id) group_left(node_id) (avg by (node_id) (sum by(node_id)(\\n(rate(node_disk_writes_completed_total[$interval]) or \\nirate(node_disk_writes_completed_total[5s])) \\n)))\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"Write\",\n               \"metric\": \"\",\n               \"range\": true,\n               \"refId\": \"B\",\n               \"step\": 300,\n               \"target\": \"\"\n            }\n         ],\n         \"title\": \"Disk IOPS\",\n         \"type\": \"stat\"\n      },\n      {\n         \"description\": \"Network traffic refers to the amount of data moving across a network at a given point in time.\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"fixedColor\": \"blue\",\n                  \"mode\": \"fixed\"\n               },\n               \"decimals\": 0,\n               \"links\": [\n                  {\n                     \"targetBlank\": true,\n                     \"title\": \"Network Details - ${__field.labels.node_name}\",\n                     \"url\": \"/graph/d/node-network/network-details?var-node_name=${__field.labels.node_name}&$__url_time_range\"\n                  }\n               ],\n               \"mappings\": [ ],\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     }\n                  ]\n               },\n               \"unit\": \"Bps\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 4,\n            \"w\": 4,\n            \"x\": 16,\n            \"y\": 1\n         },\n         \"id\": 1052,\n         \"links\": [ ],\n         \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"auto\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"\",\n               \"values\": false\n            },\n            \"textMode\": \"auto\"\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"targets\": [\n            {\n               \"calculatedInterval\": \"2s\",\n               \"datasourceErrors\": { },\n               \"editorMode\": \"code\",\n               \"errors\": { },\n               \"expr\": \"mongodb_mongod_replset_my_state{instance=~\\\"$instance\\\"}[1m]*0 + on(node_id) group_left(node_id) (sum by (node_id) (rate(node_network_receive_bytes_total{device!=\\\"lo\\\"}[$interval])) or sum by (node_id) (irate(node_network_receive_bytes_total{device!=\\\"lo\\\"}[5m])) or sum by (node_id) (max_over_time(rdsosmetrics_network_rx[$interval])) or sum by (node_id) (max_over_time(rdsosmetrics_network_rx[5m])))\",\n               \"format\": \"time_series\",\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"Inbound\",\n               \"metric\": \"\",\n               \"range\": true,\n               \"refId\": \"B\",\n               \"step\": 300,\n               \"target\": \"\"\n            },\n            {\n               \"calculatedInterval\": \"2s\",\n               \"datasourceErrors\": { },\n               \"editorMode\": \"code\",\n               \"errors\": { },\n               \"expr\": \"mongodb_mongod_replset_my_state{instance=~\\\"$instance\\\"}[1m]*0 + on(node_id) group_left(node_id) (sum by (node_id) (rate(node_network_transmit_bytes_total{device!=\\\"lo\\\"}[$interval])) or sum by (node_id) (irate(node_network_transmit_bytes_total{device!=\\\"lo\\\"}[5m])) or\\nsum by (node_id) (max_over_time(rdsosmetrics_network_tx[$interval])) or sum by (node_id) (max_over_time(rdsosmetrics_network_tx[5m])))\",\n               \"format\": \"time_series\",\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"Outbound\",\n               \"metric\": \"\",\n               \"range\": true,\n               \"refId\": \"A\",\n               \"step\": 300,\n               \"target\": \"\"\n            }\n         ],\n         \"title\": \"Network Traffic\",\n         \"type\": \"stat\"\n      },\n      {\n         \"description\": \"The parameter shows how long a system has been up and running without a shut down or restart.\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"mode\": \"thresholds\"\n               },\n               \"decimals\": 1,\n               \"mappings\": [ ],\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"rgba(245, 54, 54, 0.9)\",\n                        \"value\": null\n                     },\n                     {\n                        \"color\": \"rgba(237, 129, 40, 0.89)\",\n                        \"value\": 300\n                     },\n                     {\n                        \"color\": \"rgba(50, 172, 45, 0.97)\",\n                        \"value\": 3600\n                     }\n                  ]\n               },\n               \"unit\": \"s\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 4,\n            \"w\": 2,\n            \"x\": 20,\n            \"y\": 1\n         },\n         \"id\": 321,\n         \"interval\": \"$interval\",\n         \"links\": [ ],\n         \"maxDataPoints\": 100,\n         \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"\",\n               \"values\": false\n            },\n            \"text\": { },\n            \"textMode\": \"auto\"\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"targets\": [\n            {\n               \"calculatedInterval\": \"10m\",\n               \"datasourceErrors\": { },\n               \"editorMode\": \"code\",\n               \"errors\": { },\n               \"exemplar\": true,\n               \"expr\": \"mongodb_mongod_replset_my_state{instance=~\\\"$instance\\\"}[1m]*0 + on(node_id) group_left(node_id) (avg by (node_id)  (time() - container_start_time_seconds{id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}) or avg by (node_id) ((node_time_seconds - node_boot_time_seconds) or (time() - node_boot_time_seconds)))\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"5m\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"\",\n               \"metric\": \"\",\n               \"range\": true,\n               \"refId\": \"A\",\n               \"step\": 300\n            }\n         ],\n         \"title\": \"Uptime\",\n         \"type\": \"stat\"\n      },\n      {\n         \"description\": \"\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"mode\": \"thresholds\"\n               },\n               \"mappings\": [ ],\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     }\n                  ]\n               },\n               \"unit\": \"string\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 4,\n            \"w\": 2,\n            \"x\": 22,\n            \"y\": 1\n         },\n         \"id\": 1039,\n         \"interval\": \"$interval\",\n         \"links\": [ ],\n         \"maxDataPoints\": 100,\n         \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"/^mongodb$/\",\n               \"values\": false\n            },\n            \"text\": {\n               \"valueSize\": 20\n            },\n            \"textMode\": \"auto\"\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"targets\": [\n            {\n               \"calculatedInterval\": \"10m\",\n               \"datasourceErrors\": { },\n               \"editorMode\": \"code\",\n               \"errors\": { },\n               \"exemplar\": false,\n               \"expr\": \"avg by (instance,mongodb) (mongodb_version_info{instance=~\\\"$instance\\\"})\",\n               \"format\": \"table\",\n               \"hide\": false,\n               \"instant\": true,\n               \"interval\": \"5m\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"{{`{{mongodb}}`}}\",\n               \"metric\": \"\",\n               \"range\": false,\n               \"refId\": \"A\",\n               \"step\": 300\n            }\n         ],\n         \"title\": \"Version\",\n         \"type\": \"stat\"\n      },\n      {\n         \"collapsed\": false,\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 15\n         },\n         \"id\": 1150,\n         \"panels\": [ ],\n         \"title\": \"States - $rs_nm\",\n         \"type\": \"row\"\n      },\n      {\n         \"description\": \"ReplSet statuses during the selected time range.\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"fixedColor\": \"blue\",\n                  \"mode\": \"palette-classic\"\n               },\n               \"custom\": {\n                  \"fillOpacity\": 100,\n                  \"lineWidth\": 0,\n                  \"spanNulls\": false\n               },\n               \"mappings\": [\n                  {\n                     \"options\": {\n                        \"0\": {\n                           \"index\": 11,\n                           \"text\": \"STARTUP\"\n                        },\n                        \"1\": {\n                           \"color\": \"rgb(107, 152, 102)\",\n                           \"index\": 4,\n                           \"text\": \"PRIMARY\"\n                        },\n                        \"10\": {\n                           \"index\": 5,\n                           \"text\": \"REMOVED\"\n                        },\n                        \"2\": {\n                           \"color\": \"rgb(193, 159, 20)\",\n                           \"index\": 3,\n                           \"text\": \"SECONDARY\"\n                        },\n                        \"3\": {\n                           \"index\": 10,\n                           \"text\": \"RECOVERING\"\n                        },\n                        \"5\": {\n                           \"index\": 9,\n                           \"text\": \"STARTUP2\"\n                        },\n                        \"6\": {\n                           \"index\": 8,\n                           \"text\": \"UNKNOWN\"\n                        },\n                        \"7\": {\n                           \"color\": \"#8B8000\",\n                           \"index\": 1,\n                           \"text\": \"ARBITER\"\n                        },\n                        \"8\": {\n                           \"index\": 7,\n                           \"text\": \"DOWN\"\n                        },\n                        \"9\": {\n                           \"index\": 6,\n                           \"text\": \"ROLLBACK\"\n                        },\n                        \"null\": {\n                           \"color\": \"#FF7383\",\n                           \"index\": 2,\n                           \"text\": \"Exporter is not connected\"\n                        }\n                     },\n                     \"type\": \"value\"\n                  },\n                  {\n                     \"options\": {\n                        \"from\": 0,\n                        \"result\": {\n                           \"index\": 0,\n                           \"text\": \"N/A\"\n                        },\n                        \"to\": 1\n                     },\n                     \"type\": \"range\"\n                  }\n               ],\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     },\n                     {\n                        \"color\": \"red\",\n                        \"value\": 6\n                     }\n                  ]\n               },\n               \"unit\": \"short\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 6,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 16\n         },\n         \"id\": 1587,\n         \"options\": {\n            \"alignValue\": \"right\",\n            \"legend\": {\n               \"displayMode\": \"list\",\n               \"placement\": \"bottom\",\n               \"showLegend\": true\n            },\n            \"mergeValues\": true,\n            \"rowHeight\": 0.90000000000000002,\n            \"showValue\": \"auto\",\n            \"tooltip\": {\n               \"mode\": \"single\",\n               \"sort\": \"none\"\n            }\n         },\n         \"pluginVersion\": \"6.5.1\",\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"max by (instance) (mongodb_mongod_replset_my_state{environment=~\\\"$environment\\\", cluster=~\\\"$cluster\\\", set=~\\\"$rs_nm\\\", instance=~\\\"$instance\\\"})\",\n               \"interval\": \"$interval\",\n               \"legendFormat\": \"{{`{{set}}`}}\",\n               \"range\": true,\n               \"refId\": \"A\"\n            }\n         ],\n         \"title\": \"Node States\",\n         \"transformations\": [ ],\n         \"type\": \"state-timeline\"\n      },\n      {\n         \"collapsed\": false,\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 22\n         },\n         \"id\": 1170,\n         \"panels\": [ ],\n         \"title\": \"Details\",\n         \"type\": \"row\"\n      },\n      {\n         \"aliasColors\": { },\n         \"bars\": false,\n         \"dashLength\": 10,\n         \"dashes\": false,\n         \"decimals\": 2,\n         \"description\": \"Ops or Replicated Ops/sec classified by legacy wire protocol type (query, insert, update, delete, getmore). And (from the internal TTL threads) the docs deletes/sec by TTL indexes.\",\n         \"editable\": true,\n         \"error\": false,\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"links\": [ ]\n            },\n            \"overrides\": [ ]\n         },\n         \"fill\": 2,\n         \"fillGradient\": 0,\n         \"grid\": {\n            \"leftLogBase\": 1,\n            \"leftMin\": 0,\n            \"rightLogBase\": 1\n         },\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 23\n         },\n         \"hiddenSeries\": false,\n         \"id\": 15,\n         \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": false,\n            \"hideZero\": false,\n            \"max\": true,\n            \"min\": true,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"avg\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n         },\n         \"lines\": true,\n         \"linewidth\": 2,\n         \"links\": [ ],\n         \"nullPointMode\": \"null\",\n         \"options\": {\n            \"alertThreshold\": true\n         },\n         \"paceLength\": 10,\n         \"percentage\": false,\n         \"pluginVersion\": \"9.2.20\",\n         \"pointradius\": 5,\n         \"points\": false,\n         \"renderer\": \"flot\",\n         \"seriesOverrides\": [\n            {\n               \"alias\": \"/repl.*/\",\n               \"yaxis\": 2\n            }\n         ],\n         \"spaceLength\": 10,\n         \"stack\": false,\n         \"steppedLine\": false,\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg by (legacy_op_type) (rate(mongodb_ss_opcountersRepl{instance=~\\\"$instance\\\", legacy_op_type!~\\\"(command|query|getmore)\\\"}[$interval]))\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"repl_{{`{{legacy_op_type}}`}}\",\n               \"range\": true,\n               \"refId\": \"A\",\n               \"step\": 300\n            },\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg by () (rate(mongodb_ss_metrics_ttl_deletedDocuments{instance=~\\\"$instance\\\"}[$interval]))\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"ttl_delete \",\n               \"range\": true,\n               \"refId\": \"B\",\n               \"step\": 300\n            },\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg by (legacy_op_type) (rate(mongodb_ss_opcounters{instance=~\\\"$instance\\\", legacy_op_type!=\\\"command\\\"}[$interval]))\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"{{`{{legacy_op_type}}`}} \",\n               \"range\": true,\n               \"refId\": \"C\",\n               \"step\": 300\n            }\n         ],\n         \"thresholds\": [ ],\n         \"timeRegions\": [ ],\n         \"title\": \"Command Operations\",\n         \"tooltip\": {\n            \"msResolution\": false,\n            \"shared\": true,\n            \"sort\": 2,\n            \"value_type\": \"individual\"\n         },\n         \"type\": \"graph\",\n         \"x-axis\": true,\n         \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": [ ]\n         },\n         \"y-axis\": true,\n         \"y_formats\": [\n            \"short\",\n            \"short\"\n         ],\n         \"yaxes\": [\n            {\n               \"decimals\": 2,\n               \"format\": \"ops\",\n               \"label\": \"\",\n               \"logBase\": 1,\n               \"min\": 0,\n               \"show\": true\n            },\n            {\n               \"decimals\": 2,\n               \"format\": \"ops\",\n               \"label\": \"\",\n               \"logBase\": 1,\n               \"min\": \"0\",\n               \"show\": true\n            }\n         ],\n         \"yaxis\": {\n            \"align\": false\n         }\n      },\n      {\n         \"description\": \"Show the 5 collections that are most frequently read.\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"fixedColor\": \"blue\",\n                  \"mode\": \"fixed\"\n               },\n               \"mappings\": [ ],\n               \"noValue\": \"0\",\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     }\n                  ]\n               },\n               \"unit\": \"ops\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 23\n         },\n         \"id\": 1024,\n         \"links\": [ ],\n         \"options\": {\n            \"displayMode\": \"gradient\",\n            \"minVizHeight\": 9,\n            \"minVizWidth\": 0,\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"\",\n               \"values\": false\n            },\n            \"showUnfilled\": true,\n            \"text\": { }\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"repeatDirection\": \"v\",\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"topk (5, sum by (database,collection) (rate(mongodb_top_queries_count{environment=~\\\"$environment\\\", cluster=~\\\"$cluster\\\", rs_nm=~\\\"$rs_nm\\\",instance=~\\\"$instance\\\"})[$interval] or irate(mongodb_top_queries_count{environment=~\\\"$environment\\\", cluster=~\\\"$cluster\\\", rs_nm=~\\\"$rs_nm\\\",instance=~\\\"$instance\\\"})[5s]))\",\n               \"hide\": false,\n               \"interval\": \"\",\n               \"legendFormat\": \"{{`{{database}}.{{collection}}`}}\",\n               \"range\": true,\n               \"refId\": \"B\"\n            }\n         ],\n         \"title\": \"Top Hottest Collections by Read\",\n         \"transformations\": [ ],\n         \"type\": \"bargauge\"\n      },\n      {\n         \"aliasColors\": { },\n         \"bars\": false,\n         \"dashLength\": 10,\n         \"dashes\": false,\n         \"decimals\": 2,\n         \"description\": \"Average latency of operations (classified by read, write, or (other) command)\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"links\": [ ]\n            },\n            \"overrides\": [ ]\n         },\n         \"fill\": 2,\n         \"fillGradient\": 0,\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 31\n         },\n         \"hiddenSeries\": false,\n         \"id\": 1064,\n         \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": false,\n            \"max\": true,\n            \"min\": true,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"avg\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n         },\n         \"lines\": true,\n         \"linewidth\": 2,\n         \"nullPointMode\": \"null\",\n         \"options\": {\n            \"alertThreshold\": true\n         },\n         \"percentage\": false,\n         \"pluginVersion\": \"9.2.20\",\n         \"pointradius\": 2,\n         \"points\": false,\n         \"renderer\": \"flot\",\n         \"seriesOverrides\": [ ],\n         \"spaceLength\": 10,\n         \"stack\": false,\n         \"steppedLine\": false,\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg by (op_type) (rate(mongodb_ss_opLatencies_latency{instance=~\\\"$instance\\\"}[$interval]) / (rate(mongodb_ss_opLatencies_ops{instance=~\\\"$instance\\\"}[$interval]) > 0) or irate(mongodb_ss_opLatencies_latency{instance=~\\\"$instance\\\"}[5m]) / (irate(mongodb_ss_opLatencies_ops{instance=~\\\"$instance\\\"}[5m]) > 0))\",\n               \"interval\": \"$interval\",\n               \"legendFormat\": \"{{`{{op_type}}`}}\",\n               \"range\": true,\n               \"refId\": \"A\"\n            }\n         ],\n         \"thresholds\": [ ],\n         \"timeRegions\": [ ],\n         \"title\": \"Query execution times\",\n         \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 2,\n            \"value_type\": \"individual\"\n         },\n         \"type\": \"graph\",\n         \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": [ ]\n         },\n         \"yaxes\": [\n            {\n               \"decimals\": 2,\n               \"format\": \"s\",\n               \"logBase\": 1,\n               \"min\": \"0\",\n               \"show\": true\n            },\n            {\n               \"format\": \"short\",\n               \"logBase\": 1,\n               \"show\": false\n            }\n         ],\n         \"yaxis\": {\n            \"align\": false\n         }\n      },\n      {\n         \"description\": \"Show the 5 collections that are most frequently written to.\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"fixedColor\": \"blue\",\n                  \"mode\": \"fixed\"\n               },\n               \"mappings\": [ ],\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     }\n                  ]\n               },\n               \"unit\": \"ops\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 31\n         },\n         \"id\": 1028,\n         \"options\": {\n            \"displayMode\": \"gradient\",\n            \"minVizHeight\": 10,\n            \"minVizWidth\": 0,\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n               \"calcs\": [\n                  \"lastNotNull\"\n               ],\n               \"fields\": \"\",\n               \"values\": false\n            },\n            \"showUnfilled\": true\n         },\n         \"pluginVersion\": \"9.2.20\",\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"topk (5,sum by (database,collection) ((rate(mongodb_top_insert_count{instance=~\\\"$instance\\\"}+mongodb_top_remove_count{instance=~\\\"$instance\\\"}+mongodb_top_update_count{instance=~\\\"$instance\\\"})[$interval]) or (irate(mongodb_top_insert_count{instance=~\\\"$instance\\\"}+mongodb_top_remove_count{instance=~\\\"$instance\\\"}+mongodb_top_update_count{instance=~\\\"$instance\\\"})[5s])))\",\n               \"instant\": false,\n               \"interval\": \"\",\n               \"key\": \"Q-bf62f68c-ad8e-4fb5-83bb-df50324b416b-0\",\n               \"legendFormat\": \"{{`{{database}}.{{collection}}`}}\",\n               \"range\": true,\n               \"refId\": \"A\"\n            }\n         ],\n         \"title\": \"Top Hottest Collections by Write\",\n         \"type\": \"bargauge\"\n      },\n      {\n         \"aliasColors\": { },\n         \"bars\": false,\n         \"dashLength\": 10,\n         \"dashes\": false,\n         \"decimals\": 2,\n         \"description\": \"Ratio of Documents (or Index entries) scanned / documents returned. A value of 1 means all documents returned exactly match query criteria for the sample period. A value of 100 means on average for the sample period, a query scans 100 documents to find one that is returned.\",\n         \"editable\": true,\n         \"error\": false,\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"links\": [ ]\n            },\n            \"overrides\": [ ]\n         },\n         \"fill\": 2,\n         \"fillGradient\": 0,\n         \"grid\": {\n            \"leftLogBase\": 1,\n            \"leftMin\": 0,\n            \"rightLogBase\": 1\n         },\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 39\n         },\n         \"height\": \"250px\",\n         \"hiddenSeries\": false,\n         \"id\": 1066,\n         \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": false,\n            \"hideZero\": false,\n            \"max\": true,\n            \"min\": true,\n            \"show\": true,\n            \"sort\": \"avg\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n         },\n         \"lines\": true,\n         \"linewidth\": 2,\n         \"links\": [ ],\n         \"nullPointMode\": \"null\",\n         \"options\": {\n            \"alertThreshold\": true\n         },\n         \"paceLength\": 10,\n         \"percentage\": false,\n         \"pluginVersion\": \"9.2.20\",\n         \"pointradius\": 5,\n         \"points\": false,\n         \"renderer\": \"flot\",\n         \"seriesOverrides\": [ ],\n         \"spaceLength\": 10,\n         \"stack\": false,\n         \"steppedLine\": false,\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"(sum by ()(rate(mongodb_mongod_metrics_query_executor_total{instance=~\\\"$instance\\\", state=\\\"scanned_objects\\\"}[$interval])) /\\nsum(rate(mongodb_mongod_metrics_document_total{instance=~\\\"$instance\\\", state=\\\"returned\\\"}[$interval]))\\nor\\nsum by ()(irate(mongodb_mongod_metrics_query_executor_total{instance=~\\\"$instance\\\", state=\\\"scanned_objects\\\"}[5m])) /\\nsum(irate(mongodb_mongod_metrics_document_total{instance=~\\\"$instance\\\", state=\\\"returned\\\"}[5m])))\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"Scanned objects / returned\",\n               \"range\": true,\n               \"refId\": \"J\",\n               \"step\": 300\n            },\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"(sum by ()(rate(mongodb_mongod_metrics_query_executor_total{instance=~\\\"$instance\\\", state=\\\"scanned\\\"}[$interval])) /\\nsum(rate(mongodb_mongod_metrics_document_total{instance=~\\\"$instance\\\", state=\\\"returned\\\"}[$interval]))\\nor\\nsum by ()(irate(mongodb_mongod_metrics_query_executor_total{instance=~\\\"$instance\\\", state=\\\"scanned\\\"}[5m])) /\\nsum(irate(mongodb_mongod_metrics_document_total{instance=~\\\"$instance\\\", state=\\\"returned\\\"}[5m])))\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"Scanned idx / returned\",\n               \"range\": true,\n               \"refId\": \"A\",\n               \"step\": 300\n            }\n         ],\n         \"thresholds\": [ ],\n         \"timeRegions\": [ ],\n         \"title\": \"Query Efficiency\",\n         \"tooltip\": {\n            \"msResolution\": false,\n            \"shared\": true,\n            \"sort\": \"none\",\n            \"value_type\": \"cumulative\"\n         },\n         \"type\": \"graph\",\n         \"x-axis\": true,\n         \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": [ ]\n         },\n         \"y-axis\": true,\n         \"y_formats\": [\n            \"\",\n            \"\"\n         ],\n         \"yaxes\": [\n            {\n               \"decimals\": 2,\n               \"format\": \"\",\n               \"label\": \"\",\n               \"logBase\": 1,\n               \"min\": 0,\n               \"show\": true\n            },\n            {\n               \"format\": \"\",\n               \"logBase\": 1,\n               \"show\": false\n            }\n         ],\n         \"yaxis\": {\n            \"align\": false\n         }\n      },\n      {\n         \"aliasColors\": { },\n         \"bars\": false,\n         \"dashLength\": 10,\n         \"dashes\": false,\n         \"decimals\": 2,\n         \"description\": \"Operations queued due to a lock.\",\n         \"editable\": true,\n         \"error\": false,\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"links\": [ ]\n            },\n            \"overrides\": [ ]\n         },\n         \"fill\": 2,\n         \"fillGradient\": 0,\n         \"grid\": {\n            \"leftLogBase\": 1,\n            \"leftMin\": 0,\n            \"rightLogBase\": 1\n         },\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 39\n         },\n         \"height\": \"250px\",\n         \"hiddenSeries\": false,\n         \"id\": 1036,\n         \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": false,\n            \"hideZero\": false,\n            \"max\": true,\n            \"min\": true,\n            \"show\": true,\n            \"sort\": \"avg\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n         },\n         \"lines\": true,\n         \"linewidth\": 2,\n         \"links\": [ ],\n         \"nullPointMode\": \"null\",\n         \"options\": {\n            \"alertThreshold\": true\n         },\n         \"paceLength\": 10,\n         \"percentage\": false,\n         \"pluginVersion\": \"9.2.20\",\n         \"pointradius\": 5,\n         \"points\": false,\n         \"renderer\": \"flot\",\n         \"seriesOverrides\": [ ],\n         \"spaceLength\": 10,\n         \"stack\": false,\n         \"steppedLine\": false,\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"max by (type) (mongodb_mongod_global_lock_current_queue{instance=~\\\"$instance\\\"})\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"{{`{{type}}`}}\",\n               \"range\": true,\n               \"refId\": \"J\",\n               \"step\": 300\n            }\n         ],\n         \"thresholds\": [\n            {\n               \"colorMode\": \"critical\",\n               \"fill\": true,\n               \"line\": true,\n               \"op\": \"gt\",\n               \"value\": 0,\n               \"yaxis\": \"left\"\n            }\n         ],\n         \"timeRegions\": [ ],\n         \"title\": \"Queued Operations\",\n         \"tooltip\": {\n            \"msResolution\": false,\n            \"shared\": true,\n            \"sort\": 5,\n            \"value_type\": \"cumulative\"\n         },\n         \"type\": \"graph\",\n         \"x-axis\": true,\n         \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": [ ]\n         },\n         \"y-axis\": true,\n         \"y_formats\": [\n            \"short\",\n            \"short\"\n         ],\n         \"yaxes\": [\n            {\n               \"decimals\": 2,\n               \"format\": \"ops\",\n               \"label\": \"\",\n               \"logBase\": 1,\n               \"min\": 0,\n               \"show\": true\n            },\n            {\n               \"format\": \"short\",\n               \"logBase\": 1,\n               \"show\": false\n            }\n         ],\n         \"yaxis\": {\n            \"align\": false\n         }\n      },\n      {\n         \"aliasColors\": { },\n         \"bars\": false,\n         \"dashLength\": 10,\n         \"dashes\": false,\n         \"decimals\": 2,\n         \"description\": \"\",\n         \"editable\": true,\n         \"error\": false,\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"links\": [ ]\n            },\n            \"overrides\": [ ]\n         },\n         \"fill\": 2,\n         \"fillGradient\": 0,\n         \"grid\": {\n            \"leftLogBase\": 1,\n            \"leftMin\": 0,\n            \"rightLogBase\": 1\n         },\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 47\n         },\n         \"height\": \"250px\",\n         \"hiddenSeries\": false,\n         \"id\": 1067,\n         \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": false,\n            \"max\": true,\n            \"min\": true,\n            \"show\": true,\n            \"sort\": \"avg\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n         },\n         \"lines\": true,\n         \"linewidth\": 2,\n         \"links\": [ ],\n         \"nullPointMode\": \"null as zero\",\n         \"options\": {\n            \"alertThreshold\": true\n         },\n         \"paceLength\": 10,\n         \"percentage\": true,\n         \"pluginVersion\": \"9.2.20\",\n         \"pointradius\": 5,\n         \"points\": false,\n         \"renderer\": \"flot\",\n         \"seriesOverrides\": [ ],\n         \"spaceLength\": 10,\n         \"stack\": false,\n         \"steppedLine\": false,\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg by() (mongodb_ss_globalLock_activeClients_readers{instance=~\\\"$instance\\\"})\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"Active Readers\",\n               \"range\": true,\n               \"refId\": \"J\",\n               \"step\": 300\n            },\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg by() (mongodb_ss_globalLock_activeClients_writers{instance=~\\\"$instance\\\"})\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"Active Writers\",\n               \"range\": true,\n               \"refId\": \"A\",\n               \"step\": 300\n            },\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg by() (mongodb_ss_globalLock_currentQueue{instance=~\\\"$instance\\\",count_type=\\\"readers\\\"})\",\n               \"hide\": false,\n               \"legendFormat\": \"Queued Readers\",\n               \"range\": true,\n               \"refId\": \"B\"\n            },\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg by() (mongodb_ss_globalLock_currentQueue{instance=~\\\"$instance\\\",count_type=\\\"writers\\\"})\",\n               \"hide\": false,\n               \"interval\": \"\",\n               \"legendFormat\": \"Queued Writers\",\n               \"range\": true,\n               \"refId\": \"C\"\n            }\n         ],\n         \"thresholds\": [ ],\n         \"timeRegions\": [ ],\n         \"title\": \"Reads & Writes\",\n         \"tooltip\": {\n            \"msResolution\": false,\n            \"shared\": true,\n            \"sort\": 5,\n            \"value_type\": \"cumulative\"\n         },\n         \"type\": \"graph\",\n         \"x-axis\": true,\n         \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": [ ]\n         },\n         \"y-axis\": true,\n         \"y_formats\": [\n            \"short\",\n            \"short\"\n         ],\n         \"yaxes\": [\n            {\n               \"format\": \"none\",\n               \"label\": \"\",\n               \"logBase\": 1,\n               \"min\": 0,\n               \"show\": true\n            },\n            {\n               \"format\": \"none\",\n               \"logBase\": 1,\n               \"show\": false\n            }\n         ],\n         \"yaxis\": {\n            \"align\": false\n         }\n      },\n      {\n         \"aliasColors\": { },\n         \"bars\": false,\n         \"dashLength\": 10,\n         \"dashes\": false,\n         \"description\": \"MongoDB Connections\",\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"links\": [ ],\n               \"unit\": \"none\"\n            },\n            \"overrides\": [ ]\n         },\n         \"fill\": 1,\n         \"fillGradient\": 0,\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 47\n         },\n         \"hiddenSeries\": false,\n         \"id\": 1074,\n         \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": false,\n            \"max\": true,\n            \"min\": true,\n            \"show\": true,\n            \"sort\": \"avg\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n         },\n         \"lines\": true,\n         \"linewidth\": 1,\n         \"links\": [ ],\n         \"nullPointMode\": \"null\",\n         \"options\": {\n            \"alertThreshold\": true,\n            \"legend\": {\n               \"calcs\": [ ],\n               \"displayMode\": \"list\",\n               \"placement\": \"bottom\",\n               \"showLegend\": true\n            },\n            \"tooltip\": {\n               \"mode\": \"single\",\n               \"sort\": \"none\"\n            }\n         },\n         \"percentage\": false,\n         \"pluginVersion\": \"9.2.20\",\n         \"pointradius\": 2,\n         \"points\": false,\n         \"renderer\": \"flot\",\n         \"seriesOverrides\": [ ],\n         \"spaceLength\": 10,\n         \"stack\": false,\n         \"steppedLine\": false,\n         \"targets\": [\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg by () (mongodb_ss_connections{instance=~\\\"$instance\\\",conn_type=~\\\"current\\\"})\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"Current\",\n               \"range\": true,\n               \"refId\": \"J\",\n               \"step\": 300\n            },\n            {\n               \"editorMode\": \"code\",\n               \"expr\": \"avg by() (mongodb_ss_connections{instance=~\\\"$instance\\\",conn_type=~\\\"available\\\"})\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"interval\": \"$interval\",\n               \"intervalFactor\": 1,\n               \"legendFormat\": \"Available\",\n               \"range\": true,\n               \"refId\": \"A\",\n               \"step\": 300\n            }\n         ],\n         \"thresholds\": [ ],\n         \"timeRegions\": [ ],\n         \"title\": \"Connections\",\n         \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n         },\n         \"type\": \"graph\",\n         \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": [ ]\n         },\n         \"yaxes\": [\n            {\n               \"format\": \"none\",\n               \"logBase\": 1,\n               \"show\": true\n            },\n            {\n               \"format\": \"short\",\n               \"logBase\": 1,\n               \"show\": true\n            }\n         ],\n         \"yaxis\": {\n            \"align\": false\n         }\n      },\n      {\n         \"collapsed\": true,\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 55\n         },\n         \"id\": 1056,\n         \"panels\": [\n            {\n               \"default_title_for_rows\": \"DB Name\",\n               \"description\": \"MongoDB stores documents in collections. Collections are analogous to tables in relational databases.\",\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"color\": {\n                        \"fixedColor\": \"text\",\n                        \"mode\": \"thresholds\"\n                     },\n                     \"custom\": {\n                        \"align\": \"left\",\n                        \"displayMode\": \"auto\",\n                        \"filterable\": true,\n                        \"inspect\": false\n                     },\n                     \"mappings\": [\n                        {\n                           \"options\": {\n                              \"0\": {\n                                 \"color\": \"dark-blue\",\n                                 \"index\": 0,\n                                 \"text\": \"0\"\n                              }\n                           },\n                           \"type\": \"value\"\n                        }\n                     ],\n                     \"noValue\": \"N/A\",\n                     \"thresholds\": {\n                        \"mode\": \"absolute\",\n                        \"steps\": [\n                           {\n                              \"color\": \"red\",\n                              \"value\": null\n                           }\n                        ]\n                     },\n                     \"unit\": \"bytes\"\n                  },\n                  \"overrides\": [\n                     {\n                        \"matcher\": {\n                           \"id\": \"byRegexp\",\n                           \"options\": \"^((?!(DB Name)).)*$\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"color\",\n                              \"value\": {\n                                 \"fixedColor\": \"dark-blue\",\n                                 \"mode\": \"fixed\"\n                              }\n                           }\n                        ]\n                     },\n                     {\n                        \"matcher\": {\n                           \"id\": \"byName\",\n                           \"options\": \"Node\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"links\",\n                              \"value\": [\n                                 {\n                                    \"title\": \"\",\n                                    \"url\": \"/graph/d/mongodb-instance-summary/mongodb-instance-summary?${__data.fields.Node}\uFEFF&\uFEFF${__url_time_range}\uFEFF&\uFEFF${interval:queryparam}\uFEFF&\uFEFF${cluster:queryparam}\"\n                                 }\n                              ]\n                           }\n                        ]\n                     }\n                  ]\n               },\n               \"gridPos\": {\n                  \"h\": 8,\n                  \"w\": 11,\n                  \"x\": 0,\n                  \"y\": 56\n               },\n               \"hide_headers\": false,\n               \"id\": 1043,\n               \"options\": {\n                  \"footer\": {\n                     \"fields\": \"\",\n                     \"reducer\": [\n                        \"sum\"\n                     ],\n                     \"show\": false\n                  },\n                  \"frameIndex\": 0,\n                  \"showHeader\": true,\n                  \"sortBy\": [\n                     {\n                        \"desc\": false,\n                        \"displayName\": \"DB Name\\\\Value\"\n                     }\n                  ]\n               },\n               \"pluginVersion\": \"9.2.20\",\n               \"sorting_props\": {\n                  \"col_index\": -1,\n                  \"direction\": \"desc\"\n               },\n               \"targets\": [\n                  {\n                     \"editorMode\": \"code\",\n                     \"exemplar\": false,\n                     \"expr\": \"max by (environment,cluster,rs_nm,database,collection,instance) (mongodb_collstats_storageStats_storageSize{cluster=~\\\"$cluster\\\",rs_nm=~\\\"$rs_nm\\\",db!~\\\"admin|config\\\"})\",\n                     \"format\": \"table\",\n                     \"hide\": false,\n                     \"instant\": true,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"{{`{{collection}}`}}\",\n                     \"range\": false,\n                     \"refId\": \"A\"\n                  }\n               ],\n               \"title\": \"Size of Collections\",\n               \"transformations\": [\n                  {\n                     \"id\": \"groupingToMatrix\",\n                     \"options\": {\n                        \"columnField\": \"shard\",\n                        \"rowField\": \"db\",\n                        \"valueField\": \"Value\"\n                     }\n                  },\n                  {\n                     \"id\": \"organize\",\n                     \"options\": {\n                        \"excludeByName\": {\n                           \"Time\": true,\n                           \"cluster\": true,\n                           \"environment\": false,\n                           \"rs_nm\": true\n                        },\n                        \"indexByName\": {\n                           \"Time\": 0,\n                           \"Value\": 6,\n                           \"cluster\": 1,\n                           \"collection\": 4,\n                           \"database\": 3,\n                           \"rs_nm\": 5,\n                           \"service_name\": 2\n                        },\n                        \"renameByName\": {\n                           \"Value\": \"Size\",\n                           \"database\": \"DB Name\",\n                           \"db\\\\shard\": \"DB Name\",\n                           \"rs1\": \"\",\n                           \"service_name\": \"Node\"\n                        }\n                     }\n                  }\n               ],\n               \"type\": \"table\"\n            },\n            {\n               \"collapsed\": false,\n               \"default_title_for_rows\": \"DB Name\",\n               \"description\": \"MongoDB stores documents in collections. Collections are analogous to tables in relational databases.\",\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"color\": {\n                        \"fixedColor\": \"transparent\",\n                        \"mode\": \"fixed\"\n                     },\n                     \"custom\": {\n                        \"align\": \"left\",\n                        \"displayMode\": \"auto\",\n                        \"filterable\": true,\n                        \"inspect\": false\n                     },\n                     \"mappings\": [\n                        {\n                           \"options\": {\n                              \"0\": {\n                                 \"color\": \"dark-blue\",\n                                 \"index\": 0\n                              }\n                           },\n                           \"type\": \"value\"\n                        }\n                     ],\n                     \"noValue\": \"N/A\",\n                     \"thresholds\": {\n                        \"mode\": \"absolute\",\n                        \"steps\": [\n                           {\n                              \"color\": \"red\",\n                              \"value\": null\n                           }\n                        ]\n                     }\n                  },\n                  \"overrides\": [\n                     {\n                        \"matcher\": {\n                           \"id\": \"byRegexp\",\n                           \"options\": \"^((?!(DB Name)).)*$\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"custom.displayMode\",\n                              \"value\": \"color-background-solid\"\n                           }\n                        ]\n                     },\n                     {\n                        \"matcher\": {\n                           \"id\": \"byName\",\n                           \"options\": \"Node\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"links\",\n                              \"value\": [\n                                 {\n                                    \"title\": \"\",\n                                    \"url\": \"/graph/d/mongodb-instance-summary/mongodb-instance-summary?${__data.fields.Node}\uFEFF&\uFEFF${__url_time_range}\uFEFF&\uFEFF${interval:queryparam}\uFEFF&\uFEFF${cluster:queryparam}\uFEFF\"\n                                 }\n                              ]\n                           }\n                        ]\n                     }\n                  ]\n               },\n               \"gridPos\": {\n                  \"h\": 8,\n                  \"w\": 13,\n                  \"x\": 11,\n                  \"y\": 56\n               },\n               \"id\": 1045,\n               \"options\": {\n                  \"footer\": {\n                     \"enablePagination\": true,\n                     \"fields\": \"\",\n                     \"reducer\": [\n                        \"sum\"\n                     ],\n                     \"show\": false\n                  },\n                  \"frameIndex\": 0,\n                  \"showHeader\": true,\n                  \"sortBy\": [\n                     {\n                        \"desc\": false,\n                        \"displayName\": \"DB Name\\\\Value\"\n                     }\n                  ]\n               },\n               \"pluginVersion\": \"9.2.20\",\n               \"sorting_props\": {\n                  \"col_index\": -1,\n                  \"direction\": \"desc\"\n               },\n               \"targets\": [\n                  {\n                     \"editorMode\": \"code\",\n                     \"exemplar\": false,\n                     \"expr\": \"max by (environment,cluster,rs_nm,database,instance) (mongodb_mongod_db_collections_total{cluster=~\\\"$cluster\\\",rs_nm=~\\\"$rs_nm\\\",db!~\\\"admin|config\\\"})\",\n                     \"format\": \"table\",\n                     \"hide\": false,\n                     \"instant\": true,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"__auto\",\n                     \"range\": false,\n                     \"refId\": \"A\"\n                  }\n               ],\n               \"title\": \"Number of Collections\",\n               \"transformations\": [\n                  {\n                     \"id\": \"organize\",\n                     \"options\": {\n                        \"excludeByName\": {\n                           \"Time\": true,\n                           \"cluster\": true,\n                           \"rs_nm\": true\n                        },\n                        \"indexByName\": {\n                           \"Time\": 0,\n                           \"Value\": 5,\n                           \"cluster\": 1,\n                           \"database\": 3,\n                           \"rs_nm\": 4,\n                           \"service_name\": 2\n                        },\n                        \"renameByName\": {\n                           \"1710776522937\": \"\",\n                           \"Value\": \"Count\",\n                           \"database\": \"DB Name\",\n                           \"service_name\": \"Node\"\n                        }\n                     }\n                  }\n               ],\n               \"type\": \"table\"\n            }\n         ],\n         \"title\": \"Collection Details\",\n         \"type\": \"row\"\n      },\n      {\n         \"collapsed\": true,\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 56\n         },\n         \"id\": 1049,\n         \"panels\": [\n            {\n               \"aliasColors\": { },\n               \"bars\": false,\n               \"dashLength\": 10,\n               \"dashes\": false,\n               \"decimals\": 2,\n               \"description\": \"MongoDB replication lag occurs when the secondary node cannot replicate data fast enough to keep up with the rate that data is being written to the primary node. It could be caused by something as simple as network latency, packet loss within your network, or a routing issue.\",\n               \"editable\": true,\n               \"error\": false,\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"links\": [\n                        {\n                           \"targetBlank\": true,\n                           \"title\": \"MongoDB Instance Summary - ${__series.name}\",\n                           \"url\": \"/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}$&$__url_time_range\"\n                        }\n                     ]\n                  },\n                  \"overrides\": [ ]\n               },\n               \"fill\": 2,\n               \"fillGradient\": 0,\n               \"grid\": {\n                  \"leftLogBase\": 1,\n                  \"leftMin\": 0,\n                  \"rightLogBase\": 1\n               },\n               \"gridPos\": {\n                  \"h\": 7,\n                  \"w\": 12,\n                  \"x\": 0,\n                  \"y\": 57\n               },\n               \"hiddenSeries\": false,\n               \"id\": 1038,\n               \"legend\": {\n                  \"alignAsTable\": true,\n                  \"avg\": true,\n                  \"current\": false,\n                  \"max\": true,\n                  \"min\": true,\n                  \"rightSide\": false,\n                  \"show\": true,\n                  \"sort\": \"avg\",\n                  \"sortDesc\": true,\n                  \"total\": false,\n                  \"values\": true\n               },\n               \"lines\": true,\n               \"linewidth\": 2,\n               \"links\": [ ],\n               \"nullPointMode\": \"null as zero\",\n               \"options\": {\n                  \"alertThreshold\": true\n               },\n               \"paceLength\": 10,\n               \"percentage\": false,\n               \"pluginVersion\": \"9.2.20\",\n               \"pointradius\": 5,\n               \"points\": false,\n               \"renderer\": \"flot\",\n               \"seriesOverrides\": [\n                  {\n                     \"alias\": \"Avg\",\n                     \"color\": \"#C4162A\",\n                     \"fill\": 0,\n                     \"legend\": false,\n                     \"stack\": false\n                  }\n               ],\n               \"spaceLength\": 10,\n               \"stack\": false,\n               \"steppedLine\": false,\n               \"targets\": [\n                  {\n                     \"editorMode\": \"code\",\n                     \"expr\": \"max_over_time(mongodb_mongod_replset_member_replication_lag{environment=~\\\"$environment\\\",cluster=~\\\"$cluster\\\",set=\\\"$rs_nm\\\",self=~\\\"|1\\\",instance=~\\\"$secondary\\\"}[$interval]) > 0 \",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"{{`{{service_name}}`}}\",\n                     \"range\": true,\n                     \"refId\": \"A\",\n                     \"step\": 300\n                  }\n               ],\n               \"thresholds\": [\n                  {\n                     \"colorMode\": \"critical\",\n                     \"fill\": false,\n                     \"line\": true,\n                     \"op\": \"gt\",\n                     \"value\": 10,\n                     \"yaxis\": \"left\"\n                  }\n               ],\n               \"timeRegions\": [ ],\n               \"title\": \"Replication Lag\",\n               \"tooltip\": {\n                  \"msResolution\": false,\n                  \"shared\": true,\n                  \"sort\": 5,\n                  \"value_type\": \"cumulative\"\n               },\n               \"type\": \"graph\",\n               \"x-axis\": true,\n               \"xaxis\": {\n                  \"mode\": \"time\",\n                  \"show\": true,\n                  \"values\": [ ]\n               },\n               \"y-axis\": true,\n               \"y_formats\": [\n                  \"s\",\n                  \"short\"\n               ],\n               \"yaxes\": [\n                  {\n                     \"decimals\": 2,\n                     \"format\": \"s\",\n                     \"label\": \"\",\n                     \"logBase\": 1,\n                     \"min\": 0,\n                     \"show\": true\n                  },\n                  {\n                     \"format\": \"short\",\n                     \"logBase\": 1,\n                     \"show\": false\n                  }\n               ],\n               \"yaxis\": {\n                  \"align\": false\n               }\n            },\n            {\n               \"aliasColors\": { },\n               \"bars\": false,\n               \"dashLength\": 10,\n               \"dashes\": false,\n               \"decimals\": 2,\n               \"description\": \"Timespan 'window' between newest and the oldest op in the Oplog collection.\",\n               \"editable\": true,\n               \"error\": false,\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"links\": [\n                        {\n                           \"targetBlank\": true,\n                           \"title\": \"MongoDB Instance Summary - ${__series.name}\",\n                           \"url\": \"/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}$&$__url_time_range\"\n                        }\n                     ]\n                  },\n                  \"overrides\": [ ]\n               },\n               \"fill\": 2,\n               \"fillGradient\": 0,\n               \"grid\": {\n                  \"leftLogBase\": 1,\n                  \"leftMin\": 0,\n                  \"rightLogBase\": 1\n               },\n               \"gridPos\": {\n                  \"h\": 7,\n                  \"w\": 12,\n                  \"x\": 12,\n                  \"y\": 57\n               },\n               \"hiddenSeries\": false,\n               \"id\": 1025,\n               \"legend\": {\n                  \"alignAsTable\": true,\n                  \"avg\": true,\n                  \"current\": false,\n                  \"max\": true,\n                  \"min\": true,\n                  \"rightSide\": false,\n                  \"show\": true,\n                  \"sort\": \"avg\",\n                  \"sortDesc\": true,\n                  \"total\": false,\n                  \"values\": true\n               },\n               \"lines\": true,\n               \"linewidth\": 2,\n               \"links\": [ ],\n               \"nullPointMode\": \"null as zero\",\n               \"options\": {\n                  \"alertThreshold\": true\n               },\n               \"paceLength\": 10,\n               \"percentage\": false,\n               \"pluginVersion\": \"9.2.20\",\n               \"pointradius\": 5,\n               \"points\": false,\n               \"renderer\": \"flot\",\n               \"seriesOverrides\": [\n                  {\n                     \"alias\": \"Avg\",\n                     \"color\": \"#C4162A\",\n                     \"fill\": 0,\n                     \"legend\": false,\n                     \"stack\": false\n                  }\n               ],\n               \"spaceLength\": 10,\n               \"stack\": false,\n               \"steppedLine\": false,\n               \"targets\": [\n                  {\n                     \"editorMode\": \"code\",\n                     \"expr\": \"mongodb_mongod_replset_oplog_head_timestamp{instance=~\\\"$instance\\\"}-mongodb_mongod_replset_oplog_tail_timestamp{instance=~\\\"$instance\\\"}\",\n                     \"hide\": false,\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"{{`{{service_name}}`}}\",\n                     \"metric\": \"\",\n                     \"range\": true,\n                     \"refId\": \"A\",\n                     \"step\": 300\n                  }\n               ],\n               \"thresholds\": [ ],\n               \"timeRegions\": [ ],\n               \"title\": \"Oplog Recovery Window\",\n               \"tooltip\": {\n                  \"msResolution\": false,\n                  \"shared\": true,\n                  \"sort\": 5,\n                  \"value_type\": \"cumulative\"\n               },\n               \"type\": \"graph\",\n               \"x-axis\": true,\n               \"xaxis\": {\n                  \"mode\": \"time\",\n                  \"show\": true,\n                  \"values\": [ ]\n               },\n               \"y-axis\": true,\n               \"y_formats\": [\n                  \"s\",\n                  \"short\"\n               ],\n               \"yaxes\": [\n                  {\n                     \"decimals\": 2,\n                     \"format\": \"s\",\n                     \"label\": \"\",\n                     \"logBase\": 1,\n                     \"min\": 0,\n                     \"show\": true\n                  },\n                  {\n                     \"format\": \"short\",\n                     \"logBase\": 1,\n                     \"show\": false\n                  }\n               ],\n               \"yaxis\": {\n                  \"align\": false\n               }\n            }\n         ],\n         \"title\": \"Replication\",\n         \"type\": \"row\"\n      },\n      {\n         \"collapsed\": true,\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 57\n         },\n         \"id\": 1054,\n         \"panels\": [\n            {\n               \"aliasColors\": { },\n               \"bars\": false,\n               \"dashLength\": 10,\n               \"dashes\": false,\n               \"decimals\": 2,\n               \"description\": \"Average latency of operations (classified by read, write, or (other) command)\",\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"links\": [ ]\n                  },\n                  \"overrides\": [ ]\n               },\n               \"fill\": 2,\n               \"fillGradient\": 0,\n               \"gridPos\": {\n                  \"h\": 7,\n                  \"w\": 12,\n                  \"x\": 0,\n                  \"y\": 58\n               },\n               \"hiddenSeries\": false,\n               \"id\": 1020,\n               \"legend\": {\n                  \"alignAsTable\": true,\n                  \"avg\": true,\n                  \"current\": false,\n                  \"max\": true,\n                  \"min\": true,\n                  \"rightSide\": false,\n                  \"show\": true,\n                  \"sort\": \"avg\",\n                  \"sortDesc\": true,\n                  \"total\": false,\n                  \"values\": true\n               },\n               \"lines\": true,\n               \"linewidth\": 2,\n               \"nullPointMode\": \"null\",\n               \"options\": {\n                  \"alertThreshold\": true\n               },\n               \"percentage\": false,\n               \"pluginVersion\": \"9.2.20\",\n               \"pointradius\": 2,\n               \"points\": false,\n               \"renderer\": \"flot\",\n               \"seriesOverrides\": [\n                  {\n                     \"alias\": \"/fc_count.*/\",\n                     \"yaxis\": 2\n                  }\n               ],\n               \"spaceLength\": 10,\n               \"stack\": false,\n               \"steppedLine\": false,\n               \"targets\": [\n                  {\n                     \"editorMode\": \"code\",\n                     \"expr\": \"max(rate(mongodb_ss_flowControl_isLaggedCount{instance=~\\\"$instance\\\"}[$interval]))\",\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"fc_count\",\n                     \"range\": true,\n                     \"refId\": \"A\"\n                  },\n                  {\n                     \"editorMode\": \"code\",\n                     \"expr\": \"max(rate(mongodb_ss_flowControl_isLaggedTimeMicros{instance=~\\\"$instance\\\"}[$interval]))\",\n                     \"hide\": false,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"fc_time\",\n                     \"range\": true,\n                     \"refId\": \"B\"\n                  }\n               ],\n               \"thresholds\": [ ],\n               \"timeRegions\": [ ],\n               \"title\": \"Flow Control\",\n               \"tooltip\": {\n                  \"shared\": true,\n                  \"sort\": 2,\n                  \"value_type\": \"individual\"\n               },\n               \"type\": \"graph\",\n               \"xaxis\": {\n                  \"mode\": \"time\",\n                  \"show\": true,\n                  \"values\": [ ]\n               },\n               \"yaxes\": [\n                  {\n                     \"decimals\": 2,\n                     \"format\": \"s\",\n                     \"label\": \"\",\n                     \"logBase\": 1,\n                     \"min\": \"0\",\n                     \"show\": true\n                  },\n                  {\n                     \"format\": \"short\",\n                     \"logBase\": 1,\n                     \"min\": \"0\",\n                     \"show\": true\n                  }\n               ],\n               \"yaxis\": {\n                  \"align\": false\n               }\n            },\n            {\n               \"aliasColors\": { },\n               \"bars\": false,\n               \"dashLength\": 10,\n               \"dashes\": false,\n               \"decimals\": 2,\n               \"description\": \"A WT 'ticket' is assigned out for every operation running simultaneously in the WT storage engine. \\\"Available\\\" = hardcoded high value - \\\"Out\\\".\",\n               \"editable\": true,\n               \"error\": false,\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"links\": [ ],\n                     \"unit\": \"none\"\n                  },\n                  \"overrides\": [ ]\n               },\n               \"fill\": 2,\n               \"fillGradient\": 0,\n               \"grid\": { },\n               \"gridPos\": {\n                  \"h\": 7,\n                  \"w\": 12,\n                  \"x\": 12,\n                  \"y\": 58\n               },\n               \"hiddenSeries\": false,\n               \"id\": 1041,\n               \"legend\": {\n                  \"alignAsTable\": true,\n                  \"avg\": true,\n                  \"current\": false,\n                  \"max\": true,\n                  \"min\": true,\n                  \"rightSide\": false,\n                  \"show\": true,\n                  \"sort\": \"avg\",\n                  \"sortDesc\": true,\n                  \"total\": false,\n                  \"values\": true\n               },\n               \"lines\": true,\n               \"linewidth\": 2,\n               \"links\": [ ],\n               \"nullPointMode\": \"null\",\n               \"options\": {\n                  \"alertThreshold\": true\n               },\n               \"paceLength\": 10,\n               \"percentage\": false,\n               \"pluginVersion\": \"9.2.20\",\n               \"pointradius\": 5,\n               \"points\": false,\n               \"renderer\": \"flot\",\n               \"seriesOverrides\": [\n                  {\n                     \"alias\": \"write\",\n                     \"transform\": \"negative-Y\"\n                  }\n               ],\n               \"spaceLength\": 10,\n               \"stack\": false,\n               \"steppedLine\": false,\n               \"targets\": [\n                  {\n                     \"editorMode\": \"code\",\n                     \"expr\": \"avg by (type) ((max_over_time(mongodb_mongod_wiredtiger_concurrent_transactions_total_tickets{instance=~\\\"$instance\\\",txn_rw=\\\"read\\\"}[$interval]) or\\nmax_over_time(mongodb_mongod_wiredtiger_concurrent_transactions_total_tickets{instance=~\\\"$instance\\\",txn_rw=\\\"read\\\"}[5m])) -\\n(max_over_time(mongodb_mongod_wiredtiger_concurrent_transactions_out_tickets{instance=~\\\"$instance\\\",txn_rw=\\\"read\\\"}[$interval]) or\\nmax_over_time(mongodb_mongod_wiredtiger_concurrent_transactions_out_tickets{instance=~\\\"$instance\\\",txn_rw=\\\"read\\\"}[5m])))\",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"read\",\n                     \"metric\": \"\",\n                     \"range\": true,\n                     \"refId\": \"B\",\n                     \"step\": 300\n                  },\n                  {\n                     \"editorMode\": \"code\",\n                     \"expr\": \"avg by (type) ((max_over_time(mongodb_mongod_wiredtiger_concurrent_transactions_total_tickets{instance=~\\\"$instance\\\",txn_rw=\\\"write\\\"}[$interval]) or\\nmax_over_time(mongodb_mongod_wiredtiger_concurrent_transactions_total_tickets{instance=~\\\"$instance\\\",txn_rw=\\\"write\\\"}[5m])) -\\n(max_over_time(mongodb_mongod_wiredtiger_concurrent_transactions_out_tickets{instance=~\\\"$instance\\\",txn_rw=\\\"write\\\"}[$interval]) or\\nmax_over_time(mongodb_mongod_wiredtiger_concurrent_transactions_out_tickets{instance=~\\\"$instance\\\",txn_rw=\\\"write\\\"}[5m])))\",\n                     \"hide\": false,\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"write\",\n                     \"metric\": \"\",\n                     \"range\": true,\n                     \"refId\": \"A\",\n                     \"step\": 300\n                  }\n               ],\n               \"thresholds\": [ ],\n               \"timeRegions\": [ ],\n               \"title\": \"WiredTiger Concurrency Tickets Available\",\n               \"tooltip\": {\n                  \"msResolution\": false,\n                  \"shared\": true,\n                  \"sort\": 5,\n                  \"value_type\": \"cumulative\"\n               },\n               \"type\": \"graph\",\n               \"xaxis\": {\n                  \"mode\": \"time\",\n                  \"show\": true,\n                  \"values\": [ ]\n               },\n               \"yaxes\": [\n                  {\n                     \"decimals\": 0,\n                     \"format\": \"none\",\n                     \"label\": \"\",\n                     \"logBase\": 1,\n                     \"show\": true\n                  },\n                  {\n                     \"format\": \"short\",\n                     \"logBase\": 1,\n                     \"show\": false\n                  }\n               ],\n               \"yaxis\": {\n                  \"align\": false\n               }\n            }\n         ],\n         \"repeat\": \"service_name\",\n         \"repeatDirection\": \"h\",\n         \"title\": \"Performance - $service_name\",\n         \"type\": \"row\"\n      },\n      {\n         \"collapsed\": true,\n         \"datasource\": \"$datasource\",\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 60\n         },\n         \"id\": 1403,\n         \"panels\": [\n            {\n               \"collapsed\": false,\n               \"datasource\": \"$datasource\",\n               \"default_title_for_rows\": \"Node Name\",\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"color\": {\n                        \"fixedColor\": \"text\",\n                        \"mode\": \"thresholds\"\n                     },\n                     \"custom\": {\n                        \"align\": \"center\",\n                        \"displayMode\": \"auto\",\n                        \"filterable\": false,\n                        \"inspect\": false,\n                        \"width\": 100\n                     },\n                     \"decimals\": 2,\n                     \"mappings\": [\n                        {\n                           \"options\": {\n                              \"-\": {\n                                 \"index\": 1,\n                                 \"text\": \"No Data\"\n                              },\n                              \"0\": {\n                                 \"color\": \"#8b0000\",\n                                 \"index\": 0,\n                                 \"text\": \"No Data\"\n                              }\n                           },\n                           \"type\": \"value\"\n                        }\n                     ],\n                     \"noValue\": \"-\",\n                     \"thresholds\": {\n                        \"mode\": \"absolute\",\n                        \"steps\": [\n                           {\n                              \"color\": \"red\"\n                           },\n                           {\n                              \"color\": \"orange\",\n                              \"value\": 10\n                           },\n                           {\n                              \"color\": \"green\",\n                              \"value\": 20\n                           }\n                        ]\n                     }\n                  },\n                  \"overrides\": [\n                     {\n                        \"matcher\": {\n                           \"id\": \"byName\",\n                           \"options\": \"node_name\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"custom.align\",\n                              \"value\": \"left\"\n                           },\n                           {\n                              \"id\": \"custom.width\"\n                           },\n                           {\n                              \"id\": \"links\",\n                              \"value\": [\n                                 {\n                                    \"title\": \"\",\n                                    \"url\": \"/graph/d/node-instance-summary/node-summary?orgId=1&${interval:queryparam}&var-region=All&var-node_type=All&var-environment=All&var-node_name=${__value.text}&${__url_time_range}\"\n                                 }\n                              ]\n                           }\n                        ]\n                     },\n                     {\n                        \"matcher\": {\n                           \"id\": \"byName\",\n                           \"options\": \"Value #A\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"unit\",\n                              \"value\": \"s\"\n                           }\n                        ]\n                     },\n                     {\n                        \"matcher\": {\n                           \"id\": \"byName\",\n                           \"options\": \"Value #D\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"unit\",\n                              \"value\": \"decbytes\"\n                           }\n                        ]\n                     },\n                     {\n                        \"matcher\": {\n                           \"id\": \"byName\",\n                           \"options\": \"Value #F\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"unit\",\n                              \"value\": \"decbytes\"\n                           }\n                        ]\n                     },\n                     {\n                        \"matcher\": {\n                           \"id\": \"byName\",\n                           \"options\": \"Value #C\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"unit\",\n                              \"value\": \"percent\"\n                           },\n                           {\n                              \"id\": \"custom.displayMode\",\n                              \"value\": \"color-text\"\n                           },\n                           {\n                              \"id\": \"custom.width\",\n                              \"value\": 160\n                           }\n                        ]\n                     },\n                     {\n                        \"matcher\": {\n                           \"id\": \"byName\",\n                           \"options\": \"Value #G\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"unit\",\n                              \"value\": \"percent\"\n                           },\n                           {\n                              \"id\": \"custom.displayMode\",\n                              \"value\": \"color-text\"\n                           },\n                           {\n                              \"id\": \"custom.width\",\n                              \"value\": 170\n                           }\n                        ]\n                     },\n                     {\n                        \"matcher\": {\n                           \"id\": \"byName\",\n                           \"options\": \"Value #E\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"unit\",\n                              \"value\": \"decbytes\"\n                           },\n                           {\n                              \"id\": \"custom.width\",\n                              \"value\": 160\n                           }\n                        ]\n                     },\n                     {\n                        \"matcher\": {\n                           \"id\": \"byName\",\n                           \"options\": \"Value #B\"\n                        },\n                        \"properties\": [\n                           {\n                              \"id\": \"custom.width\",\n                              \"value\": 120\n                           }\n                        ]\n                     }\n                  ]\n               },\n               \"gridPos\": {\n                  \"h\": 7,\n                  \"w\": 24,\n                  \"x\": 0,\n                  \"y\": 61\n               },\n               \"id\": 1435,\n               \"options\": {\n                  \"footer\": {\n                     \"fields\": \"\",\n                     \"reducer\": [\n                        \"sum\"\n                     ],\n                     \"show\": false\n                  },\n                  \"showHeader\": true\n               },\n               \"pluginVersion\": \"9.2.20\",\n               \"sorting_props\": {\n                  \"col_index\": -1,\n                  \"direction\": \"desc\"\n               },\n               \"targets\": [\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"editorMode\": \"code\",\n                     \"exemplar\": false,\n                     \"expr\": \"avg by (node_name)  (time() - container_start_time_seconds{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}) or avg by (node_name) ((node_time_seconds{node_name=~\\\"$node_name\\\"} - node_boot_time_seconds{node_name=~\\\"$node_name\\\"}) or (time() - node_boot_time_seconds{node_name=~\\\"$node_name\\\"}))\",\n                     \"format\": \"table\",\n                     \"hide\": false,\n                     \"instant\": true,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"{{`{{node_name}}`}} | Uptime\",\n                     \"refId\": \"A\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"editorMode\": \"code\",\n                     \"exemplar\": false,\n                     \"expr\": \"max by (node_name) (avg_over_time(node_load1{node_name=~\\\"$node_name\\\"}[$interval]) or avg_over_time(node_load1{node_name=~\\\"$node_name\\\"}[5m]))\",\n                     \"format\": \"table\",\n                     \"instant\": true,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"{{`{{node_name}}`}} | Load\",\n                     \"range\": false,\n                     \"refId\": \"B\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"editorMode\": \"code\",\n                     \"exemplar\": false,\n                     \"expr\": \"clamp_max(avg by (node_name) (container_memory_usage_bytes{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|backup-agent|\\\"} * 100 / container_spec_memory_limit_bytes{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|backup-agent|\\\"}),100) or avg by (node_name) ((node_memory_MemAvailable_bytes{node_name=~\\\"$node_name\\\"} or (node_memory_MemFree_bytes{node_name=~\\\"$node_name\\\"} + node_memory_Buffers_bytes{node_name=~\\\"$node_name\\\"} + node_memory_Cached_bytes{node_name=~\\\"$node_name\\\"})) / node_memory_MemTotal_bytes{node_name=~\\\"$node_name\\\"} * 100)\",\n                     \"format\": \"table\",\n                     \"instant\": true,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"{{`{{node_name}}`}} | Memory\",\n                     \"range\": false,\n                     \"refId\": \"C\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"editorMode\": \"code\",\n                     \"exemplar\": false,\n                     \"expr\": \"max by (node_name) (container_spec_memory_limit_bytes{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}) or avg by (node_name) (node_memory_MemTotal_bytes{node_name=~\\\"$node_name\\\"})\",\n                     \"format\": \"table\",\n                     \"instant\": true,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"{{`{{node_name}}`}} | RAM\",\n                     \"range\": false,\n                     \"refId\": \"D\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"editorMode\": \"code\",\n                     \"exemplar\": false,\n                     \"expr\": \"max by (node_name) (container_spec_memory_limit_bytes{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}+container_spec_memory_swap_limit_bytes{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}) or avg by (node_name) (node_memory_MemTotal_bytes{node_name=~\\\"$node_name\\\"}+node_memory_SwapTotal_bytes{node_name=~\\\"$node_name\\\"})\",\n                     \"format\": \"table\",\n                     \"instant\": true,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"{{`{{node_name}}`}} | Virtual\",\n                     \"refId\": \"E\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"editorMode\": \"code\",\n                     \"exemplar\": false,\n                     \"expr\": \"avg by (node_name) (sum(avg(node_filesystem_size_bytes{node_name=~\\\"$node_name\\\",fstype=~\\\"(ext.|xfs|vfat|)\\\"}) without (mountpoint)) without (device,fstype))\",\n                     \"format\": \"table\",\n                     \"instant\": true,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"{{`{{node_name}}`}} | Disk\",\n                     \"refId\": \"F\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"editorMode\": \"code\",\n                     \"exemplar\": false,\n                     \"expr\": \"min by (node_name) (node_filesystem_free_bytes{node_name=~\\\"$node_name\\\", fstype!~\\\"rootfs|selinuxfs|autofs|rpc_pipefs|tmpfs|shm|overlay|squashfs\\\"}/node_filesystem_size_bytes{node_name=~\\\"$node_name\\\", fstype!~\\\"rootfs|selinuxfs|autofs|rpc_pipefs|tmpfs|shm|overlay|squashfs\\\"})*100\",\n                     \"format\": \"table\",\n                     \"instant\": true,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"{{`{{node_name}}`}} | Min Space\",\n                     \"refId\": \"G\"\n                  }\n               ],\n               \"title\": \"Nodes Overview\",\n               \"transformations\": [\n                  {\n                     \"id\": \"merge\",\n                     \"options\": { }\n                  },\n                  {\n                     \"id\": \"organize\",\n                     \"options\": {\n                        \"excludeByName\": {\n                           \"Time\": true,\n                           \"agent_id\": true,\n                           \"agent_type\": true,\n                           \"environment\": true,\n                           \"instance\": true,\n                           \"job\": true,\n                           \"machine_id\": true,\n                           \"node_id\": true,\n                           \"node_name\": false,\n                           \"node_type\": true,\n                           \"service_name\": false\n                        },\n                        \"indexByName\": {\n                           \"Time\": 0,\n                           \"Value #A\": 3,\n                           \"Value #B\": 5,\n                           \"Value #C\": 6,\n                           \"Value #D\": 2,\n                           \"Value #E\": 8,\n                           \"Value #F\": 4,\n                           \"Value #G\": 7,\n                           \"node_name\": 1\n                        },\n                        \"renameByName\": {\n                           \"Value #A\": \"Uptime\",\n                           \"Value #B\": \"Load Average\",\n                           \"Value #C\": \"Memory Available\",\n                           \"Value #D\": \"RAM\",\n                           \"Value #E\": \"Virtual Memory\",\n                           \"Value #F\": \"Disk Space\",\n                           \"Value #G\": \"Min Space Available\",\n                           \"node_name\": \"Node Name\",\n                           \"service_name\": \"Service Name\"\n                        }\n                     }\n                  }\n               ],\n               \"type\": \"table\"\n            }\n         ],\n         \"targets\": [\n            {\n               \"datasource\": \"Metrics\",\n               \"refId\": \"A\"\n            }\n         ],\n         \"title\": \"Nodes Summary\",\n         \"type\": \"row\"\n      },\n      {\n         \"collapsed\": true,\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 61\n         },\n         \"id\": 1569,\n         \"panels\": [\n            {\n               \"aliasColors\": {\n                  \"Max Core Utilization\": \"#bf1b00\",\n                  \"idle\": \"#806EB7\",\n                  \"iowait\": \"#E24D42\",\n                  \"nice\": \"#1F78C1\",\n                  \"softirq\": \"#FFF899\",\n                  \"steal\": \"#8F3BB8\",\n                  \"system\": \"#EAB839\",\n                  \"user\": \"#508642\"\n               },\n               \"bars\": false,\n               \"dashLength\": 10,\n               \"dashes\": false,\n               \"datasource\": \"$datasource\",\n               \"decimals\": 2,\n               \"description\": \"The CPU time is measured in clock ticks or seconds. It is useful to measure CPU time as a percentage of the CPU's capacity, which is called the CPU usage.\",\n               \"editable\": true,\n               \"error\": false,\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"links\": [ ]\n                  },\n                  \"overrides\": [ ]\n               },\n               \"fill\": 6,\n               \"fillGradient\": 0,\n               \"grid\": { },\n               \"gridPos\": {\n                  \"h\": 8,\n                  \"w\": 8,\n                  \"x\": 0,\n                  \"y\": 62\n               },\n               \"height\": \"\",\n               \"hiddenSeries\": false,\n               \"id\": 337,\n               \"legend\": {\n                  \"alignAsTable\": true,\n                  \"avg\": true,\n                  \"current\": false,\n                  \"hideEmpty\": true,\n                  \"hideZero\": true,\n                  \"max\": true,\n                  \"min\": true,\n                  \"rightSide\": false,\n                  \"show\": true,\n                  \"sort\": \"avg\",\n                  \"sortDesc\": true,\n                  \"total\": false,\n                  \"values\": true\n               },\n               \"lines\": true,\n               \"linewidth\": 1,\n               \"links\": [ ],\n               \"nullPointMode\": \"null\",\n               \"options\": {\n                  \"alertThreshold\": true\n               },\n               \"paceLength\": 10,\n               \"percentage\": false,\n               \"pluginVersion\": \"9.2.20\",\n               \"pointradius\": 5,\n               \"points\": false,\n               \"renderer\": \"flot\",\n               \"repeat\": \"node_name\",\n               \"repeatDirection\": \"h\",\n               \"seriesOverrides\": [\n                  {\n                     \"alias\": \"Max Core Utilization\",\n                     \"lines\": false,\n                     \"pointradius\": 1,\n                     \"points\": true,\n                     \"stack\": false\n                  }\n               ],\n               \"spaceLength\": 10,\n               \"stack\": true,\n               \"steppedLine\": true,\n               \"targets\": [\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"expr\": \"avg by (node_name,mode) (clamp_max(((avg by (mode) ( (clamp_max(rate(node_cpu_seconds_total{node_name=~\\\"$node_name\\\",mode!=\\\"idle\\\", mode!=\\\"user\\\", mode!=\\\"system\\\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\\\"$node_name\\\",mode!=\\\"idle\\\", mode!=\\\"user\\\", mode!=\\\"system\\\"}[5m]),1)) ))*100 or (avg_over_time(node_cpu_average{node_name=~\\\"$node_name\\\", mode!=\\\"total\\\", mode!=\\\"idle\\\", mode!=\\\"user\\\", mode!=\\\"system\\\"}[$interval]) or avg_over_time(node_cpu_average{node_name=~\\\"$node_name\\\", mode!=\\\"total\\\", mode!=\\\"idle\\\", mode!=\\\"user\\\", mode!=\\\"system\\\"}[5m]))),100))\",\n                     \"format\": \"time_series\",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"{{`{{mode}}`}}\",\n                     \"refId\": \"B\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"expr\": \"clamp_max(sum(rate(container_cpu_usage_seconds_total{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}[$interval]) or rate(container_cpu_usage_seconds_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}[5m])) or\\nmax by () (sum  by (cpu) ( (clamp_max(rate(node_cpu_seconds_total{node_name=~\\\"$node_name\\\",mode!=\\\"idle\\\",mode!=\\\"iowait\\\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\\\"$node_name\\\",mode!=\\\"idle\\\",mode!=\\\"iowait\\\"}[5m]),1)) )),1)\",\n                     \"format\": \"time_series\",\n                     \"hide\": true,\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"Max Core Utilization\",\n                     \"refId\": \"C\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"exemplar\": true,\n                     \"expr\": \"clamp_max(avg(rate(container_cpu_system_seconds_total{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}[$interval])) or \\n((avg by () ((clamp_max(rate(node_cpu_seconds_total{node_name=~\\\"$node_name\\\",mode=\\\"system\\\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\\\"$node_name\\\",mode=\\\"system\\\"}[5m]),1)) ))*100 or \\n(avg_over_time(node_cpu_average{node_name=~\\\"$node_name\\\", mode=\\\"system\\\"}[$interval]) or \\navg_over_time(node_cpu_average{node_name=~\\\"$node_name\\\", mode=\\\"system\\\"}[5m]))),100)\",\n                     \"hide\": false,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"system\",\n                     \"refId\": \"A\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"exemplar\": true,\n                     \"expr\": \"clamp_max(avg(rate(container_cpu_user_seconds_total{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}[$interval])) or \\n((avg by () ((clamp_max(rate(node_cpu_seconds_total{node_name=~\\\"$node_name\\\",mode=\\\"user\\\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\\\"$node_name\\\",mode=\\\"user\\\"}[5m]),1)) ))*100 or \\n(avg_over_time(node_cpu_average{node_name=~\\\"$node_name\\\", mode=\\\"user\\\"}[$interval]) or \\navg_over_time(node_cpu_average{node_name=~\\\"$node_name\\\", mode=\\\"user\\\"}[5m]))),100)\",\n                     \"hide\": false,\n                     \"interval\": \"$interval\",\n                     \"legendFormat\": \"user\",\n                     \"refId\": \"D\"\n                  }\n               ],\n               \"thresholds\": [ ],\n               \"timeRegions\": [ ],\n               \"title\": \"CPU Usage - $node_name\",\n               \"tooltip\": {\n                  \"msResolution\": false,\n                  \"shared\": true,\n                  \"sort\": 5,\n                  \"value_type\": \"individual\"\n               },\n               \"type\": \"graph\",\n               \"xaxis\": {\n                  \"mode\": \"time\",\n                  \"show\": true,\n                  \"values\": [ ]\n               },\n               \"yaxes\": [\n                  {\n                     \"decimals\": 2,\n                     \"format\": \"percent\",\n                     \"label\": \"\",\n                     \"logBase\": 1,\n                     \"max\": \"100\",\n                     \"min\": 0,\n                     \"show\": true\n                  },\n                  {\n                     \"format\": \"short\",\n                     \"logBase\": 1,\n                     \"min\": 0,\n                     \"show\": false\n                  }\n               ],\n               \"yaxis\": {\n                  \"align\": false\n               }\n            }\n         ],\n         \"title\": \"CPU Usage\",\n         \"type\": \"row\"\n      },\n      {\n         \"collapsed\": true,\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 62\n         },\n         \"id\": 1571,\n         \"panels\": [\n            {\n               \"aliasColors\": {\n                  \"Allocated\": \"#E0752D\",\n                  \"CPU Load\": \"#64B0C8\",\n                  \"IO Load \": \"#EA6460\",\n                  \"Limit\": \"#1F78C1\",\n                  \"Max CPU Core Utilization\": \"#bf1b00\",\n                  \"Max Core Usage\": \"#bf1b00\",\n                  \"Normalized CPU Load\": \"#6ED0E0\"\n               },\n               \"bars\": false,\n               \"dashLength\": 10,\n               \"dashes\": false,\n               \"datasource\": \"$datasource\",\n               \"decimals\": 2,\n               \"description\": \"When a system is running with maximum CPU utilization, the transmitting and receiving threads must all share the available CPU. This will cause data to be queued more frequently to cope with the lack of CPU. CPU Saturation may be measured as the length of a wait queue, or the time spent waiting on the queue.\",\n               \"editable\": true,\n               \"error\": false,\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"links\": [ ]\n                  },\n                  \"overrides\": [ ]\n               },\n               \"fill\": 2,\n               \"fillGradient\": 0,\n               \"grid\": { },\n               \"gridPos\": {\n                  \"h\": 8,\n                  \"w\": 8,\n                  \"x\": 0,\n                  \"y\": 63\n               },\n               \"hiddenSeries\": false,\n               \"id\": 339,\n               \"legend\": {\n                  \"alignAsTable\": true,\n                  \"avg\": true,\n                  \"current\": false,\n                  \"hideEmpty\": false,\n                  \"max\": true,\n                  \"min\": true,\n                  \"rightSide\": false,\n                  \"show\": true,\n                  \"sort\": \"avg\",\n                  \"sortDesc\": true,\n                  \"total\": false,\n                  \"values\": true\n               },\n               \"lines\": true,\n               \"linewidth\": 2,\n               \"links\": [ ],\n               \"nullPointMode\": \"null\",\n               \"options\": {\n                  \"alertThreshold\": true\n               },\n               \"paceLength\": 10,\n               \"percentage\": false,\n               \"pluginVersion\": \"9.2.20\",\n               \"pointradius\": 5,\n               \"points\": false,\n               \"renderer\": \"flot\",\n               \"repeat\": \"node_name\",\n               \"repeatDirection\": \"h\",\n               \"seriesOverrides\": [\n                  {\n                     \"alias\": \"Max CPU Core Utilization\",\n                     \"lines\": false,\n                     \"pointradius\": 1,\n                     \"points\": true,\n                     \"yaxis\": 2\n                  }\n               ],\n               \"spaceLength\": 10,\n               \"stack\": false,\n               \"steppedLine\": true,\n               \"targets\": [\n                  {\n                     \"calculatedInterval\": \"2s\",\n                     \"datasource\": \"Metrics\",\n                     \"datasourceErrors\": { },\n                     \"errors\": { },\n                     \"expr\": \"((sum(avg_over_time(container_processes{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}[$interval]))-1) / avg by () (machine_cpu_cores)) or\\navg by () ((avg_over_time(node_procs_running{node_name=~\\\"$node_name\\\"}[$interval])-1) / scalar(count(node_cpu_seconds_total{mode=\\\"user\\\", node_name=~\\\"$node_name\\\"})) or (avg_over_time(node_procs_running{node_name=~\\\"$node_name\\\"}[5m])-1) / scalar(count(node_cpu_seconds_total{mode=\\\"user\\\", node_name=~\\\"$node_name\\\"})))\",\n                     \"format\": \"time_series\",\n                     \"hide\": false,\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"Normalized CPU Load\",\n                     \"metric\": \"\",\n                     \"refId\": \"B\",\n                     \"step\": 300,\n                     \"target\": \"\"\n                  },\n                  {\n                     \"calculatedInterval\": \"2s\",\n                     \"datasource\": \"Metrics\",\n                     \"datasourceErrors\": { },\n                     \"errors\": { },\n                     \"expr\": \"clamp_max(sum(rate(container_cpu_usage_seconds_total{node_name=~\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}[$interval]) or rate(container_cpu_usage_seconds_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}[5m])) or\\nmax by () (sum  by (cpu) ( (clamp_max(rate(node_cpu_seconds_total{node_name=~\\\"$node_name\\\",mode!=\\\"idle\\\",mode!=\\\"iowait\\\"}[$interval]),1)) or (clamp_max(irate(node_cpu_seconds_total{node_name=~\\\"$node_name\\\",mode!=\\\"idle\\\",mode!=\\\"iowait\\\"}[5m]),1)) )),1)\",\n                     \"format\": \"time_series\",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"Max CPU Core Utilization\",\n                     \"metric\": \"\",\n                     \"refId\": \"A\",\n                     \"step\": 300,\n                     \"target\": \"\"\n                  }\n               ],\n               \"thresholds\": [ ],\n               \"timeRegions\": [ ],\n               \"title\": \"CPU Saturation and Max Core Usage - $node_name\",\n               \"tooltip\": {\n                  \"msResolution\": false,\n                  \"shared\": true,\n                  \"sort\": 5,\n                  \"value_type\": \"individual\"\n               },\n               \"type\": \"graph\",\n               \"xaxis\": {\n                  \"mode\": \"time\",\n                  \"show\": true,\n                  \"values\": [ ]\n               },\n               \"yaxes\": [\n                  {\n                     \"decimals\": 2,\n                     \"format\": \"short\",\n                     \"label\": \"\",\n                     \"logBase\": 1,\n                     \"min\": 0,\n                     \"show\": true\n                  },\n                  {\n                     \"format\": \"percentunit\",\n                     \"logBase\": 1,\n                     \"max\": \"1\",\n                     \"min\": 0,\n                     \"show\": false\n                  }\n               ],\n               \"yaxis\": {\n                  \"align\": false\n               }\n            }\n         ],\n         \"title\": \"CPU Saturation\",\n         \"type\": \"row\"\n      },\n      {\n         \"collapsed\": true,\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 63\n         },\n         \"id\": 1585,\n         \"panels\": [\n            {\n               \"aliasColors\": {\n                  \"Swap In (Reads)\": \"#6ed0e0\",\n                  \"Swap Out (Writes)\": \"#ef843c\",\n                  \"Total\": \"#bf1b00\"\n               },\n               \"bars\": false,\n               \"dashLength\": 10,\n               \"dashes\": false,\n               \"datasource\": \"$datasource\",\n               \"decimals\": 2,\n               \"description\": \"Disk I/O includes read or write or input/output operations involving a physical disk. It is the speed with which the data transfer takes place between the hard disk drive and RAM.\\n\\nSwap Activity is memory management that involves swapping sections of memory to and from physical storage.\",\n               \"editable\": true,\n               \"error\": false,\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"links\": [ ]\n                  },\n                  \"overrides\": [ ]\n               },\n               \"fill\": 2,\n               \"fillGradient\": 0,\n               \"grid\": { },\n               \"gridPos\": {\n                  \"h\": 8,\n                  \"w\": 8,\n                  \"x\": 0,\n                  \"y\": 64\n               },\n               \"hiddenSeries\": false,\n               \"id\": 341,\n               \"legend\": {\n                  \"alignAsTable\": true,\n                  \"avg\": true,\n                  \"current\": false,\n                  \"hideEmpty\": false,\n                  \"max\": true,\n                  \"min\": true,\n                  \"rightSide\": false,\n                  \"show\": true,\n                  \"sort\": \"avg\",\n                  \"sortDesc\": true,\n                  \"total\": false,\n                  \"values\": true\n               },\n               \"lines\": true,\n               \"linewidth\": 2,\n               \"links\": [\n                  {\n                     \"targetBlank\": true,\n                     \"title\": \"Disk Performance\",\n                     \"url\": \"/graph/d/node-disk/disk-details?$__url_time_range&$__all_variables\"\n                  }\n               ],\n               \"nullPointMode\": \"null\",\n               \"options\": {\n                  \"alertThreshold\": true\n               },\n               \"percentage\": false,\n               \"pluginVersion\": \"9.2.20\",\n               \"pointradius\": 5,\n               \"points\": false,\n               \"renderer\": \"flot\",\n               \"repeat\": \"node_name\",\n               \"repeatDirection\": \"h\",\n               \"seriesOverrides\": [\n                  {\n                     \"alias\": \"Disk Writes (Page Out)\",\n                     \"transform\": \"negative-Y\"\n                  },\n                  {\n                     \"alias\": \"Total\",\n                     \"legend\": false,\n                     \"lines\": false\n                  },\n                  {\n                     \"alias\": \"Swap Out (Writes)\",\n                     \"transform\": \"negative-Y\"\n                  }\n               ],\n               \"spaceLength\": 10,\n               \"stack\": false,\n               \"steppedLine\": true,\n               \"targets\": [\n                  {\n                     \"calculatedInterval\": \"2s\",\n                     \"datasource\": \"Metrics\",\n                     \"datasourceErrors\": { },\n                     \"errors\": { },\n                     \"expr\": \"avg by () (sum(rate(container_fs_reads_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]) or irate(container_fs_reads_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]))) or\\navg by () (rate(node_vmstat_pgpgin{node_name=\\\"$node_name\\\"}[$interval]) * 1024 or irate(node_vmstat_pgpgin{node_name=\\\"$node_name\\\"}[5m]) * 1024)\",\n                     \"format\": \"time_series\",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"Disk Reads (Page In)\",\n                     \"metric\": \"\",\n                     \"refId\": \"A\",\n                     \"step\": 300,\n                     \"target\": \"\"\n                  },\n                  {\n                     \"calculatedInterval\": \"2s\",\n                     \"datasource\": \"Metrics\",\n                     \"datasourceErrors\": { },\n                     \"errors\": { },\n                     \"expr\": \"avg by () (sum(rate(container_fs_writes_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]))) or\\navg by () ((rate(node_vmstat_pgpgout{node_name=\\\"$node_name\\\"}[$interval]) * 1024 or irate(node_vmstat_pgpgout{node_name=\\\"$node_name\\\"}[5m]) * 1024))\",\n                     \"format\": \"time_series\",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"Disk Writes (Page Out)\",\n                     \"metric\": \"\",\n                     \"refId\": \"B\",\n                     \"step\": 300,\n                     \"target\": \"\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"expr\": \"avg by () (sum(rate(container_fs_reads_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]) or irate(container_fs_reads_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]))) + \\navg by () (sum(rate(container_fs_writes_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]))) or \\navg  by () ((rate(node_vmstat_pgpgin{node_name=\\\"$node_name\\\"}[$interval]) * 1024 or irate(node_vmstat_pgpgin{node_name=\\\"$node_name\\\"}[5m]) * 1024 ) + (rate(container_fs_writes_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]))) + \\navg by () (sum(rate(container_fs_writes_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]) or irate(container_fs_writes_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\"}[5s]))) or \\navg  by () ((rate(node_vmstat_pgpgout{node_name=\\\"$node_name\\\"}[$interval]) * 1024 or irate(node_vmstat_pgpgout{node_name=\\\"$node_name\\\"}[5m]) * 1024))\",\n                     \"format\": \"time_series\",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"Total\",\n                     \"refId\": \"C\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"expr\": \"avg by (node_name) (rate(node_vmstat_pswpin{node_name=\\\"$node_name\\\"}[$interval]) * 4096 or irate(node_vmstat_pswpin{node_name=\\\"$node_name\\\"}[5m]) * 4096)\",\n                     \"format\": \"time_series\",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"Swap In (Reads)\",\n                     \"refId\": \"D\"\n                  },\n                  {\n                     \"datasource\": \"Metrics\",\n                     \"expr\": \"avg by () (rate(container_memory_swap{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}[$interval]) or \\nirate(container_memory_swap{node_name=\\\"$node_name\\\",id=~\\\"/kubepods.*\\\",container!~\\\"POD|pmm-client|\\\"}[5s])) or \\navg by () (rate(node_vmstat_pswpout{node_name=\\\"$node_name\\\"}[$interval]) * 4096 or \\nirate(node_vmstat_pswpout{node_name=\\\"$node_name\\\"}[5m]) * 4096)\",\n                     \"format\": \"time_series\",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"Swap Out (Writes)\",\n                     \"refId\": \"E\"\n                  }\n               ],\n               \"thresholds\": [ ],\n               \"timeRegions\": [ ],\n               \"title\": \"Disk I/O and Swap Activity - $node_name\",\n               \"tooltip\": {\n                  \"msResolution\": false,\n                  \"shared\": true,\n                  \"sort\": 5,\n                  \"value_type\": \"individual\"\n               },\n               \"type\": \"graph\",\n               \"xaxis\": {\n                  \"mode\": \"time\",\n                  \"show\": true,\n                  \"values\": [ ]\n               },\n               \"yaxes\": [\n                  {\n                     \"decimals\": 2,\n                     \"format\": \"Bps\",\n                     \"label\": \"Page Out (-) / Page In (+)\",\n                     \"logBase\": 1,\n                     \"show\": true\n                  },\n                  {\n                     \"format\": \"bytes\",\n                     \"logBase\": 1,\n                     \"min\": 0,\n                     \"show\": false\n                  }\n               ],\n               \"yaxis\": {\n                  \"align\": false\n               }\n            }\n         ],\n         \"title\": \"Disk I/O and Swap Activity\",\n         \"type\": \"row\"\n      },\n      {\n         \"collapsed\": true,\n         \"gridPos\": {\n            \"h\": 1,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 64\n         },\n         \"id\": 1583,\n         \"panels\": [\n            {\n               \"aliasColors\": { },\n               \"bars\": false,\n               \"dashLength\": 10,\n               \"dashes\": false,\n               \"datasource\": \"$datasource\",\n               \"decimals\": 2,\n               \"description\": \"Network traffic refers to the amount of data moving across a network at a given point in time.\",\n               \"editable\": true,\n               \"error\": false,\n               \"fieldConfig\": {\n                  \"defaults\": {\n                     \"links\": [ ]\n                  },\n                  \"overrides\": [ ]\n               },\n               \"fill\": 2,\n               \"fillGradient\": 0,\n               \"grid\": { },\n               \"gridPos\": {\n                  \"h\": 8,\n                  \"w\": 8,\n                  \"x\": 0,\n                  \"y\": 65\n               },\n               \"hiddenSeries\": false,\n               \"id\": 343,\n               \"legend\": {\n                  \"alignAsTable\": true,\n                  \"avg\": true,\n                  \"current\": false,\n                  \"hideEmpty\": false,\n                  \"max\": true,\n                  \"min\": true,\n                  \"rightSide\": false,\n                  \"show\": true,\n                  \"sort\": \"avg\",\n                  \"sortDesc\": true,\n                  \"total\": false,\n                  \"values\": true\n               },\n               \"lines\": true,\n               \"linewidth\": 2,\n               \"links\": [ ],\n               \"nullPointMode\": \"null\",\n               \"options\": {\n                  \"alertThreshold\": true\n               },\n               \"percentage\": false,\n               \"pluginVersion\": \"9.2.20\",\n               \"pointradius\": 5,\n               \"points\": false,\n               \"renderer\": \"flot\",\n               \"repeat\": \"node_name\",\n               \"repeatDirection\": \"h\",\n               \"seriesOverrides\": [\n                  {\n                     \"alias\": \"Outbound\",\n                     \"transform\": \"negative-Y\"\n                  }\n               ],\n               \"spaceLength\": 10,\n               \"stack\": false,\n               \"steppedLine\": true,\n               \"targets\": [\n                  {\n                     \"calculatedInterval\": \"2s\",\n                     \"datasource\": \"Metrics\",\n                     \"datasourceErrors\": { },\n                     \"errors\": { },\n                     \"expr\": \"sum(rate(container_network_receive_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods/.*\\\"}[$interval]) or \\nirate(container_network_receive_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods/.*\\\"}[5m])) or\\nsum(rate(node_network_receive_bytes_total{node_name=\\\"$node_name\\\", device!=\\\"lo\\\"}[$interval])) or \\nsum(irate(node_network_receive_bytes_total{node_name=\\\"$node_name\\\", device!=\\\"lo\\\"}[5m])) or \\nsum(max_over_time(rdsosmetrics_network_rx{node_name=\\\"$node_name\\\"}[$interval])) or \\nsum(max_over_time(rdsosmetrics_network_rx{node_name=\\\"$node_name\\\"}[5m]))\",\n                     \"format\": \"time_series\",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"Inbound\",\n                     \"metric\": \"\",\n                     \"refId\": \"B\",\n                     \"step\": 300,\n                     \"target\": \"\"\n                  },\n                  {\n                     \"calculatedInterval\": \"2s\",\n                     \"datasource\": \"Metrics\",\n                     \"datasourceErrors\": { },\n                     \"errors\": { },\n                     \"expr\": \"sum(rate(container_network_transmit_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods/.*\\\"}[$interval]) or \\nirate(container_network_transmit_bytes_total{node_name=\\\"$node_name\\\",id=~\\\"/kubepods/.*\\\"}[5m])) or \\nsum(rate(node_network_transmit_bytes_total{node_name=\\\"$node_name\\\", device!=\\\"lo\\\"}[$interval])) or \\nsum(irate(node_network_transmit_bytes_total{node_name=\\\"$node_name\\\", device!=\\\"lo\\\"}[5m])) or\\nsum(max_over_time(rdsosmetrics_network_tx{node_name=\\\"$node_name\\\"}[$interval])) or \\nsum(max_over_time(rdsosmetrics_network_tx{node_name=\\\"$node_name\\\"}[5m]))\",\n                     \"format\": \"time_series\",\n                     \"interval\": \"$interval\",\n                     \"intervalFactor\": 1,\n                     \"legendFormat\": \"Outbound\",\n                     \"metric\": \"\",\n                     \"refId\": \"A\",\n                     \"step\": 300,\n                     \"target\": \"\"\n                  }\n               ],\n               \"thresholds\": [ ],\n               \"timeRegions\": [ ],\n               \"title\": \"Network Traffic - $node_name\",\n               \"tooltip\": {\n                  \"msResolution\": false,\n                  \"shared\": true,\n                  \"sort\": 5,\n                  \"value_type\": \"individual\"\n               },\n               \"type\": \"graph\",\n               \"xaxis\": {\n                  \"mode\": \"time\",\n                  \"show\": true,\n                  \"values\": [ ]\n               },\n               \"yaxes\": [\n                  {\n                     \"decimals\": 2,\n                     \"format\": \"Bps\",\n                     \"label\": \"Outbound (-) / Inbound (+)\",\n                     \"logBase\": 1,\n                     \"show\": true\n                  },\n                  {\n                     \"format\": \"bytes\",\n                     \"logBase\": 1,\n                     \"min\": 0,\n                     \"show\": false\n                  }\n               ],\n               \"yaxis\": {\n                  \"align\": false\n               }\n            }\n         ],\n         \"title\": \"Network Traffic\",\n         \"type\": \"row\"\n      }\n   ],\n   \"refresh\": \"\",\n   \"schemaVersion\": 37,\n   \"style\": \"dark\",\n   \"tags\": [\n      \"MongoDB_HA\",\n      \"Percona\"\n   ],\n   \"templating\": {\n      \"list\": [\n         {\n            \"allFormat\": \"glob\",\n            \"auto\": true,\n            \"auto_count\": 200,\n            \"auto_min\": \"1s\",\n            \"current\": {\n               \"selected\": false,\n               \"text\": \"auto\",\n               \"value\": \"$__auto_interval_interval\"\n            },\n            \"datasource\": \"$datasource\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Interval\",\n            \"multi\": false,\n            \"multiFormat\": \"glob\",\n            \"name\": \"interval\",\n            \"options\": [\n               {\n                  \"selected\": true,\n                  \"text\": \"auto\",\n                  \"value\": \"$__auto_interval_interval\"\n               },\n               {\n                  \"selected\": false,\n                  \"text\": \"1s\",\n                  \"value\": \"1s\"\n               },\n               {\n                  \"selected\": false,\n                  \"text\": \"5s\",\n                  \"value\": \"5s\"\n               },\n               {\n                  \"selected\": false,\n                  \"text\": \"1m\",\n                  \"value\": \"1m\"\n               },\n               {\n                  \"selected\": false,\n                  \"text\": \"5m\",\n                  \"value\": \"5m\"\n               },\n               {\n                  \"selected\": false,\n                  \"text\": \"1h\",\n                  \"value\": \"1h\"\n               },\n               {\n                  \"selected\": false,\n                  \"text\": \"6h\",\n                  \"value\": \"6h\"\n               },\n               {\n                  \"selected\": false,\n                  \"text\": \"1d\",\n                  \"value\": \"1d\"\n               }\n            ],\n            \"query\": \"1s,5s,1m,5m,1h,6h,1d\",\n            \"queryValue\": \"\",\n            \"refresh\": 2,\n            \"skipUrlSync\": false,\n            \"type\": \"interval\"\n         },\n         {\n            \"allValue\": \".*\",\n            \"current\": {\n               \"selected\": false,\n               \"text\": \"None\",\n               \"value\": \"\"\n            },\n            \"definition\": \"label_values({__name__=~\\\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\\\"}, environment)\",\n            \"hide\": 0,\n            \"includeAll\": true,\n            \"label\": \"Environment\",\n            \"multi\": false,\n            \"name\": \"environment\",\n            \"options\": [ ],\n            \"query\": {\n               \"query\": \"label_values({__name__=~\\\"pg_up|mysql_up|mongodb_up|proxysql_mysql_status_active_transactions\\\"}, environment)\",\n               \"refId\": \"Metrics-environment-Variable-Query\"\n            },\n            \"refresh\": 2,\n            \"regex\": \"\",\n            \"skipUrlSync\": false,\n            \"sort\": 5,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n         },\n         {\n            \"allFormat\": \"blob\",\n            \"allValue\": \".*\",\n            \"current\": {\n               \"selected\": false,\n               \"text\": \"\",\n               \"value\": \"\"\n            },\n            \"definition\": \"label_values(mongodb_mongod_replset_my_state{environment=~\\\"$environment\\\"},cluster)\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Cluster\",\n            \"multi\": false,\n            \"multiFormat\": \"glob\",\n            \"name\": \"cluster\",\n            \"options\": [ ],\n            \"query\": {\n               \"query\": \"label_values(mongodb_mongod_replset_my_state{environment=~\\\"$environment\\\"},cluster)\",\n               \"refId\": \"StandardVariableQuery\"\n            },\n            \"refresh\": 2,\n            \"regex\": \"\",\n            \"skipUrlSync\": false,\n            \"sort\": 5,\n            \"type\": \"query\",\n            \"useTags\": false\n         },\n         {\n            \"current\": {\n               \"selected\": false,\n               \"text\": \"\",\n               \"value\": \"\"\n            },\n            \"definition\": \"label_values(mongodb_mongod_replset_my_state{environment=~\\\"$environment\\\",cluster=~\\\"$cluster\\\"}, set)\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Replica Set\",\n            \"multi\": false,\n            \"name\": \"rs_nm\",\n            \"options\": [ ],\n            \"query\": {\n               \"query\": \"label_values(mongodb_mongod_replset_my_state{environment=~\\\"$environment\\\",cluster=~\\\"$cluster\\\"}, set)\",\n               \"refId\": \"StandardVariableQuery\"\n            },\n            \"refresh\": 1,\n            \"regex\": \"\",\n            \"skipUrlSync\": false,\n            \"sort\": 0,\n            \"type\": \"query\"\n         },\n         {\n            \"allFormat\": \"glob\",\n            \"current\": {\n               \"selected\": false,\n               \"text\": \"All\",\n               \"value\": \"$__all\"\n            },\n            \"definition\": \"label_values(mongodb_mongod_replset_my_state{environment=~\\\"$environment\\\",cluster=~\\\"$cluster\\\",set=~\\\"$rs_nm\\\"}, instance)\",\n            \"hide\": 0,\n            \"includeAll\": true,\n            \"label\": \"MongoDB Node\",\n            \"multi\": false,\n            \"multiFormat\": \"glob\",\n            \"name\": \"instance\",\n            \"options\": [ ],\n            \"query\": \"label_values(mongodb_mongod_replset_my_state{environment=~\\\"$environment\\\",cluster=~\\\"$cluster\\\",set=~\\\"$rs_nm\\\"}, instance)\",\n            \"refresh\": 2,\n            \"regex\": \"\",\n            \"skipUrlSync\": false,\n            \"sort\": 5,\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n         },\n         {\n            \"allFormat\": \"glob\",\n            \"current\": {\n               \"selected\": false,\n               \"text\": [\n                  \"All\"\n               ],\n               \"value\": [\n                  \"$__all\"\n               ]\n            },\n            \"definition\": \"label_values(mongodb_up{cluster=~\\\"$cluster\\\",instance=~\\\"$instance\\\"}, node_name)\",\n            \"hide\": 2,\n            \"includeAll\": true,\n            \"label\": \"Node Name\",\n            \"multi\": true,\n            \"name\": \"node_name\",\n            \"options\": [ ],\n            \"query\": \"label_values(mongodb_up{cluster=~\\\"$cluster\\\",instance=~\\\"$instance\\\"}, node_name)\",\n            \"refresh\": 2,\n            \"regex\": \"\",\n            \"skipUrlSync\": false,\n            \"sort\": 5,\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n         },\n         {\n            \"current\": {\n               \"selected\": false,\n               \"text\": \"All\",\n               \"value\": \"$__all\"\n            },\n            \"definition\": \"query_result(mongodb_mongod_replset_my_state{environment=~\\\"$environment\\\",cluster=~\\\"$cluster\\\",set=~\\\"$rs_nm\\\"}==2)\",\n            \"hide\": 2,\n            \"includeAll\": true,\n            \"multi\": true,\n            \"name\": \"secondary\",\n            \"options\": [ ],\n            \"query\": {\n               \"query\": \"query_result(mongodb_mongod_replset_my_state{environment=~\\\"$environment\\\",cluster=~\\\"$cluster\\\",set=~\\\"$rs_nm\\\"}==2)\",\n               \"refId\": \"StandardVariableQuery\"\n            },\n            \"refresh\": 1,\n            \"regex\": \"/.*service_name=\\\"(.*)\\\",service_type.*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 0,\n            \"type\": \"query\"\n         },\n         {\n            \"current\": {\n               \"selected\": \"false\",\n               \"text\": \"prometheus\",\n               \"value\": \"prometheus\"\n            },\n            \"hide\": 0,\n            \"includeAll\": \"false\",\n            \"label\": \"Datasource\",\n            \"multi\": \"false\",\n            \"name\": \"datasource\",\n            \"options\": [ ],\n            \"query\": \"prometheus\",\n            \"refresh\": 1,\n            \"regex\": \"\",\n            \"skipUrlSync\": \"false\",\n            \"type\": \"datasource\"\n         }\n      ]\n   },\n   \"time\": {\n      \"from\": \"now-12h\",\n      \"to\": \"now\"\n   },\n   \"timepicker\": {\n      \"hidden\": false,\n      \"now\": true,\n      \"refresh_intervals\": [\n         \"1s\",\n         \"5s\",\n         \"1m\",\n         \"5m\",\n         \"1h\",\n         \"6h\",\n         \"1d\"\n      ],\n      \"time_options\": [\n         \"5m\",\n         \"15m\",\n         \"1h\",\n         \"6h\",\n         \"12h\",\n         \"24h\",\n         \"2d\",\n         \"7d\",\n         \"30d\"\n      ]\n   },\n   \"timezone\": \"browser\",\n   \"title\": \"MongoDB ReplSet Summary\",\n   \"uid\": \"mongodb-replicaset-summary\",\n   \"version\": 1,\n   \"weekStart\": \"\"\n}\n"
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: replicaset-summary-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  sealed-secrets-controller.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
             }
          ]
       },
       "description": "Sealed Secrets Controller",
       "editable": true,
       "gnetId": null,
       "graphTooltip": 0,
       "id": 3,
       "iteration": 1585599163503,
       "links": [
          {
             "icon": "external link",
             "tags": [ ],
             "title": "GitHub",
             "tooltip": "View Project on GitHub",
             "type": "link",
             "url": "https://github.com/bitnami-labs/sealed-secrets"
          }
       ],
       "panels": [
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Rate of requests to unseal a SealedSecret.\n\nThis can include non-obvious operations such as deleting a SealedSecret.",
             "fill": 1,
             "fillGradient": 0,
             "gridPos": {
                "h": 9,
                "w": 12,
                "x": 0,
                "y": 0
             },
             "hiddenSeries": false,
             "id": 2,
             "legend": {
                "avg": true,
                "current": false,
                "max": true,
                "min": true,
                "show": true,
                "total": false,
                "values": true
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "null",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum(rate(sealed_secrets_controller_unseal_requests_total{}[1m]))",
                   "format": "time_series",
                   "instant": false,
                   "intervalFactor": 1,
                   "legendFormat": "rps",
                   "refId": "A"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Unseal Request Rate/s",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          },
          {
             "aliasColors": { },
             "bars": false,
             "dashLength": 10,
             "dashes": false,
             "datasource": "$datasource",
             "description": "Rate of errors when unsealing a SealedSecret. \n\nReason for error included as label value, eg:\n- unseal = cryptography issue (key/namespace) or RBAC\n- unmanaged = destination Secret wasn't created by SealedSecrets\n- update = potentially RBAC\n- status = potentially RBAC\n- fetch = potentially RBAC\n",
             "fill": 1,
             "fillGradient": 0,
             "gridPos": {
                "h": 9,
                "w": 12,
                "x": 12,
                "y": 0
             },
             "hiddenSeries": false,
             "id": 3,
             "legend": {
                "avg": false,
                "current": false,
                "hideEmpty": false,
                "hideZero": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
             },
             "lines": true,
             "linewidth": 1,
             "links": [ ],
             "nullPointMode": "null as zero",
             "options": {
                "dataLinks": [ ]
             },
             "percentage": false,
             "pointradius": 2,
             "points": false,
             "renderer": "flot",
             "seriesOverrides": [ ],
             "spaceLength": 10,
             "stack": false,
             "steppedLine": false,
             "targets": [
                {
                   "expr": "sum(rate(sealed_secrets_controller_unseal_errors_total{pod=~\"$pod\"}[1m])) by (reason)",
                   "format": "time_series",
                   "intervalFactor": 1,
                   "legendFormat": "{{`{{reason}}`}}",
                   "refId": "A"
                }
             ],
             "thresholds": [ ],
             "timeFrom": null,
             "timeRegions": [ ],
             "timeShift": null,
             "title": "Unseal Error Rate/s",
             "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
             },
             "type": "graph",
             "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": [ ]
             },
             "yaxes": [
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                },
                {
                   "format": "short",
                   "label": null,
                   "logBase": 1,
                   "max": null,
                   "min": null,
                   "show": true
                }
             ],
             "yaxis": {
                "align": false,
                "alignLevel": null
             }
          }
       ],
       "refresh": false,
       "schemaVersion": 22,
       "style": "dark",
       "tags": [ ],
       "templating": {
          "list": [
             {
                "current": {
                   "text": "prometheus",
                   "value": "prometheus"
                },
                "hide": 0,
                "includeAll": false,
                "label": null,
                "multi": false,
                "name": "datasource",
                "options": [ ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "type": "datasource"
             },
             {
                "allValue": null,
                "current": {
                   "selected": false,
                   "text": "All",
                   "value": "$__all"
                },
                "datasource": "$datasource",
                "definition": "label_values(kube_pod_info, pod)",
                "hide": 0,
                "includeAll": true,
                "label": null,
                "multi": false,
                "name": "pod",
                "options": [ ],
                "query": "label_values(kube_pod_info, pod)",
                "refresh": 1,
                "regex": "/^sealed-secrets-controller.*$/",
                "skipUrlSync": false,
                "sort": 0,
                "tagValuesQuery": "",
                "tags": [ ],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             }
          ]
       },
       "time": {
          "from": "now-1h",
          "to": "now"
       },
       "timepicker": {
          "refresh_intervals": [
             "5s",
             "10s",
             "30s",
             "1m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ],
          "time_options": [
             "5m",
             "15m",
             "1h",
             "6h",
             "12h",
             "24h",
             "2d",
             "7d",
             "30d"
          ]
       },
       "timezone": "",
       "title": "Sealed Secrets Controller",
       "uid": "UuEtZCVWz",
       "version": 2
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: sealed-secrets-controller-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
---
apiVersion: v1
data:
  sonarr.json: |
    {
       "annotations": {
          "list": [
             {
                "builtIn": 1,
                "datasource": {
                   "type": "grafana"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "target": {
                   "limit": 100,
                   "matchAny": false,
                   "tags": [ ],
                   "type": "dashboard"
                },
                "type": "dashboard"
             }
          ]
       },
       "description": "Sonarr Dashboard",
       "editable": true,
       "fiscalYearStartMonth": 0,
       "graphTooltip": 0,
       "id": 30,
       "links": [ ],
       "liveNow": false,
       "panels": [
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Status of Radarr",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "thresholds"
                   },
                   "mappings": [
                      {
                         "options": {
                            "0": {
                               "color": "red",
                               "index": 1,
                               "text": "Offline"
                            },
                            "1": {
                               "color": "#2193b5",
                               "index": 0,
                               "text": "Online"
                            }
                         },
                         "type": "value"
                      },
                      {
                         "options": {
                            "match": "null",
                            "result": {
                               "color": "red",
                               "index": 2,
                               "text": "Offline"
                            }
                         },
                         "type": "special"
                      }
                   ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 7,
                "x": 0,
                "y": 0
             },
             "id": 2,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "sonarr_system_status",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Status",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of total episodes available on Sonarr",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#2193b5",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 7,
                "x": 7,
                "y": 0
             },
             "id": 4,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "sonarr_episode_downloaded_total",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Downloaded Episodes",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of episodes released, but not yet downloaded",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#2193b5",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 1
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 14,
                "y": 0
             },
             "id": 6,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "sonarr_episode_missing_total",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Missing Episodes",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of episodes in the queue",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "noValue": "0",
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#2193b5",
                            "value": null
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 17,
                "y": 0
             },
             "id": 11,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "sonarr_queue_total",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Queue",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of episodes that have an issue",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "noValue": "0",
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#2193b5",
                            "value": null
                         },
                         {
                            "color": "red",
                            "value": 1
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 20,
                "y": 0
             },
             "id": 15,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "sonarr_queue_total{download_status=\"warning\"}",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Issues",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of series' being watched",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#ffc230",
                      "mode": "thresholds"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "#2193b5",
                            "value": null
                         }
                      ]
                   }
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 0,
                "y": 5
             },
             "id": 16,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "sonarr_series_monitored_total",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Watched Series",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of episodes downloaded in the past week",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#2193b5",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 3,
                "y": 5
             },
             "id": 13,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(increase(sonarr_episode_downloaded_total[7d]))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "D/L Past Week",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Number of episodes downloaded in the past month",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#2193b5",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "none"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 3,
                "x": 6,
                "y": 5
             },
             "id": 14,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "code",
                   "exemplar": false,
                   "expr": "sum(increase(sonarr_episode_downloaded_total[30d]))",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "D/L Past Month",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Free space remaining in the download directory",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#2193b5",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "decbytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 7,
                "x": 9,
                "y": 5
             },
             "id": 10,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "center",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "sum by(path) (sonarr_rootfolder_freespace_bytes)",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Free space",
             "type": "stat"
          },
          {
             "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
             },
             "description": "Total filesize of all series",
             "fieldConfig": {
                "defaults": {
                   "color": {
                      "fixedColor": "#2193b5",
                      "mode": "fixed"
                   },
                   "mappings": [ ],
                   "thresholds": {
                      "mode": "absolute",
                      "steps": [
                         {
                            "color": "green",
                            "value": null
                         }
                      ]
                   },
                   "unit": "decbytes"
                },
                "overrides": [ ]
             },
             "gridPos": {
                "h": 5,
                "w": 7,
                "x": 16,
                "y": 5
             },
             "id": 8,
             "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "reduceOptions": {
                   "calcs": [
                      "lastNotNull"
                   ],
                   "fields": "",
                   "values": false
                },
                "textMode": "auto"
             },
             "pluginVersion": "9.3.1",
             "targets": [
                {
                   "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                   },
                   "editorMode": "builder",
                   "exemplar": false,
                   "expr": "sonarr_series_filesize_bytes",
                   "instant": true,
                   "legendFormat": "__auto",
                   "range": false,
                   "refId": "A"
                }
             ],
             "title": "Size",
             "type": "stat"
          }
       ],
       "schemaVersion": 37,
       "style": "dark",
       "tags": [
          "mediaserver",
          "sonarr"
       ],
       "templating": {
          "list": [
             {
                "current": {
                   "selected": false,
                   "text": "Prometheus",
                   "value": "Prometheus"
                },
                "hide": 0,
                "includeAll": false,
                "multi": false,
                "name": "datasource",
                "options": [ ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "type": "datasource"
             }
          ]
       },
       "time": {
          "from": "now-6h",
          "to": "now"
       },
       "timepicker": { },
       "timezone": "",
       "title": "Sonarr",
       "uid": "ddAGlhA4k",
       "version": 2,
       "weekStart": ""
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: sonarr-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
