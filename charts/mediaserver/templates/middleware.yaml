apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: mylarr-oidc
  namespace: mediaserver
spec:
  plugin:
    traefik-oidc-auth:
      Secret: PMYZT3D2J4da20RsSIMMZaArKI6d3pxt
      Provider:
        Url: https://login.int.imdevinc.com
        ClientId: 6c52549b-11a5-45e7-b346-48c36e7c674b
        ClientSecret: urn:k8s:secret:mylarr-pocket-id-creds:client-secret
        TokenValidation: IdToken
      Scopes: [openid, profile, email, groups]
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: mylarr-basic-auth
  namespace: mediaserver
spec:
  headers:
    customRequestHeaders:
      Authorization: urn:k8s:secret:mylarr-pocket-id-creds:basic-auth
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: mylarr-pocket-id-creds
  namespace: mediaserver
spec:
  encryptedData:
    basic-auth: AgA9uIfBJeGBM9wd7X4aWXJPNr9saa8E9l641kPRPdypM4cme3HPnD9MeyQ7CJ81Ksty2ZR305E2F4ISmHjAovOfdrwCS5afTBxJSwDrfRBg7f1LSr8YNsEccBEWJTwrRZh4A43NLQddHHTDSAksHzc2l/VNGw0/CdnTwicFBhi4u4NsVYFhiit5C0n8Hs4tGhl+uYcfcl/dwqNx7i8O8ADl9WMXeKGv8Kh5p/j1x61sZvAQ3pyAp86P+VwCpNPcjD1C60KMaZXk3V6a2S6RLS+vmVoV2MkdU5KOOnVBtMtnvBVWzWSej4bbTYh0laq9S4UCO+K/udIff+uCBFMfeXr3Cw+J7rnMdpuee4/SOD6wfJ/CSM1GH1D55u3Jd/BoOq7CrglK2g8MTfiKX1d3yuTGfXSJD0xfQp9Fgf5ToUk/edM7aC+1/HcPinRSkqfxUuHbvXvxuXRX4m6i8HCgyrbmI9ChOPzGlHBXN2l1LGu0QxACynh8tZ1t0iMnInWuauOsPEy1LsetycZolVgre25q8QBEeBK6NNncgZ0699G38G5jx+70RErKlwlhbPTXhOgnSPzEbRgcjrERVePKhtU3AKYM29Y2ABBMK7e6fAIThrzUAs/nF3Stm6Wl/QpI5TogUY+EHCuz/ZYsjKanpp18ad3tA7j3lVUgjOLUgc6QUxNU5x24GPBn4QDdDCL5S5HY6nY1WcERgv9lJtrSb2UQuAbaP3Ag1UeLwT1FMXMhWPU9
    client-secret: AgDLgDiEEzB2yEHImOMRrNbnvQu9yydR6k9K3QfWz/5/duCuJ1ciQf6miMV0Wy1iFNhVyr4qQcv9JAU1/MD+H36kqFWgUQzo2pLID/Nvfxif7F/yRSKh2XaI6SWL3Hj+MEbAYtvgO9VAjrfdzSn5LbXgOjduh1S+jGA60bBDWUy4Jv2UjSDICoQ2rFe8ZyRKCrqXWtt4EDh2hF3WWUgUCXr00wz8/A+9W+zmgvm2uwGsxo06COCaAO3BnbycSynt3BLIdooJ5CwB0D/NWbu1W6NM2H6+soh27fGNZGVerEfca08BCoeuGh4g0fd+m4ru/NNgDP7wbF3bjh/cNAQIJAM2uODOvS9L4Vm6t00SdjenN/12Ze2tj8Dtb7KKaZJyJZkUgBiOtoBSTe+5gqQnu9MpUk0qLaOt1RWMivhrq8lNm/+ykUAeuNkkm1cspIsW+l7JPfYz/0C5bj05VQi+lE6EsrthpzAlzLEW/BbLTGtsY1TZ6s4zx+sYCmQ3wKr3Hvp+tqAenB/lg/RFFT8nllDyVRmZxV7oZvrd7Ms4QyAiYlLxdZlChCGgsTqeI1CLewMD6CnE19SRnFWRsLdD3Kv+DFbvw24BkZAiX801YOe6mR76fDnZFgIIuZKlK8pUOql1B7L6Uw34oGbQUgDUI5EEbe7dIQrAwsc30ZjMriD+LheMpfTqKs1NEAXAKs7vT1bxPXWN6Wd2VzJ/n1fbtkTkyqXhDDm9edCy3cwfvNuAhQ==
  template:
    metadata:
      creationTimestamp: null
      name: mylarr-pocket-id-creds
      namespace: mediaserver
