argo-cd:
  global:
    domain: argo.collins.home
  dex:
    enabled: false
  configs:
    cm:
      create: true
      oidc.config: |
        name: Authentik
        issuer: http://authentik.collins.home
        clientID: $authentik-creds:oidc.authentik.client_id
        clientSecret: $authentik-creds:oidc.authentik.client_secret
  server:
    ingress:
      enabled: true
      ingressClassName: nginx
      hostname: argo.collins.home
    extraArgs:
      - --insecure
    metrics:
      enabled: true
      serviceMonitor:
        enabled: true
    secret:
      create: false
  repoServer:
    env:
      - name: ARGOCD_GPG_ENABLED
        value: 'false'
    containerSecurityContext:
      seccompProfile:
        type: Unconfined
